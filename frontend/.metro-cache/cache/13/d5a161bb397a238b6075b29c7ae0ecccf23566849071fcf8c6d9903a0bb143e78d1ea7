{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":184},"end":{"line":6,"column":69,"index":253}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return b}}),Object.defineProperty(_e,\"authAPI\",{enumerable:!0,get:function(){return c}}),Object.defineProperty(_e,\"roomAPI\",{enumerable:!0,get:function(){return u}}),Object.defineProperty(_e,\"ticketAPI\",{enumerable:!0,get:function(){return y}}),Object.defineProperty(_e,\"walletAPI\",{enumerable:!0,get:function(){return l}}),Object.defineProperty(_e,\"gameAPI\",{enumerable:!0,get:function(){return f}});var e,t=r(d[0]),o=(e=t)&&e.__esModule?e:{default:e};function n(e){if(!e)return null;try{return JSON.parse(e)}catch{return console.log('Non JSON Response:',e),{success:!1,message:e}}}const s=async(e,t={})=>{const s=await o.default.getItem('auth_token'),c={'Content-Type':'application/json',...t.headers};s&&(c.Authorization=`Bearer ${s}`);const u=new AbortController,y=setTimeout(()=>u.abort(),3e4);try{const s=await fetch(`https://tambola-jqjo.onrender.com/api${e}`,{...t,headers:c,signal:u.signal});clearTimeout(y);const l=await s.text();if('Internal Server Error'===(l||'').trim())return console.log('API received plain \"Internal Server Error\" \\u2013 returning success: false'),{success:!1,message:'Internal Server Error'};const f=n(l);if(null===f)return{success:!1,message:'Empty response'};if(!s.ok){if(401===s.status)throw await o.default.removeItem('auth_token'),await o.default.removeItem('user_data'),new Error('Unauthorized');throw new Error(f&&f.message||`Server Error (${s.status})`)}return f}catch(e){if('AbortError'===e.name)throw new Error('Network timeout. Server took too long to respond.');throw e}},c={signup:async e=>s('/auth/signup',{method:'POST',body:JSON.stringify(e)}),login:async e=>s('/auth/login',{method:'POST',body:JSON.stringify(e)}),getProfile:async()=>s('/auth/profile'),updateProfile:async e=>s('/auth/profile',{method:'PUT',body:JSON.stringify(e)})},u={getRooms:async e=>{const t=new URLSearchParams(e).toString();return s(\"/rooms\"+(t?`?${t}`:''))},createRoom:async e=>s('/rooms/create',{method:'POST',body:JSON.stringify(e)}),getRoom:async e=>s(`/rooms/${e}`),getRoomTickets:async e=>s(`/rooms/${e}/tickets`),setRoomAdminTicket:async(e,t)=>s(`/rooms/${e}/admin-ticket?ticket_id=${encodeURIComponent(t)}`,{method:'PUT'}),joinRoom:async(e,t)=>s(`/rooms/${e}/join`,{method:'POST',body:JSON.stringify({room_id:e,password:t})})},y={buyTickets:async(e,t)=>s('/tickets/buy',{method:'POST',body:JSON.stringify({room_id:e,quantity:t})}),getMyTickets:async e=>s(`/tickets/my-tickets/${e}`)},l={getBalance:async()=>s('/wallet/balance'),addMoney:async(e,t=\"razorpay\")=>s('/wallet/add-money',{method:'POST',body:JSON.stringify({amount:e,payment_method:t})}),getTransactions:async()=>s('/wallet/transactions')},f={startGame:async e=>s(`/game/${e}/start`,{method:'POST'}),callNumber:async(e,t)=>s(`/game/${e}/call-number`,{method:'POST',body:JSON.stringify({number:t})}),claimPrize:async(e,t,o)=>s(`/game/${e}/claim`,{method:'POST',body:JSON.stringify({ticket_id:t,prize_type:o})})};var b=s});","lineCount":1,"map":[[1,92,240,0,"Object"],[1,99,240,0,"defineProperty"],[1,114,240,0,"_e"],[1,117,240,0],[1,128,240,0,"enumerable"],[1,140,240,0],[1,142,240,0,"get"],[1,146,240,0],[1,164,240,0,"_default"],[1,165,240,0],[1,169,83,0,"Object"],[1,176,83,0,"defineProperty"],[1,191,83,0,"_e"],[1,194,83,0],[1,205,83,0,"enumerable"],[1,217,83,0],[1,219,83,0,"get"],[1,223,83,0],[1,241,83,0,"authAPI"],[1,242,83,0],[1,246,120,0,"Object"],[1,253,120,0,"defineProperty"],[1,268,120,0,"_e"],[1,271,120,0],[1,282,120,0,"enumerable"],[1,294,120,0],[1,296,120,0,"get"],[1,300,120,0],[1,318,120,0,"roomAPI"],[1,319,120,0],[1,323,177,0,"Object"],[1,330,177,0,"defineProperty"],[1,345,177,0,"_e"],[1,348,177,0],[1,361,177,0,"enumerable"],[1,373,177,0],[1,375,177,0,"get"],[1,379,177,0],[1,397,177,0,"ticketAPI"],[1,398,177,0],[1,402,194,0,"Object"],[1,409,194,0,"defineProperty"],[1,424,194,0,"_e"],[1,427,194,0],[1,440,194,0,"enumerable"],[1,452,194,0],[1,454,194,0,"get"],[1,458,194,0],[1,476,194,0,"walletAPI"],[1,477,194,0],[1,481,215,0,"Object"],[1,488,215,0,"defineProperty"],[1,503,215,0,"_e"],[1,506,215,0],[1,517,215,0,"enumerable"],[1,529,215,0],[1,531,215,0,"get"],[1,535,215,0],[1,553,215,0,"gameAPI"],[1,554,215,0],[1,558,6,0],[1,562],[1,564,6,0,"_reactNativeAsyncStorageAsyncStorage"],[1,566,6,0,"r"],[1,568,6,0,"d"],[1,570,6,0],[1,574,6,0,"AsyncStorage"],[1,577],[1,579,6,0,"_reactNativeAsyncStorageAsyncStorage"],[1,583],[1,610,16,0],[1,619,16,9,"safeParseResponseBody"],[1,621,16,31,"text"],[1,624,17,2],[1,628,17,7,"text"],[1,630,17,13],[1,637,17,20],[1,642,18,2],[1,646,19,4],[1,653,19,11,"JSON"],[1,658,19,16,"parse"],[1,664,19,22,"text"],[1,666,20,2],[1,667,20,4],[1,673,22,4],[1,680,21,4,"console"],[1,688,21,12,"log"],[1,692,21,16],[1,713,21,38,"text"],[1,716,22,11],[1,717,22,13,"success"],[1,726,22,22],[1,728,22,29,"message"],[1,736,22,38,"text"],[1,738,23,2],[1,739,24,0],[1,740,27,0],[1,746,27,6,"apiFetch"],[1,748,27,17,"async"],[1,754,27,24,"endpoint"],[1,756,27,42,"options"],[1,758,27,65],[1,759,27,66],[1,764,28,2],[1,770,28,8,"token"],[1,778,28,22,"AsyncStorage"],[1,780,28,34,"default"],[1,788,28,35,"getItem"],[1,796,28,43],[1,810,30,8,"headers"],[1,812,30,42],[1,813,31,4],[1,828,31,20],[1,850,32,8,"options"],[1,852,32,16,"headers"],[1,861,35,6,"token"],[1,865,36,4,"headers"],[1,867,36,12,"Authorization"],[1,881,36,28],[1,891,36,38,"token"],[1,896,39,2],[1,902,39,8,"controller"],[1,904,39,21],[1,908,39,25,"AbortController"],[1,924,40,8,"timeoutId"],[1,926,40,20,"setTimeout"],[1,937,40,31],[1,941,40,37,"controller"],[1,943,40,48,"abort"],[1,951,40,57],[1,956,42,2],[1,960,43,4],[1,966,43,10,"response"],[1,974,43,27,"fetch"],[1,980,43,33],[1,1020,43,46,"endpoint"],[1,1024,43,58],[1,1028,44,9,"options"],[1,1030,45,6,"headers"],[1,1040,46,6,"signal"],[1,1047,46,14,"controller"],[1,1049,46,25,"signal"],[1,1058,49,4,"clearTimeout"],[1,1071,49,17,"timeoutId"],[1,1074,51,4],[1,1080,51,10,"text"],[1,1088,51,23,"response"],[1,1090,51,32,"text"],[1,1097,54,4],[1,1100,54,24],[1,1127,52,25,"text"],[1,1130,52,33],[1,1134,52,37,"trim"],[1,1141,56,6],[1,1148,55,6,"console"],[1,1156,55,14,"log"],[1,1160,55,18],[1,1238,56,13],[1,1239,56,15,"success"],[1,1248,56,24],[1,1250,56,31,"message"],[1,1258,56,40],[1,1283,59,4],[1,1289,59,10,"data"],[1,1291,59,17,"safeParseResponseBody"],[1,1293,59,39,"text"],[1,1296,60,4],[1,1299,60,17],[1,1306,60,8,"data"],[1,1308,61,6],[1,1314,61,13],[1,1315,61,15,"success"],[1,1324,61,24],[1,1326,61,31,"message"],[1,1334,61,40],[1,1352,64,4],[1,1356,64,9,"response"],[1,1358,64,18,"ok"],[1,1361,64,22],[1,1362,65,6],[1,1365,65,30],[1,1371,65,10,"response"],[1,1373,65,19,"status"],[1,1380,68,8],[1,1392,66,14,"AsyncStorage"],[1,1394,66,26,"default"],[1,1402,66,27,"removeItem"],[1,1413,66,38],[1,1433,67,14,"AsyncStorage"],[1,1435,67,26,"default"],[1,1443,67,27,"removeItem"],[1,1454,67,38],[1,1467,68,14],[1,1471,68,18,"Error"],[1,1477,68,24],[1,1493,70,6],[1,1499,70,12],[1,1503,70,16,"Error"],[1,1509,70,23,"data"],[1,1512,70,31,"data"],[1,1514,70,36,"message"],[1,1523,70,48],[1,1540,70,65,"response"],[1,1542,70,74,"status"],[1,1552,71,4],[1,1553,73,4],[1,1560,73,11,"data"],[1,1561,74,2],[1,1562,74,4],[1,1568,74,11,"error"],[1,1571,75,4],[1,1574,75,23],[1,1589,75,8,"error"],[1,1591,75,14,"name"],[1,1596,76,6],[1,1602,76,12],[1,1606,76,16,"Error"],[1,1612,76,22],[1,1665,78,4],[1,1671,78,10,"error"],[1,1672,79,2],[1,1675,83,13,"authAPI"],[1,1677,83,23],[1,1678,84,2,"signup"],[1,1685,84,10,"async"],[1,1694,90,11,"apiFetch"],[1,1696,90,20],[1,1711,90,36],[1,1712,91,6,"method"],[1,1719,91,14],[1,1726,92,6,"body"],[1,1731,92,12,"JSON"],[1,1736,92,17,"stringify"],[1,1746,92,27,"data"],[1,1751,96,2,"login"],[1,1757,96,9,"async"],[1,1766,97,11,"apiFetch"],[1,1768,97,20],[1,1782,97,35],[1,1783,98,6,"method"],[1,1790,98,14],[1,1797,99,6,"body"],[1,1802,99,12,"JSON"],[1,1807,99,17,"stringify"],[1,1817,99,27,"data"],[1,1822,103,2,"getProfile"],[1,1833,103,14,"async"],[1,1842,104,11,"apiFetch"],[1,1844,104,20],[1,1861,107,2,"updateProfile"],[1,1875,107,17,"async"],[1,1884,112,11,"apiFetch"],[1,1886,112,20],[1,1902,112,37],[1,1903,113,6,"method"],[1,1910,113,14],[1,1916,114,6,"body"],[1,1921,114,12,"JSON"],[1,1926,114,17,"stringify"],[1,1936,114,27,"data"],[1,1942,120,13,"roomAPI"],[1,1944,120,23],[1,1945,121,2,"getRooms"],[1,1954,121,12,"async"],[1,1964,125,4],[1,1970,125,10,"params"],[1,1972,125,19],[1,1976,125,23,"URLSearchParams"],[1,1992,125,39,"filters"],[1,1995,125,55,"toString"],[1,2006,126,4],[1,2013,126,11,"apiFetch"],[1,2015,126,20],[1,2025,126,29,"params"],[1,2027,126,38],[1,2031,126,42,"params"],[1,2035,126,53],[1,2041,129,2,"createRoom"],[1,2052,129,14,"async"],[1,2061,143,11,"apiFetch"],[1,2063,143,20],[1,2079,143,37],[1,2080,144,6,"method"],[1,2087,144,14],[1,2094,145,6,"body"],[1,2099,145,12,"JSON"],[1,2104,145,17,"stringify"],[1,2114,145,27,"data"],[1,2119,149,2,"getRoom"],[1,2127,149,11,"async"],[1,2136,150,11,"apiFetch"],[1,2138,150,20],[1,2148,150,30,"roomId"],[1,2153,154,2,"getRoomTickets"],[1,2168,154,18,"async"],[1,2177,155,11,"apiFetch"],[1,2179,155,20],[1,2189,155,30,"roomId"],[1,2202,159,2,"setRoomAdminTicket"],[1,2221,159,22,"async"],[1,2227,159,29,"roomId"],[1,2229,159,45,"ticketId"],[1,2233,160,11,"apiFetch"],[1,2235,160,20],[1,2245,160,30,"roomId"],[1,2273,160,63,"encodeURIComponent"],[1,2292,160,82,"ticketId"],[1,2297,160,95],[1,2298,161,6,"method"],[1,2305,161,14],[1,2313,165,2,"joinRoom"],[1,2322,165,12,"async"],[1,2328,165,19,"roomId"],[1,2330,165,35,"password"],[1,2334,166,11,"apiFetch"],[1,2336,166,20],[1,2346,166,30,"roomId"],[1,2355,166,45],[1,2356,167,6,"method"],[1,2363,167,14],[1,2370,168,6,"body"],[1,2375,168,12,"JSON"],[1,2380,168,17,"stringify"],[1,2390,168,27],[1,2391,169,8,"room_id"],[1,2399,169,17,"roomId"],[1,2401,170,8,"password"],[1,2417,177,13,"ticketAPI"],[1,2419,177,25],[1,2420,178,2,"buyTickets"],[1,2431,178,14,"async"],[1,2437,178,21,"roomId"],[1,2439,178,37,"quantity"],[1,2443,179,11,"apiFetch"],[1,2445,179,20],[1,2460,179,36],[1,2461,180,6,"method"],[1,2468,180,14],[1,2475,181,6,"body"],[1,2480,181,12,"JSON"],[1,2485,181,17,"stringify"],[1,2495,181,27],[1,2496,182,8,"room_id"],[1,2504,182,17,"roomId"],[1,2506,183,8,"quantity"],[1,2521,188,2,"getMyTickets"],[1,2534,188,16,"async"],[1,2543,189,11,"apiFetch"],[1,2545,189,20],[1,2568,189,43,"roomId"],[1,2574,194,13,"walletAPI"],[1,2576,194,25],[1,2577,195,2,"getBalance"],[1,2588,195,14,"async"],[1,2597,196,11,"apiFetch"],[1,2599,196,20],[1,2618,199,2,"addMoney"],[1,2627,199,12,"async"],[1,2633,199,19,"amount"],[1,2635,199,35,"paymentMethod"],[1,2637,199,59],[1,2650,200,11,"apiFetch"],[1,2652,200,20],[1,2672,200,41],[1,2673,201,6,"method"],[1,2680,201,14],[1,2687,202,6,"body"],[1,2692,202,12,"JSON"],[1,2697,202,17,"stringify"],[1,2707,202,27],[1,2708,203,8,"amount"],[1,2717,204,8,"payment_method"],[1,2732,204,24,"paymentMethod"],[1,2738,209,2,"getTransactions"],[1,2754,209,19,"async"],[1,2763,210,11,"apiFetch"],[1,2765,210,20],[1,2790,215,13,"gameAPI"],[1,2792,215,23],[1,2793,216,2,"startGame"],[1,2803,216,13,"async"],[1,2812,217,11,"apiFetch"],[1,2814,217,20],[1,2823,217,29,"roomId"],[1,2833,217,45],[1,2834,218,6,"method"],[1,2841,218,14],[1,2850,222,2,"callNumber"],[1,2861,222,14,"async"],[1,2867,222,21,"roomId"],[1,2869,222,37,"number"],[1,2873,223,11,"apiFetch"],[1,2875,223,20],[1,2884,223,29,"roomId"],[1,2900,223,51],[1,2901,224,6,"method"],[1,2908,224,14],[1,2915,225,6,"body"],[1,2920,225,12,"JSON"],[1,2925,225,17,"stringify"],[1,2935,225,27],[1,2936,225,29,"number"],[1,2949,229,2,"claimPrize"],[1,2960,229,14,"async"],[1,2966,229,21,"roomId"],[1,2968,229,37,"ticketId"],[1,2970,229,55,"prizeType"],[1,2974,230,11,"apiFetch"],[1,2976,230,20],[1,2985,230,29,"roomId"],[1,2995,230,45],[1,2996,231,6,"method"],[1,3003,231,14],[1,3010,232,6,"body"],[1,3015,232,12,"JSON"],[1,3020,232,17,"stringify"],[1,3030,232,27],[1,3031,233,8,"ticket_id"],[1,3041,233,19,"ticketId"],[1,3043,234,8,"prize_type"],[1,3054,234,20,"prizeType"],[1,3061,240,0],[1,3065,240,0,"_default"],[1,3067,240,15,"apiFetch"],[1,3068,240,24],[1,3071]],"functionMap":{"names":["<global>","safeParseResponseBody","apiFetch","setTimeout$argument_0","authAPI.signup","authAPI.login","authAPI.getProfile","authAPI.updateProfile","roomAPI.getRooms","roomAPI.createRoom","roomAPI.getRoom","roomAPI.getRoomTickets","roomAPI.setRoomAdminTicket","roomAPI.joinRoom","ticketAPI.buyTickets","ticketAPI.getMyTickets","walletAPI.getBalance","walletAPI.addMoney","walletAPI.getTransactions","gameAPI.startGame","gameAPI.callNumber","gameAPI.claimPrize"],"mappings":"AAA;ACe;CDQ;iBEG;+BCa,wBD;CFwC;UII;GJU;SKE;GLK;cME;GNE;iBOE;GPS;YQK;GRM;cSE;GTkB;WUE;GVE;kBWG;GXE;sBYG;GZI;YaE;GbQ;ccK;GdQ;gBeE;GfE;cgBK;GhBE;YiBE;GjBQ;mBkBE;GlBE;amBK;GnBI;coBE;GpBK;cqBE;GrBQ"},"hasCjsExports":false},"type":"js/module"}]}