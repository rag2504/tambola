{"dependencies":[{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":53,"index":68}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"rubberBandDecay\", {\n    enumerable: true,\n    get: function () {\n      return rubberBandDecay;\n    }\n  });\n  var _utils = require(_dependencyMap[0]);\n  const DERIVATIVE_EPS = 0.1;\n  const _worklet_14399050053045_init_data = {\n    code: \"function rubberBandDecay_rubberBandDecayJs1(animation,now,config){const{SLOPE_FACTOR,DERIVATIVE_EPS,VELOCITY_EPS}=this.__closure;const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const clampIndex=Math.abs(current-config.clamp[0])<Math.abs(current-config.clamp[1])?0:1;let derivative=0;if(current<config.clamp[0]||current>config.clamp[1]){derivative=current-config.clamp[clampIndex];}const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR)-derivative*config.rubberBandFactor;if(Math.abs(derivative)>DERIVATIVE_EPS){animation.springActive=true;}else if(animation.springActive){animation.current=config.clamp[clampIndex];return true;}else if(Math.abs(v)<VELOCITY_EPS){return true;}animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;return false;}\"\n  };\n  const rubberBandDecay = function rubberBandDecay_rubberBandDecayJs1Factory({\n    _worklet_14399050053045_init_data,\n    SLOPE_FACTOR,\n    DERIVATIVE_EPS,\n    VELOCITY_EPS\n  }) {\n    const rubberBandDecay = function (animation, now, config) {\n      const {\n        lastTimestamp,\n        startTimestamp,\n        current,\n        velocity\n      } = animation;\n      const deltaTime = Math.min(now - lastTimestamp, 64);\n      const clampIndex = Math.abs(current - config.clamp[0]) < Math.abs(current - config.clamp[1]) ? 0 : 1;\n      let derivative = 0;\n      if (current < config.clamp[0] || current > config.clamp[1]) {\n        derivative = current - config.clamp[clampIndex];\n      }\n      const v = velocity * Math.exp(-(1 - config.deceleration) * (now - startTimestamp) * SLOPE_FACTOR) - derivative * config.rubberBandFactor;\n      if (Math.abs(derivative) > DERIVATIVE_EPS) {\n        animation.springActive = true;\n      } else if (animation.springActive) {\n        animation.current = config.clamp[clampIndex];\n        return true;\n      } else if (Math.abs(v) < VELOCITY_EPS) {\n        return true;\n      }\n      animation.current = current + v * config.velocityFactor * deltaTime / 1000;\n      animation.velocity = v;\n      animation.lastTimestamp = now;\n      return false;\n    };\n    rubberBandDecay.__closure = {\n      SLOPE_FACTOR,\n      DERIVATIVE_EPS,\n      VELOCITY_EPS\n    };\n    rubberBandDecay.__workletHash = 14399050053045;\n    rubberBandDecay.__initData = _worklet_14399050053045_init_data;\n    return rubberBandDecay;\n  }({\n    _worklet_14399050053045_init_data,\n    SLOPE_FACTOR: _utils.SLOPE_FACTOR,\n    DERIVATIVE_EPS,\n    VELOCITY_EPS: _utils.VELOCITY_EPS\n  });\n});","lineCount":65,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"rubberBandDecay"],[10,28,5,0],[11,4,5,0],[12,2,5,0],[13,2,3,0],[13,6,3,0,"_utils"],[13,12,3,0],[13,15,3,0,"require"],[13,22,3,0],[13,23,3,0,"_dependencyMap"],[13,37,3,0],[14,2,4,0],[14,8,4,6,"DERIVATIVE_EPS"],[14,22,4,20],[14,25,4,23],[14,28,4,26],[15,2,4,27],[15,8,4,27,"_worklet_14399050053045_init_data"],[15,41,4,27],[16,4,4,27,"code"],[16,8,4,27],[17,2,4,27],[18,2,4,27],[18,8,4,27,"rubberBandDecay"],[18,23,4,27],[18,26,5,7],[18,35,5,7,"rubberBandDecay_rubberBandDecayJs1Factory"],[18,77,5,7],[19,4,5,7,"_worklet_14399050053045_init_data"],[19,37,5,7],[20,4,20,86,"SLOPE_FACTOR"],[20,16,20,98],[21,4,21,29,"DERIVATIVE_EPS"],[21,18,21,43],[22,4,26,27,"VELOCITY_EPS"],[23,2,26,39],[24,4,26,39],[24,10,26,39,"rubberBandDecay"],[24,25,26,39],[24,37,26,39,"rubberBandDecay"],[24,38,5,32,"animation"],[24,47,5,41],[24,49,5,43,"now"],[24,52,5,46],[24,54,5,48,"config"],[24,60,5,54],[24,62,5,56],[25,6,8,2],[25,12,8,8],[26,8,9,4,"lastTimestamp"],[26,21,9,17],[27,8,10,4,"startTimestamp"],[27,22,10,18],[28,8,11,4,"current"],[28,15,11,11],[29,8,12,4,"velocity"],[30,6,13,2],[30,7,13,3],[30,10,13,6,"animation"],[30,19,13,15],[31,6,14,2],[31,12,14,8,"deltaTime"],[31,21,14,17],[31,24,14,20,"Math"],[31,28,14,24],[31,29,14,25,"min"],[31,32,14,28],[31,33,14,29,"now"],[31,36,14,32],[31,39,14,35,"lastTimestamp"],[31,52,14,48],[31,54,14,50],[31,56,14,52],[31,57,14,53],[32,6,15,2],[32,12,15,8,"clampIndex"],[32,22,15,18],[32,25,15,21,"Math"],[32,29,15,25],[32,30,15,26,"abs"],[32,33,15,29],[32,34,15,30,"current"],[32,41,15,37],[32,44,15,40,"config"],[32,50,15,46],[32,51,15,47,"clamp"],[32,56,15,52],[32,57,15,53],[32,58,15,54],[32,59,15,55],[32,60,15,56],[32,63,15,59,"Math"],[32,67,15,63],[32,68,15,64,"abs"],[32,71,15,67],[32,72,15,68,"current"],[32,79,15,75],[32,82,15,78,"config"],[32,88,15,84],[32,89,15,85,"clamp"],[32,94,15,90],[32,95,15,91],[32,96,15,92],[32,97,15,93],[32,98,15,94],[32,101,15,97],[32,102,15,98],[32,105,15,101],[32,106,15,102],[33,6,16,2],[33,10,16,6,"derivative"],[33,20,16,16],[33,23,16,19],[33,24,16,20],[34,6,17,2],[34,10,17,6,"current"],[34,17,17,13],[34,20,17,16,"config"],[34,26,17,22],[34,27,17,23,"clamp"],[34,32,17,28],[34,33,17,29],[34,34,17,30],[34,35,17,31],[34,39,17,35,"current"],[34,46,17,42],[34,49,17,45,"config"],[34,55,17,51],[34,56,17,52,"clamp"],[34,61,17,57],[34,62,17,58],[34,63,17,59],[34,64,17,60],[34,66,17,62],[35,8,18,4,"derivative"],[35,18,18,14],[35,21,18,17,"current"],[35,28,18,24],[35,31,18,27,"config"],[35,37,18,33],[35,38,18,34,"clamp"],[35,43,18,39],[35,44,18,40,"clampIndex"],[35,54,18,50],[35,55,18,51],[36,6,19,2],[37,6,20,2],[37,12,20,8,"v"],[37,13,20,9],[37,16,20,12,"velocity"],[37,24,20,20],[37,27,20,23,"Math"],[37,31,20,27],[37,32,20,28,"exp"],[37,35,20,31],[37,36,20,32],[37,38,20,34],[37,39,20,35],[37,42,20,38,"config"],[37,48,20,44],[37,49,20,45,"deceleration"],[37,61,20,57],[37,62,20,58],[37,66,20,62,"now"],[37,69,20,65],[37,72,20,68,"startTimestamp"],[37,86,20,82],[37,87,20,83],[37,90,20,86,"SLOPE_FACTOR"],[37,102,20,98],[37,103,20,99],[37,106,20,102,"derivative"],[37,116,20,112],[37,119,20,115,"config"],[37,125,20,121],[37,126,20,122,"rubberBandFactor"],[37,142,20,138],[38,6,21,2],[38,10,21,6,"Math"],[38,14,21,10],[38,15,21,11,"abs"],[38,18,21,14],[38,19,21,15,"derivative"],[38,29,21,25],[38,30,21,26],[38,33,21,29,"DERIVATIVE_EPS"],[38,47,21,43],[38,49,21,45],[39,8,22,4,"animation"],[39,17,22,13],[39,18,22,14,"springActive"],[39,30,22,26],[39,33,22,29],[39,37,22,33],[40,6,23,2],[40,7,23,3],[40,13,23,9],[40,17,23,13,"animation"],[40,26,23,22],[40,27,23,23,"springActive"],[40,39,23,35],[40,41,23,37],[41,8,24,4,"animation"],[41,17,24,13],[41,18,24,14,"current"],[41,25,24,21],[41,28,24,24,"config"],[41,34,24,30],[41,35,24,31,"clamp"],[41,40,24,36],[41,41,24,37,"clampIndex"],[41,51,24,47],[41,52,24,48],[42,8,25,4],[42,15,25,11],[42,19,25,15],[43,6,26,2],[43,7,26,3],[43,13,26,9],[43,17,26,13,"Math"],[43,21,26,17],[43,22,26,18,"abs"],[43,25,26,21],[43,26,26,22,"v"],[43,27,26,23],[43,28,26,24],[43,31,26,27,"VELOCITY_EPS"],[43,43,26,39],[43,45,26,41],[44,8,27,4],[44,15,27,11],[44,19,27,15],[45,6,28,2],[46,6,29,2,"animation"],[46,15,29,11],[46,16,29,12,"current"],[46,23,29,19],[46,26,29,22,"current"],[46,33,29,29],[46,36,29,32,"v"],[46,37,29,33],[46,40,29,36,"config"],[46,46,29,42],[46,47,29,43,"velocityFactor"],[46,61,29,57],[46,64,29,60,"deltaTime"],[46,73,29,69],[46,76,29,72],[46,80,29,76],[47,6,30,2,"animation"],[47,15,30,11],[47,16,30,12,"velocity"],[47,24,30,20],[47,27,30,23,"v"],[47,28,30,24],[48,6,31,2,"animation"],[48,15,31,11],[48,16,31,12,"lastTimestamp"],[48,29,31,25],[48,32,31,28,"now"],[48,35,31,31],[49,6,32,2],[49,13,32,9],[49,18,32,14],[50,4,33,0],[50,5,33,1],[51,4,33,1,"rubberBandDecay"],[51,19,33,1],[51,20,33,1,"__closure"],[51,29,33,1],[52,6,20,86,"SLOPE_FACTOR"],[52,18,20,98],[53,6,21,29,"DERIVATIVE_EPS"],[53,20,21,43],[54,6,26,27,"VELOCITY_EPS"],[55,4,26,39],[56,4,26,39,"rubberBandDecay"],[56,19,26,39],[56,20,26,39,"__workletHash"],[56,33,26,39],[57,4,26,39,"rubberBandDecay"],[57,19,26,39],[57,20,26,39,"__initData"],[57,30,26,39],[57,33,26,39,"_worklet_14399050053045_init_data"],[57,66,26,39],[58,4,26,39],[58,11,26,39,"rubberBandDecay"],[58,26,26,39],[59,2,26,39],[59,3,5,7],[60,4,5,7,"_worklet_14399050053045_init_data"],[60,37,5,7],[61,4,20,86,"SLOPE_FACTOR"],[61,16,20,98],[61,18,20,86,"SLOPE_FACTOR"],[61,24,20,98],[61,25,20,98,"SLOPE_FACTOR"],[61,37,20,98],[62,4,21,29,"DERIVATIVE_EPS"],[62,18,21,43],[63,4,26,27,"VELOCITY_EPS"],[63,16,26,39],[63,18,26,27,"VELOCITY_EPS"],[63,24,26,39],[63,25,26,39,"VELOCITY_EPS"],[64,2,26,39],[65,0,26,39],[65,3]],"functionMap":{"names":["<global>","rubberBandDecay"],"mappings":"AAA;OCI;CD4B"},"hasCjsExports":false},"type":"js/module"}]}