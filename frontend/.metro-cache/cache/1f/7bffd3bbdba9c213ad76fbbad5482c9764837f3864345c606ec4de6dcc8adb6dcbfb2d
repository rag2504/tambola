{"dependencies":[{"name":"react-native-worklets","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":48,"index":63}}],"key":"upgdvla269Vpw38V/0PgHoMDZsA=","exportNames":["*"],"imports":1}},{"name":"./common","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":64},"end":{"line":4,"column":35,"index":99}}],"key":"T3X1rGrsueEhPeOGTLhHRm6Tz+4=","exportNames":["*"],"imports":1}},{"name":"./isSharedValue","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":100},"end":{"line":5,"column":48,"index":148}}],"key":"4GvsAaNC2OU71XMPPfpzkxeW9tk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.startMapper=function(p,s=[],c=[]){const f=o+=1;return(0,t.runOnUI)((function({_worklet_3147034575787_init_data:t,createMapperRegistry:p,mapperID:s,worklet:n,inputs:o,outputs:u}){const c=function(){let t=g.__mapperRegistry;void 0===t&&(t=g.__mapperRegistry=p()),t.start(s,n,o,u)};return c.__closure={createMapperRegistry:p,mapperID:s,worklet:n,inputs:o,outputs:u},c.__workletHash=3147034575787,c.__initData=t,c})({_worklet_3147034575787_init_data:u,createMapperRegistry:n,mapperID:f,worklet:p,inputs:s,outputs:c}))(),f},e.stopMapper=function(p){(0,t.runOnUI)((function({_worklet_1208768053767_init_data:t,mapperID:p}){const s=function(){const t=g.__mapperRegistry;t?.stop(p)};return s.__closure={mapperID:p},s.__workletHash=1208768053767,s.__initData=t,s})({_worklet_1208768053767_init_data:c,mapperID:p}))()};var t=r(d[0]),p=r(d[1]),s=r(d[2]);const n=(function({_worklet_13495937553685_init_data:t,IS_JEST:p,isSharedValue:s}){const n=function(){const t=new Map;let n=[],o=!1,u=!1;function c(){const p=new Map;t.forEach(t=>{if(t.outputs)for(const s of t.outputs){const n=p.get(s);void 0===n?p.set(s,[t]):n.push(t)}});const s=new Set,o=[];function u(t){s.add(t);for(const n of t.inputs){const t=p.get(n);if(t)for(const p of t)s.has(p)||u(p)}o.push(t)}t.forEach(t=>{s.has(t)||u(t)}),n=o}function f(){if(o=!1,!u)try{u=!0,t.size!==n.length&&c();for(const t of n)t.dirty&&(t.dirty=!1,t.worklet())}finally{u=!1}}function l(){p?f():o||(u?requestAnimationFrame(f):queueMicrotask(f),o=!0)}function _(t,p){if(Array.isArray(t))for(const s of t)s&&_(s,p);else if(s(t))p.push(t);else if(Object.getPrototypeOf(t)===Object.prototype)for(const s of Object.values(t))s&&_(s,p);return p}return{start:(p,s,o,u)=>{const c={id:p,dirty:!0,worklet:s,inputs:_(o,[]),outputs:u};t.set(c.id,c),n=[];for(const t of c.inputs)t.addListener(c.id,()=>{c.dirty=!0,l()});l()},stop:p=>{const s=t.get(p);if(s){t.delete(s.id),n=[];for(const t of s.inputs)t.removeListener(s.id)}}}};return n.__closure={IS_JEST:p,isSharedValue:s},n.__workletHash=0xc4644905515,n.__initData=t,n})({_worklet_13495937553685_init_data:{code:\"function createMapperRegistry_mappersJs1(){const{IS_JEST,isSharedValue}=this.__closure;const mappers=new Map();let sortedMappers=[];let runRequested=false;let processingMappers=false;function updateMappersOrder(){const pre=new Map();mappers.forEach(function(mapper){if(mapper.outputs){for(const output of mapper.outputs){const preMappers=pre.get(output);if(preMappers===undefined){pre.set(output,[mapper]);}else{preMappers.push(mapper);}}}});const visited=new Set();const newOrder=[];function dfs(mapper){visited.add(mapper);for(const input of mapper.inputs){const preMappers=pre.get(input);if(preMappers){for(const preMapper of preMappers){if(!visited.has(preMapper)){dfs(preMapper);}}}}newOrder.push(mapper);}mappers.forEach(function(mapper){if(!visited.has(mapper)){dfs(mapper);}});sortedMappers=newOrder;}function mapperRun(){runRequested=false;if(processingMappers){return;}try{processingMappers=true;if(mappers.size!==sortedMappers.length){updateMappersOrder();}for(const mapper of sortedMappers){if(mapper.dirty){mapper.dirty=false;mapper.worklet();}}}finally{processingMappers=false;}}function maybeRequestUpdates(){if(IS_JEST){mapperRun();}else if(!runRequested){if(processingMappers){requestAnimationFrame(mapperRun);}else{queueMicrotask(mapperRun);}runRequested=true;}}function extractInputs(inputs,resultArray){if(Array.isArray(inputs)){for(const input of inputs){if(input){extractInputs(input,resultArray);}}}else if(isSharedValue(inputs)){resultArray.push(inputs);}else if(Object.getPrototypeOf(inputs)===Object.prototype){for(const element of Object.values(inputs)){if(element){extractInputs(element,resultArray);}}}return resultArray;}return{start:function(mapperID,worklet,inputs,outputs){const mapper={id:mapperID,dirty:true,worklet:worklet,inputs:extractInputs(inputs,[]),outputs:outputs};mappers.set(mapper.id,mapper);sortedMappers=[];for(const sv of mapper.inputs){sv.addListener(mapper.id,function(){mapper.dirty=true;maybeRequestUpdates();});}maybeRequestUpdates();},stop:function(mapperID){const mapper=mappers.get(mapperID);if(mapper){mappers.delete(mapper.id);sortedMappers=[];for(const sv of mapper.inputs){sv.removeListener(mapper.id);}}}};}\"},IS_JEST:p.IS_JEST,isSharedValue:s.isSharedValue});let o=9999;const u={code:\"function mappersJs2(){const{createMapperRegistry,mapperID,worklet,inputs,outputs}=this.__closure;let mapperRegistry=global.__mapperRegistry;if(mapperRegistry===undefined){mapperRegistry=global.__mapperRegistry=createMapperRegistry();}mapperRegistry.start(mapperID,worklet,inputs,outputs);}\"};const c={code:\"function mappersJs3(){const{mapperID}=this.__closure;const mapperRegistry=global.__mapperRegistry;mapperRegistry===null||mapperRegistry===void 0||mapperRegistry.stop(mapperID);}\"}});","lineCount":1,"map":[[1,28,1,0],[1,41,1,13,"Object"],[1,48,1,13,"defineProperty"],[1,63,1,13,"e"],[1,65,1,13],[1,79,1,13,"value"],[1,86,1,13],[1,90,172,0,"e"],[1,92,172,0,"startMapper"],[1,104,172,7],[1,113,172,28,"worklet"],[1,115,172,37,"inputs"],[1,117,172,46],[1,120,172,50,"outputs"],[1,122,172,60],[1,126,173,2],[1,132,173,8,"mapperID"],[1,134,173,19,"MAPPER_ID"],[1,137,173,32],[1,139,181,2],[1,146,174,2],[1,148,174,2,"runOnUI"],[1,150,174,9,"runOnUI"],[1,160,174,10],[1,170,174,10,"_worklet_3147034575787_init_data"],[1,205,174,10,"createMapperRegistry"],[1,226,177,49,"createMapperRegistry"],[1,228,177,69,"mapperID"],[1,237,179,25,"mapperID"],[1,239,179,33,"worklet"],[1,247,179,35,"worklet"],[1,249,179,42,"inputs"],[1,256,179,44,"inputs"],[1,258,179,50,"outputs"],[1,266,179,52,"outputs"],[1,270,179,59],[1,276,179,59,"mappersJs2"],[1,278,179,59],[1,289,175,4],[1,293,175,8,"mapperRegistry"],[1,295,175,25,"global"],[1,297,175,32,"__mapperRegistry"],[1,319,176,27,"undefined"],[1,323,176,8,"mapperRegistry"],[1,327,177,6,"mapperRegistry"],[1,329,177,23,"global"],[1,331,177,30,"__mapperRegistry"],[1,348,177,49,"createMapperRegistry"],[1,353,179,4,"mapperRegistry"],[1,355,179,19,"start"],[1,361,179,25,"mapperID"],[1,363,179,35,"worklet"],[1,365,179,44,"inputs"],[1,367,179,52,"outputs"],[1,369,180,2],[1,371,179,59],[1,378,180,3,"mappersJs2"],[1,380,180,3,"__closure"],[1,390,180,3],[1,391,177,49,"createMapperRegistry"],[1,414,179,25,"mapperID"],[1,425,179,35,"worklet"],[1,435,179,44,"inputs"],[1,444,179,52,"outputs"],[1,455,179,59,"mappersJs2"],[1,457,179,59,"__workletHash"],[1,471,179,59],[1,485,179,59,"mappersJs2"],[1,487,179,59,"__initData"],[1,498,179,59,"_worklet_3147034575787_init_data"],[1,500,179,59,"mappersJs2"],[1,501,179,59],[1,503,174,10],[1,505,174,10,"_worklet_3147034575787_init_data"],[1,540,177,49,"createMapperRegistry"],[1,563,179,25,"mapperID"],[1,574,179,35,"worklet"],[1,584,179,44,"inputs"],[1,593,179,52,"outputs"],[1,605,174,2],[1,608,181,9,"mapperID"],[1,609,182,0],[1,611,183,0,"e"],[1,613,183,0,"stopMapper"],[1,624,183,7],[1,633,183,27,"mapperID"],[1,637,184,2],[1,639,184,2,"runOnUI"],[1,641,184,9,"runOnUI"],[1,651,184,10],[1,661,184,10,"_worklet_1208768053767_init_data"],[1,696,184,10,"mapperID"],[1,705,186,25,"mapperID"],[1,709,186,33],[1,715,186,33,"mappersJs3"],[1,717,186,33],[1,728,185,4],[1,734,185,10,"mapperRegistry"],[1,736,185,27,"global"],[1,738,185,34,"__mapperRegistry"],[1,755,186,4,"mapperRegistry"],[1,758,186,20,"stop"],[1,763,186,25,"mapperID"],[1,765,187,2],[1,767,186,33],[1,774,187,3,"mappersJs3"],[1,776,187,3,"__closure"],[1,786,187,3],[1,787,186,25,"mapperID"],[1,799,186,33,"mappersJs3"],[1,801,186,33,"__workletHash"],[1,815,186,33],[1,829,186,33,"mappersJs3"],[1,831,186,33,"__initData"],[1,842,186,33,"_worklet_1208768053767_init_data"],[1,844,186,33,"mappersJs3"],[1,845,186,33],[1,847,184,10],[1,849,184,10,"_worklet_1208768053767_init_data"],[1,884,186,25,"mapperID"],[1,897,184,2],[1,899,188,0],[1,901,3,0],[1,905,3,0,"_reactNativeWorklets"],[1,907,3,0,"r"],[1,909,3,0,"d"],[1,911,3,0],[1,915,4,0,"_common"],[1,917,4,0,"r"],[1,919,4,0,"d"],[1,921,4,0],[1,925,5,0,"_isSharedValue"],[1,927,5,0,"r"],[1,929,5,0,"d"],[1,931,5,0],[1,935,5,48],[1,941,5,48,"createMapperRegistry"],[1,944,6,0],[1,954,6,0,"_worklet_13495937553685_init_data"],[1,990,6,0,"IS_JEST"],[1,998,91,8,"IS_JEST"],[1,1000,91,15,"isSharedValue"],[1,1014,126,15,"isSharedValue"],[1,1018,126,28],[1,1024,126,28,"createMapperRegistry"],[1,1026,126,28],[1,1037,9,2],[1,1043,9,8,"mappers"],[1,1045,9,18],[1,1049,9,22,"Map"],[1,1053,10,2],[1,1057,10,6,"sortedMappers"],[1,1059,10,22],[1,1062,11,6,"runRequested"],[1,1065,11,21],[1,1067,12,6,"processingMappers"],[1,1070,12,26],[1,1072,13,2],[1,1081,13,11,"updateMappersOrder"],[1,1085,34,4],[1,1091,34,10,"pre"],[1,1093,34,16],[1,1097,34,20,"Map"],[1,1101,35,4,"mappers"],[1,1103,35,12,"forEach"],[1,1111,35,20,"mapper"],[1,1115,36,6],[1,1118,36,10,"mapper"],[1,1120,36,17,"outputs"],[1,1128,37,8],[1,1132,37,13],[1,1138,37,19,"output"],[1,1143,37,29,"mapper"],[1,1145,37,36,"outputs"],[1,1153,37,45],[1,1154,38,10],[1,1160,38,16,"preMappers"],[1,1162,38,29,"pre"],[1,1164,38,33,"get"],[1,1168,38,37,"output"],[1,1176,39,29,"undefined"],[1,1180,39,14,"preMappers"],[1,1182,40,12,"pre"],[1,1184,40,16,"set"],[1,1188,40,20,"output"],[1,1190,40,28],[1,1191,40,29,"mapper"],[1,1195,42,12,"preMappers"],[1,1197,42,23,"push"],[1,1202,42,28,"mapper"],[1,1204,44,8],[1,1208,47,4],[1,1214,47,10,"visited"],[1,1216,47,20],[1,1220,47,24,"Set"],[1,1224,48,10,"newOrder"],[1,1226,48,21],[1,1229,49,4],[1,1238,49,13,"dfs"],[1,1240,49,17,"mapper"],[1,1243,50,6,"visited"],[1,1245,50,14,"add"],[1,1249,50,18,"mapper"],[1,1252,51,6],[1,1256,51,11],[1,1262,51,17,"input"],[1,1267,51,26,"mapper"],[1,1269,51,33,"inputs"],[1,1276,51,41],[1,1277,52,8],[1,1283,52,14,"preMappers"],[1,1285,52,27,"pre"],[1,1287,52,31,"get"],[1,1291,52,35,"input"],[1,1294,53,8],[1,1297,53,12,"preMappers"],[1,1299,54,10],[1,1303,54,15],[1,1309,54,21,"preMapper"],[1,1314,54,34,"preMappers"],[1,1316,55,17,"visited"],[1,1318,55,25,"has"],[1,1322,55,29,"preMapper"],[1,1326,56,14,"dfs"],[1,1328,56,18,"preMapper"],[1,1330,60,6],[1,1331,61,6,"newOrder"],[1,1333,61,15,"push"],[1,1338,61,20,"mapper"],[1,1340,62,4],[1,1341,63,4,"mappers"],[1,1343,63,12,"forEach"],[1,1351,63,20,"mapper"],[1,1355,64,11,"visited"],[1,1357,64,19,"has"],[1,1361,64,23,"mapper"],[1,1365,65,8,"dfs"],[1,1367,65,12,"mapper"],[1,1372,68,4,"sortedMappers"],[1,1374,68,20,"newOrder"],[1,1375,69,2],[1,1376,70,2],[1,1385,70,11,"mapperRun"],[1,1389,72,4],[1,1392,71,4,"runRequested"],[1,1395,71,19],[1,1398,72,8,"processingMappers"],[1,1400,75,4],[1,1404,76,6,"processingMappers"],[1,1407,76,26],[1,1409,77,10,"mappers"],[1,1411,77,18,"size"],[1,1418,77,27,"sortedMappers"],[1,1420,77,41,"length"],[1,1428,78,8,"updateMappersOrder"],[1,1432,80,6],[1,1436,80,11],[1,1442,80,17,"mapper"],[1,1447,80,27,"sortedMappers"],[1,1449,81,12,"mapper"],[1,1451,81,19,"dirty"],[1,1459,82,10,"mapper"],[1,1461,82,17,"dirty"],[1,1468,82,25],[1,1470,83,10,"mapper"],[1,1472,83,17,"worklet"],[1,1482,86,4],[1,1483,86,5],[1,1491,87,6,"processingMappers"],[1,1494,87,26],[1,1495,88,4],[1,1496,89,2],[1,1497,90,2],[1,1506,90,11,"maybeRequestUpdates"],[1,1510,91,8,"IS_JEST"],[1,1512,98,6,"mapperRun"],[1,1516,99,16,"runRequested"],[1,1520,100,10,"processingMappers"],[1,1522,112,8,"requestAnimationFrame"],[1,1544,112,30,"mapperRun"],[1,1547,114,8,"queueMicrotask"],[1,1562,114,23,"mapperRun"],[1,1565,116,6,"runRequested"],[1,1568,116,21],[1,1570,118,2],[1,1571,119,2],[1,1580,119,11,"extractInputs"],[1,1582,119,25,"inputs"],[1,1584,119,33,"resultArray"],[1,1587,120,4],[1,1590,120,8,"Array"],[1,1596,120,14,"isArray"],[1,1604,120,22,"inputs"],[1,1607,121,6],[1,1611,121,11],[1,1617,121,17,"input"],[1,1622,121,26,"inputs"],[1,1624,122,12,"input"],[1,1627,123,10,"extractInputs"],[1,1629,123,24,"input"],[1,1631,123,31,"resultArray"],[1,1639,126,11],[1,1642,126,15,"isSharedValue"],[1,1644,126,29,"inputs"],[1,1647,127,6,"resultArray"],[1,1649,127,18,"push"],[1,1654,127,23,"inputs"],[1,1662,128,11],[1,1665,128,15,"Object"],[1,1672,128,22,"getPrototypeOf"],[1,1687,128,37,"inputs"],[1,1692,128,49,"Object"],[1,1699,128,56,"prototype"],[1,1709,132,6],[1,1713,132,11],[1,1719,132,17,"element"],[1,1724,132,28,"Object"],[1,1731,132,35,"values"],[1,1738,132,42,"inputs"],[1,1741,133,12,"element"],[1,1744,134,10,"extractInputs"],[1,1746,134,24,"element"],[1,1748,134,33,"resultArray"],[1,1751,138,4],[1,1758,138,11,"resultArray"],[1,1759,139,2],[1,1760,140,2],[1,1766,140,9],[1,1767,141,4,"start"],[1,1773,141,11,"start"],[1,1774,141,12,"mapperID"],[1,1776,141,22,"worklet"],[1,1778,141,31,"inputs"],[1,1780,141,39,"outputs"],[1,1785,142,6],[1,1791,142,12,"mapper"],[1,1793,142,21],[1,1794,143,8,"id"],[1,1797,143,12,"mapperID"],[1,1799,144,8,"dirty"],[1,1806,144,15],[1,1808,145,8,"worklet"],[1,1818,146,8,"inputs"],[1,1825,146,16,"extractInputs"],[1,1827,146,30,"inputs"],[1,1829,146,38],[1,1833,147,8,"outputs"],[1,1844,149,6,"mappers"],[1,1846,149,14,"set"],[1,1850,149,18,"mapper"],[1,1852,149,25,"id"],[1,1855,149,29,"mapper"],[1,1858,150,6,"sortedMappers"],[1,1860,150,22],[1,1863,151,6],[1,1867,151,11],[1,1873,151,17,"sv"],[1,1878,151,23,"mapper"],[1,1880,151,30,"inputs"],[1,1887,152,8,"sv"],[1,1889,152,11,"addListener"],[1,1901,152,23,"mapper"],[1,1903,152,30,"id"],[1,1906,152,34],[1,1911,153,10,"mapper"],[1,1913,153,17,"dirty"],[1,1920,153,25],[1,1922,154,10,"maybeRequestUpdates"],[1,1928,157,6,"maybeRequestUpdates"],[1,1933,159,4,"stop"],[1,1938,159,10,"mapperID"],[1,1942,160,6],[1,1948,160,12,"mapper"],[1,1950,160,21,"mappers"],[1,1952,160,29,"get"],[1,1956,160,33,"mapperID"],[1,1959,161,6],[1,1962,161,10,"mapper"],[1,1964,161,18],[1,1965,162,8,"mappers"],[1,1967,162,16,"delete"],[1,1974,162,23,"mapper"],[1,1976,162,30,"id"],[1,1980,163,8,"sortedMappers"],[1,1982,163,24],[1,1985,164,8],[1,1989,164,13],[1,1995,164,19,"sv"],[1,2000,164,25,"mapper"],[1,2002,164,32,"inputs"],[1,2009,165,10,"sv"],[1,2011,165,13,"removeListener"],[1,2026,165,28,"mapper"],[1,2028,165,35,"id"],[1,2031,167,6],[1,2034,170,0],[1,2036,126,28],[1,2043,170,1,"createMapperRegistry"],[1,2045,170,1,"__closure"],[1,2055,170,1],[1,2056,91,8,"IS_JEST"],[1,2066,126,15,"isSharedValue"],[1,2083,126,28,"createMapperRegistry"],[1,2085,126,28,"__workletHash"],[1,2099,126,28],[1,2113,126,28,"createMapperRegistry"],[1,2115,126,28,"__initData"],[1,2126,126,28,"_worklet_13495937553685_init_data"],[1,2128,126,28,"createMapperRegistry"],[1,2129,126,28],[1,2131,6,0],[1,2133,6,0,"_worklet_13495937553685_init_data"],[1,2167,5,48],[1,2168,5,48,"code"],[1,2173,5,48],[1,4346,91,8,"IS_JEST"],[1,4356,91,15,"IS_JEST"],[1,4364,126,15,"isSharedValue"],[1,4380,126,28,"isSharedValue"],[1,4396,171,0],[1,4400,171,4,"MAPPER_ID"],[1,4402,171,16],[1,4407,171,21],[1,4413,171,21,"_worklet_3147034575787_init_data"],[1,4415,171,21],[1,4416,171,21,"code"],[1,4421,171,21],[1,4714,182,1],[1,4720,182,1,"_worklet_1208768053767_init_data"],[1,4722,182,1],[1,4723,182,1,"code"],[1,4728,182,1],[1,4908,188,1],[1,4911]],"functionMap":{"names":["<global>","createMapperRegistry","updateMappersOrder","forEach$argument_0","dfs","mapperRun","maybeRequestUpdates","extractInputs","start","sv.addListener$argument_1","stop","startMapper","runOnUI$argument_0","stopMapper"],"mappings":"AAA;ACK;ECO;oBCsB;KDW;IEG;KFa;oBCC;KDI;GDE;EIC;GJmB;EKC;GL4B;EMC;GNoB;WOE;kCCW;SDG;KPG;USC;KTS;CDE;OWE;UCE;GDM;CXE;OaC;UDC;GCG;CbC"},"hasCjsExports":false},"type":"js/module"}]}