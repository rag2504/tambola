{"dependencies":[{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":60},"end":{"line":4,"column":46,"index":106}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":108},"end":{"line":5,"column":69,"index":177}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return s}}),Object.defineProperty(_e,\"socketService\",{enumerable:!0,get:function(){return n}});var e,o=r(d[0]),t=r(d[1]),c=(e=t)&&e.__esModule?e:{default:e};const n=new class{socket=null;userId=null;currentRoom=null;async connect(){if(this.socket?.connected)return void console.log('Socket already connected');const e=await c.default.getItem('user_data');if(e){const o=JSON.parse(e);this.userId=o.id}this.socket=(0,o.io)(\"https://tambola-jqjo.onrender.com\",{transports:['websocket'],reconnection:!0,reconnectionAttempts:1/0,timeout:2e4}),this.setupEventListeners(),console.log('Socket connecting...')}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,console.log('Socket disconnected'))}setupEventListeners(){this.socket&&(this.socket.on('connect',()=>{console.log('Socket connected:',this.socket?.id),this.userId&&this.socket?.emit('authenticate',{user_id:this.userId})}),this.socket.on('disconnect',()=>{console.log('Socket disconnected')}),this.socket.on('error',e=>{console.error('Socket error:',e)}),this.socket.on('authenticated',e=>{console.log('Socket authenticated:',e)}))}joinRoom(e){this.socket?.connected?(this.currentRoom=e,this.socket.emit('join_room',{room_id:e}),console.log('Joining room:',e)):console.error('Socket not connected')}leaveRoom(){this.socket?.connected&&this.currentRoom&&(this.socket.emit('leave_room',{room_id:this.currentRoom}),console.log('Leaving room:',this.currentRoom),this.currentRoom=null)}callNumber(e,o){this.socket?.connected?this.socket.emit('call_number',{room_id:e,number:o}):console.error('Socket not connected')}claimPrize(e,o,t){this.socket?.connected?this.socket.emit('claim_prize',{room_id:e,ticket_id:o,prize_type:t}):console.error('Socket not connected')}sendMessage(e,o){this.socket?.connected?this.socket.emit('chat_message',{room_id:e,message:o}):console.error('Socket not connected')}startGame(e){this.socket?.connected?this.socket.emit('start_game',{room_id:e}):console.error('Socket not connected')}on(e,o){this.socket?this.socket.on(e,o):console.error('Socket not initialized')}off(e,o){this.socket&&(o?this.socket.off(e,o):this.socket.off(e))}isConnected(){return this.socket?.connected||!1}getCurrentRoom(){return this.currentRoom}};var s=n});","lineCount":1,"map":[[1,92,213,0,"Object"],[1,99,213,0,"defineProperty"],[1,114,213,0,"_e"],[1,117,213,0],[1,128,213,0,"enumerable"],[1,140,213,0],[1,142,213,0,"get"],[1,146,213,0],[1,164,213,0,"_default"],[1,165,213,0],[1,169,212,0,"Object"],[1,176,212,0,"defineProperty"],[1,191,212,0,"_e"],[1,194,212,0],[1,211,212,0,"enumerable"],[1,223,212,0],[1,225,212,0,"get"],[1,229,212,0],[1,247,212,0,"socketService"],[1,248,212,0],[1,252,4,0],[1,256],[1,258,4,0,"_socketIoClient"],[1,260,4,0,"r"],[1,262,4,0,"d"],[1,264,4,0],[1,268,5,0,"_reactNativeAsyncStorageAsyncStorage"],[1,270,5,0,"r"],[1,272,5,0,"d"],[1,274,5,0],[1,278,5,0,"AsyncStorage"],[1,281],[1,283,5,0,"_reactNativeAsyncStorageAsyncStorage"],[1,287],[1,314,212,7],[1,320,212,13,"socketService"],[1,322,212,29],[1,326,13,0],[1,332,14,10,"socket"],[1,339,14,34],[1,344,15,10,"userId"],[1,351,15,34],[1,356,16,10,"currentRoom"],[1,368,16,39],[1,373,21,2],[1,386,21,8,"connect"],[1,389,22,4],[1,392,22,8,"this"],[1,397,22,13,"socket"],[1,405,22,21,"connected"],[1,415,24,6],[1,427,23,6,"console"],[1,435,23,14,"log"],[1,439,23,18],[1,467,28,4],[1,473,28,10,"userData"],[1,481,28,27,"AsyncStorage"],[1,483,28,39,"default"],[1,491,28,40,"getItem"],[1,499,28,48],[1,512,29,4],[1,515,29,8,"userData"],[1,517,29,18],[1,518,30,6],[1,524,30,12,"user"],[1,526,30,19,"JSON"],[1,531,30,24,"parse"],[1,537,30,30,"userData"],[1,540,31,6,"this"],[1,545,31,11,"userId"],[1,552,31,20,"user"],[1,554,31,25,"id"],[1,556,32,4],[1,557,34,4,"this"],[1,562,34,9,"socket"],[1,570,34,18],[1,572,34,18,"io"],[1,574,34,20,"io"],[1,578,7,16],[1,614,34,33],[1,615,35,6,"transports"],[1,626,35,18],[1,627,35,19],[1,640,36,6,"reconnection"],[1,654,36,20],[1,656,37,6,"reconnectionAttempts"],[1,677,37,28,"Infinity"],[1,681,38,6,"timeout"],[1,689,38,15],[1,695,41,4,"this"],[1,700,41,9,"setupEventListeners"],[1,722,42,4,"console"],[1,730,42,12,"log"],[1,734,42,16],[1,757,43,2],[1,758,48,2,"disconnect"],[1,771,49,8,"this"],[1,776,49,13,"socket"],[1,785,50,6,"this"],[1,790,50,11,"socket"],[1,797,50,18,"disconnect"],[1,810,51,6,"this"],[1,815,51,11,"socket"],[1,822,51,20],[1,827,52,6,"console"],[1,835,52,14,"log"],[1,839,52,18],[1,862,54,2],[1,863,59,10,"setupEventListeners"],[1,885,60,9,"this"],[1,890,60,14,"socket"],[1,899,62,4,"this"],[1,904,62,9,"socket"],[1,911,62,16,"on"],[1,914,62,19],[1,924,62,30],[1,929,63,6,"console"],[1,937,63,14,"log"],[1,941,63,18],[1,961,63,39,"this"],[1,966,63,44,"socket"],[1,974,63,52,"id"],[1,978,66,10,"this"],[1,983,66,15,"userId"],[1,991,67,8,"this"],[1,996,67,13,"socket"],[1,1004,67,21,"emit"],[1,1009,67,26],[1,1024,67,42],[1,1025,67,44,"user_id"],[1,1033,67,53,"this"],[1,1038,67,58,"userId"],[1,1049,71,4,"this"],[1,1054,71,9,"socket"],[1,1061,71,16,"on"],[1,1064,71,19],[1,1077,71,33],[1,1082,72,6,"console"],[1,1090,72,14,"log"],[1,1094,72,18],[1,1119,75,4,"this"],[1,1124,75,9,"socket"],[1,1131,75,16,"on"],[1,1134,75,19],[1,1142,75,29,"error"],[1,1146,76,6,"console"],[1,1154,76,14,"error"],[1,1160,76,20],[1,1176,76,37,"error"],[1,1181,79,4,"this"],[1,1186,79,9,"socket"],[1,1193,79,16,"on"],[1,1196,79,19],[1,1212,79,37,"data"],[1,1216,80,6,"console"],[1,1224,80,14,"log"],[1,1228,80,18],[1,1252,80,43,"data"],[1,1257,82,2],[1,1258,87,2,"joinRoom"],[1,1267,87,11,"roomId"],[1,1270,88,9,"this"],[1,1275,88,14,"socket"],[1,1283,88,22,"connected"],[1,1294,93,4,"this"],[1,1299,93,9,"currentRoom"],[1,1311,93,23,"roomId"],[1,1313,94,4,"this"],[1,1318,94,9,"socket"],[1,1325,94,16,"emit"],[1,1330,94,21],[1,1342,94,34],[1,1343,94,36,"room_id"],[1,1351,94,45,"roomId"],[1,1355,95,4,"console"],[1,1363,95,12,"log"],[1,1367,95,16],[1,1383,95,33,"roomId"],[1,1387,89,6,"console"],[1,1395,89,14,"error"],[1,1401,89,20],[1,1424,96,2],[1,1425,101,2,"leaveRoom"],[1,1437,102,9,"this"],[1,1442,102,14,"socket"],[1,1450,102,22,"connected"],[1,1461,102,36,"this"],[1,1466,102,41,"currentRoom"],[1,1480,106,4,"this"],[1,1485,106,9,"socket"],[1,1492,106,16,"emit"],[1,1497,106,21],[1,1510,106,35],[1,1511,106,37,"room_id"],[1,1519,106,46,"this"],[1,1524,106,51,"currentRoom"],[1,1538,107,4,"console"],[1,1546,107,12,"log"],[1,1550,107,16],[1,1566,107,33,"this"],[1,1571,107,38,"currentRoom"],[1,1584,108,4,"this"],[1,1589,108,9,"currentRoom"],[1,1601,108,23],[1,1606,109,2],[1,1607,114,2,"callNumber"],[1,1618,114,13,"roomId"],[1,1620,114,29,"number"],[1,1623,115,9,"this"],[1,1628,115,14,"socket"],[1,1636,115,22,"connected"],[1,1646,120,4,"this"],[1,1651,120,9,"socket"],[1,1658,120,16,"emit"],[1,1663,120,21],[1,1677,120,36],[1,1678,121,6,"room_id"],[1,1686,121,15,"roomId"],[1,1688,122,6,"number"],[1,1699,116,6,"console"],[1,1707,116,14,"error"],[1,1713,116,20],[1,1736,124,2],[1,1737,129,2,"claimPrize"],[1,1748,129,13,"roomId"],[1,1750,129,29,"ticketId"],[1,1752,129,47,"prizeType"],[1,1755,130,9,"this"],[1,1760,130,14,"socket"],[1,1768,130,22,"connected"],[1,1778,135,4,"this"],[1,1783,135,9,"socket"],[1,1790,135,16,"emit"],[1,1795,135,21],[1,1809,135,36],[1,1810,136,6,"room_id"],[1,1818,136,15,"roomId"],[1,1820,137,6,"ticket_id"],[1,1830,137,17,"ticketId"],[1,1832,138,6,"prize_type"],[1,1843,138,18,"prizeType"],[1,1847,131,6,"console"],[1,1855,131,14,"error"],[1,1861,131,20],[1,1884,140,2],[1,1885,145,2,"sendMessage"],[1,1897,145,14,"roomId"],[1,1899,145,30,"message"],[1,1902,146,9,"this"],[1,1907,146,14,"socket"],[1,1915,146,22,"connected"],[1,1925,151,4,"this"],[1,1930,151,9,"socket"],[1,1937,151,16,"emit"],[1,1942,151,21],[1,1957,151,37],[1,1958,152,6,"room_id"],[1,1966,152,15,"roomId"],[1,1968,153,6,"message"],[1,1980,147,6,"console"],[1,1988,147,14,"error"],[1,1994,147,20],[1,2017,155,2],[1,2018,160,2,"startGame"],[1,2028,160,12,"roomId"],[1,2031,161,9,"this"],[1,2036,161,14,"socket"],[1,2044,161,22,"connected"],[1,2054,166,4,"this"],[1,2059,166,9,"socket"],[1,2066,166,16,"emit"],[1,2071,166,21],[1,2084,166,35],[1,2085,166,37,"room_id"],[1,2093,166,46,"roomId"],[1,2097,162,6,"console"],[1,2105,162,14,"error"],[1,2111,162,20],[1,2134,167,2],[1,2135,172,2,"on"],[1,2138,172,5,"event"],[1,2140,172,20,"callback"],[1,2143,173,9,"this"],[1,2148,173,14,"socket"],[1,2155,178,4,"this"],[1,2160,178,9,"socket"],[1,2167,178,16,"on"],[1,2170,178,19,"event"],[1,2172,178,26,"callback"],[1,2175,174,6,"console"],[1,2183,174,14,"error"],[1,2189,174,20],[1,2214,179,2],[1,2215,184,2,"off"],[1,2219,184,6,"event"],[1,2221,184,21,"callback"],[1,2224,185,9,"this"],[1,2229,185,14,"socket"],[1,2238,189,8,"callback"],[1,2240,190,6,"this"],[1,2245,190,11,"socket"],[1,2252,190,18,"off"],[1,2256,190,22,"event"],[1,2258,190,29,"callback"],[1,2261,192,6,"this"],[1,2266,192,11,"socket"],[1,2273,192,18,"off"],[1,2277,192,22,"event"],[1,2280,194,2],[1,2281,199,2,"isConnected"],[1,2295,200,4],[1,2302,200,11,"this"],[1,2307,200,16,"socket"],[1,2315,200,24,"connected"],[1,2327,200,37],[1,2328,201,2],[1,2329,206,2,"getCurrentRoom"],[1,2346,207,4],[1,2353,207,11,"this"],[1,2358,207,16,"currentRoom"],[1,2369,208,2],[1,2372,213,0],[1,2376,213,0,"_default"],[1,2378,213,15,"socketService"],[1,2379,213,29],[1,2382]],"functionMap":{"names":["<global>","SocketService","SocketService#connect","SocketService#disconnect","SocketService#setupEventListeners","on$argument_1","SocketService#joinRoom","SocketService#leaveRoom","SocketService#callNumber","SocketService#claimPrize","SocketService#sendMessage","SocketService#startGame","SocketService#on","SocketService#off","SocketService#isConnected","SocketService#getCurrentRoom"],"mappings":"AAA;ACY;ECQ;GDsB;EEK;GFM;EGK;8BCG;KDO;iCCE;KDE;4BCE;KDE;oCCE;KDE;GHC;EKK;GLS;EMK;GNQ;EOK;GPU;EQK;GRW;ESK;GTU;EUK;GVO;EWK;GXO;EYK;GZU;EaK;GbE;EcK;GdE;CDC"},"hasCjsExports":false},"type":"js/module"}]}