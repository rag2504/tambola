{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":41,"index":56}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-worklets","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":57},"end":{"line":4,"column":85,"index":142}}],"key":"upgdvla269Vpw38V/0PgHoMDZsA=","exportNames":["*"],"imports":1}},{"name":"../common/constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":143},"end":{"line":5,"column":56,"index":199}}],"key":"idWbZNLFwwT/Ddx2GDw2qAzUgZM=","exportNames":["*"],"imports":1}},{"name":"../fabricUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":200},"end":{"line":6,"column":61,"index":261}}],"key":"ZVfFH5AYEX8+P/wT0N7617eOwLE=","exportNames":["*"],"imports":1}},{"name":"../mutables","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":262},"end":{"line":7,"column":42,"index":304}}],"key":"IDRZr6dviDL7zsjT4xI3gPwtNYo=","exportNames":["*"],"imports":1}},{"name":"../platformFunctions/findNodeHandle","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":305},"end":{"line":8,"column":69,"index":374}}],"key":"1isdGYORv8bBV0ZCFH0po00eajE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAnimatedRef\", {\n    enumerable: true,\n    get: function () {\n      return useAnimatedRef;\n    }\n  });\n  var _react = require(_dependencyMap[0]);\n  var _reactNativeWorklets = require(_dependencyMap[1]);\n  var _commonConstants = require(_dependencyMap[2]);\n  var _fabricUtils = require(_dependencyMap[3]);\n  var _mutables = require(_dependencyMap[4]);\n  var _platformFunctionsFindNodeHandle = require(_dependencyMap[5]);\n  function useAnimatedRefBase(getWrapper) {\n    const observers = (0, _react.useRef)(new Map()).current;\n    const wrapperRef = (0, _react.useRef)(null);\n    const resultRef = (0, _react.useRef)(null);\n    if (!resultRef.current) {\n      const fun = ref => {\n        if (ref) {\n          wrapperRef.current = getWrapper(ref);\n\n          // We have to unwrap the tag from the shadow node wrapper.\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          fun.getTag = () => (0, _platformFunctionsFindNodeHandle.findNodeHandle)(ref);\n          fun.current = ref;\n          if (observers.size) {\n            const currentTag = fun?.getTag?.() ?? null;\n            observers.forEach((cleanup, observer) => {\n              // Perform the cleanup before calling the observer again.\n              // This ensures that all events that were set up in the observer\n              // are cleaned up before the observer sets up new events during\n              // the next call.\n              cleanup?.();\n              observers.set(observer, observer(currentTag));\n            });\n          }\n        }\n        return wrapperRef.current;\n      };\n      fun.observe = observer => {\n        // Call observer immediately to get the initial value\n        const cleanup = observer(fun?.getTag?.() ?? null);\n        observers.set(observer, cleanup);\n        return () => {\n          observers.get(observer)?.();\n          observers.delete(observer);\n        };\n      };\n      fun.current = null;\n      resultRef.current = fun;\n    }\n    return resultRef.current;\n  }\n  const _worklet_15975255867835_init_data = {\n    code: \"function useAnimatedRefJs1(){const{sharedWrapper}=this.__closure;return function(){return sharedWrapper.value;};}\"\n  };\n  function useAnimatedRefNative() {\n    const [sharedWrapper] = (0, _react.useState)(() => (0, _mutables.makeMutable)(null));\n    const resultRef = useAnimatedRefBase(ref => {\n      const currentWrapper = (0, _fabricUtils.getShadowNodeWrapperFromRef)(ref);\n      sharedWrapper.value = currentWrapper;\n      return currentWrapper;\n    });\n    if (!_reactNativeWorklets.serializableMappingCache.get(resultRef)) {\n      const animatedRefSerializableHandle = (0, _reactNativeWorklets.createSerializable)({\n        __init: function useAnimatedRefJs1Factory({\n          _worklet_15975255867835_init_data,\n          sharedWrapper\n        }) {\n          const useAnimatedRefJs1 = function () {\n            return () => sharedWrapper.value;\n          };\n          useAnimatedRefJs1.__closure = {\n            sharedWrapper\n          };\n          useAnimatedRefJs1.__workletHash = 15975255867835;\n          useAnimatedRefJs1.__initData = _worklet_15975255867835_init_data;\n          return useAnimatedRefJs1;\n        }({\n          _worklet_15975255867835_init_data,\n          sharedWrapper\n        })\n      });\n      _reactNativeWorklets.serializableMappingCache.set(resultRef, animatedRefSerializableHandle);\n    }\n    return resultRef;\n  }\n  function useAnimatedRefWeb() {\n    return useAnimatedRefBase(ref => {\n      if (ref.getScrollableNode) {\n        return ref.getScrollableNode();\n      }\n      if (ref.getNativeScrollRef) {\n        return ref.getNativeScrollRef();\n      }\n      return ref;\n    });\n  }\n\n  /**\n   * Lets you get a reference of a view that you can use inside a worklet.\n   *\n   * @returns An object with a `.current` property which contains an instance of\n   *   the reference object.\n   * @see https://docs.swmansion.com/react-native-reanimated/docs/core/useAnimatedRef\n   */\n  const useAnimatedRef = _commonConstants.SHOULD_BE_USE_WEB ? useAnimatedRefWeb : useAnimatedRefNative;\n});","lineCount":114,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,88,0,"Object"],[7,8,88,0],[7,9,88,0,"defineProperty"],[7,23,88,0],[7,24,88,0,"exports"],[7,31,88,0],[8,4,88,0,"enumerable"],[8,14,88,0],[9,4,88,0,"get"],[9,7,88,0],[9,18,88,0,"get"],[9,19,88,0],[10,6,88,0],[10,13,88,0,"useAnimatedRef"],[10,27,88,0],[11,4,88,0],[12,2,88,0],[13,2,3,0],[13,6,3,0,"_react"],[13,12,3,0],[13,15,3,0,"require"],[13,22,3,0],[13,23,3,0,"_dependencyMap"],[13,37,3,0],[14,2,4,0],[14,6,4,0,"_reactNativeWorklets"],[14,26,4,0],[14,29,4,0,"require"],[14,36,4,0],[14,37,4,0,"_dependencyMap"],[14,51,4,0],[15,2,5,0],[15,6,5,0,"_commonConstants"],[15,22,5,0],[15,25,5,0,"require"],[15,32,5,0],[15,33,5,0,"_dependencyMap"],[15,47,5,0],[16,2,6,0],[16,6,6,0,"_fabricUtils"],[16,18,6,0],[16,21,6,0,"require"],[16,28,6,0],[16,29,6,0,"_dependencyMap"],[16,43,6,0],[17,2,7,0],[17,6,7,0,"_mutables"],[17,15,7,0],[17,18,7,0,"require"],[17,25,7,0],[17,26,7,0,"_dependencyMap"],[17,40,7,0],[18,2,8,0],[18,6,8,0,"_platformFunctionsFindNodeHandle"],[18,38,8,0],[18,41,8,0,"require"],[18,48,8,0],[18,49,8,0,"_dependencyMap"],[18,63,8,0],[19,2,9,0],[19,11,9,9,"useAnimatedRefBase"],[19,29,9,27,"useAnimatedRefBase"],[19,30,9,28,"getWrapper"],[19,40,9,38],[19,42,9,40],[20,4,10,2],[20,10,10,8,"observers"],[20,19,10,17],[20,22,10,20],[20,26,10,20,"useRef"],[20,32,10,26],[20,33,10,26,"useRef"],[20,39,10,26],[20,41,10,27],[20,45,10,31,"Map"],[20,48,10,34],[20,49,10,35],[20,50,10,36],[20,51,10,37],[20,52,10,38,"current"],[20,59,10,45],[21,4,11,2],[21,10,11,8,"wrapperRef"],[21,20,11,18],[21,23,11,21],[21,27,11,21,"useRef"],[21,33,11,27],[21,34,11,27,"useRef"],[21,40,11,27],[21,42,11,28],[21,46,11,32],[21,47,11,33],[22,4,12,2],[22,10,12,8,"resultRef"],[22,19,12,17],[22,22,12,20],[22,26,12,20,"useRef"],[22,32,12,26],[22,33,12,26,"useRef"],[22,39,12,26],[22,41,12,27],[22,45,12,31],[22,46,12,32],[23,4,13,2],[23,8,13,6],[23,9,13,7,"resultRef"],[23,18,13,16],[23,19,13,17,"current"],[23,26,13,24],[23,28,13,26],[24,6,14,4],[24,12,14,10,"fun"],[24,15,14,13],[24,18,14,16,"ref"],[24,21,14,19],[24,25,14,23],[25,8,15,6],[25,12,15,10,"ref"],[25,15,15,13],[25,17,15,15],[26,10,16,8,"wrapperRef"],[26,20,16,18],[26,21,16,19,"current"],[26,28,16,26],[26,31,16,29,"getWrapper"],[26,41,16,39],[26,42,16,40,"ref"],[26,45,16,43],[26,46,16,44],[28,10,18,8],[29,10,19,8],[30,10,20,8,"fun"],[30,13,20,11],[30,14,20,12,"getTag"],[30,20,20,18],[30,23,20,21],[30,29,20,27],[30,33,20,27,"findNodeHandle"],[30,65,20,41],[30,66,20,41,"findNodeHandle"],[30,80,20,41],[30,82,20,42,"ref"],[30,85,20,45],[30,86,20,46],[31,10,21,8,"fun"],[31,13,21,11],[31,14,21,12,"current"],[31,21,21,19],[31,24,21,22,"ref"],[31,27,21,25],[32,10,22,8],[32,14,22,12,"observers"],[32,23,22,21],[32,24,22,22,"size"],[32,28,22,26],[32,30,22,28],[33,12,23,10],[33,18,23,16,"currentTag"],[33,28,23,26],[33,31,23,29,"fun"],[33,34,23,32],[33,36,23,34,"getTag"],[33,42,23,40],[33,45,23,43],[33,46,23,44],[33,50,23,48],[33,54,23,52],[34,12,24,10,"observers"],[34,21,24,19],[34,22,24,20,"forEach"],[34,29,24,27],[34,30,24,28],[34,31,24,29,"cleanup"],[34,38,24,36],[34,40,24,38,"observer"],[34,48,24,46],[34,53,24,51],[35,14,25,12],[36,14,26,12],[37,14,27,12],[38,14,28,12],[39,14,29,12,"cleanup"],[39,21,29,19],[39,24,29,22],[39,25,29,23],[40,14,30,12,"observers"],[40,23,30,21],[40,24,30,22,"set"],[40,27,30,25],[40,28,30,26,"observer"],[40,36,30,34],[40,38,30,36,"observer"],[40,46,30,44],[40,47,30,45,"currentTag"],[40,57,30,55],[40,58,30,56],[40,59,30,57],[41,12,31,10],[41,13,31,11],[41,14,31,12],[42,10,32,8],[43,8,33,6],[44,8,34,6],[44,15,34,13,"wrapperRef"],[44,25,34,23],[44,26,34,24,"current"],[44,33,34,31],[45,6,35,4],[45,7,35,5],[46,6,36,4,"fun"],[46,9,36,7],[46,10,36,8,"observe"],[46,17,36,15],[46,20,36,18,"observer"],[46,28,36,26],[46,32,36,30],[47,8,37,6],[48,8,38,6],[48,14,38,12,"cleanup"],[48,21,38,19],[48,24,38,22,"observer"],[48,32,38,30],[48,33,38,31,"fun"],[48,36,38,34],[48,38,38,36,"getTag"],[48,44,38,42],[48,47,38,45],[48,48,38,46],[48,52,38,50],[48,56,38,54],[48,57,38,55],[49,8,39,6,"observers"],[49,17,39,15],[49,18,39,16,"set"],[49,21,39,19],[49,22,39,20,"observer"],[49,30,39,28],[49,32,39,30,"cleanup"],[49,39,39,37],[49,40,39,38],[50,8,40,6],[50,15,40,13],[50,21,40,19],[51,10,41,8,"observers"],[51,19,41,17],[51,20,41,18,"get"],[51,23,41,21],[51,24,41,22,"observer"],[51,32,41,30],[51,33,41,31],[51,36,41,34],[51,37,41,35],[52,10,42,8,"observers"],[52,19,42,17],[52,20,42,18,"delete"],[52,26,42,24],[52,27,42,25,"observer"],[52,35,42,33],[52,36,42,34],[53,8,43,6],[53,9,43,7],[54,6,44,4],[54,7,44,5],[55,6,45,4,"fun"],[55,9,45,7],[55,10,45,8,"current"],[55,17,45,15],[55,20,45,18],[55,24,45,22],[56,6,46,4,"resultRef"],[56,15,46,13],[56,16,46,14,"current"],[56,23,46,21],[56,26,46,24,"fun"],[56,29,46,27],[57,4,47,2],[58,4,48,2],[58,11,48,9,"resultRef"],[58,20,48,18],[58,21,48,19,"current"],[58,28,48,26],[59,2,49,0],[60,2,49,1],[60,8,49,1,"_worklet_15975255867835_init_data"],[60,41,49,1],[61,4,49,1,"code"],[61,8,49,1],[62,2,49,1],[63,2,50,0],[63,11,50,9,"useAnimatedRefNative"],[63,31,50,29,"useAnimatedRefNative"],[63,32,50,29],[63,34,50,32],[64,4,51,2],[64,10,51,8],[64,11,51,9,"sharedWrapper"],[64,24,51,22],[64,25,51,23],[64,28,51,26],[64,32,51,26,"useState"],[64,38,51,34],[64,39,51,34,"useState"],[64,47,51,34],[64,49,51,35],[64,55,51,41],[64,59,51,41,"makeMutable"],[64,68,51,52],[64,69,51,52,"makeMutable"],[64,80,51,52],[64,82,51,53],[64,86,51,57],[64,87,51,58],[64,88,51,59],[65,4,52,2],[65,10,52,8,"resultRef"],[65,19,52,17],[65,22,52,20,"useAnimatedRefBase"],[65,40,52,38],[65,41,52,39,"ref"],[65,44,52,42],[65,48,52,46],[66,6,53,4],[66,12,53,10,"currentWrapper"],[66,26,53,24],[66,29,53,27],[66,33,53,27,"getShadowNodeWrapperFromRef"],[66,45,53,54],[66,46,53,54,"getShadowNodeWrapperFromRef"],[66,73,53,54],[66,75,53,55,"ref"],[66,78,53,58],[66,79,53,59],[67,6,54,4,"sharedWrapper"],[67,19,54,17],[67,20,54,18,"value"],[67,25,54,23],[67,28,54,26,"currentWrapper"],[67,42,54,40],[68,6,55,4],[68,13,55,11,"currentWrapper"],[68,27,55,25],[69,4,56,2],[69,5,56,3],[69,6,56,4],[70,4,57,2],[70,8,57,6],[70,9,57,7,"serializableMappingCache"],[70,29,57,31],[70,30,57,31,"serializableMappingCache"],[70,54,57,31],[70,55,57,32,"get"],[70,58,57,35],[70,59,57,36,"resultRef"],[70,68,57,45],[70,69,57,46],[70,71,57,48],[71,6,58,4],[71,12,58,10,"animatedRefSerializableHandle"],[71,41,58,39],[71,44,58,42],[71,48,58,42,"createSerializable"],[71,68,58,60],[71,69,58,60,"createSerializable"],[71,87,58,60],[71,89,58,61],[72,8,59,6,"__init"],[72,14,59,12],[72,16,59,14],[72,25,59,14,"useAnimatedRefJs1Factory"],[72,50,59,14],[73,10,59,14,"_worklet_15975255867835_init_data"],[73,43,59,14],[74,10,62,21,"sharedWrapper"],[75,8,62,34],[76,10,62,34],[76,16,62,34,"useAnimatedRefJs1"],[76,33,62,34],[76,45,62,34,"useAnimatedRefJs1"],[76,46,62,34],[76,48,59,20],[77,12,62,8],[77,19,62,15],[77,25,62,21,"sharedWrapper"],[77,38,62,34],[77,39,62,35,"value"],[77,44,62,40],[78,10,63,6],[78,11,63,7],[79,10,63,7,"useAnimatedRefJs1"],[79,27,63,7],[79,28,63,7,"__closure"],[79,37,63,7],[80,12,62,21,"sharedWrapper"],[81,10,62,34],[82,10,62,34,"useAnimatedRefJs1"],[82,27,62,34],[82,28,62,34,"__workletHash"],[82,41,62,34],[83,10,62,34,"useAnimatedRefJs1"],[83,27,62,34],[83,28,62,34,"__initData"],[83,38,62,34],[83,41,62,34,"_worklet_15975255867835_init_data"],[83,74,62,34],[84,10,62,34],[84,17,62,34,"useAnimatedRefJs1"],[84,34,62,34],[85,8,62,34],[85,9,59,14],[86,10,59,14,"_worklet_15975255867835_init_data"],[86,43,59,14],[87,10,62,21,"sharedWrapper"],[88,8,62,34],[89,6,64,4],[89,7,64,5],[89,8,64,6],[90,6,65,4,"serializableMappingCache"],[90,26,65,28],[90,27,65,28,"serializableMappingCache"],[90,51,65,28],[90,52,65,29,"set"],[90,55,65,32],[90,56,65,33,"resultRef"],[90,65,65,42],[90,67,65,44,"animatedRefSerializableHandle"],[90,96,65,73],[90,97,65,74],[91,4,66,2],[92,4,67,2],[92,11,67,9,"resultRef"],[92,20,67,18],[93,2,68,0],[94,2,69,0],[94,11,69,9,"useAnimatedRefWeb"],[94,28,69,26,"useAnimatedRefWeb"],[94,29,69,26],[94,31,69,29],[95,4,70,2],[95,11,70,9,"useAnimatedRefBase"],[95,29,70,27],[95,30,70,28,"ref"],[95,33,70,31],[95,37,70,35],[96,6,71,4],[96,10,71,8,"ref"],[96,13,71,11],[96,14,71,12,"getScrollableNode"],[96,31,71,29],[96,33,71,31],[97,8,72,6],[97,15,72,13,"ref"],[97,18,72,16],[97,19,72,17,"getScrollableNode"],[97,36,72,34],[97,37,72,35],[97,38,72,36],[98,6,73,4],[99,6,74,4],[99,10,74,8,"ref"],[99,13,74,11],[99,14,74,12,"getNativeScrollRef"],[99,32,74,30],[99,34,74,32],[100,8,75,6],[100,15,75,13,"ref"],[100,18,75,16],[100,19,75,17,"getNativeScrollRef"],[100,37,75,35],[100,38,75,36],[100,39,75,37],[101,6,76,4],[102,6,77,4],[102,13,77,11,"ref"],[102,16,77,14],[103,4,78,2],[103,5,78,3],[103,6,78,4],[104,2,79,0],[106,2,81,0],[107,0,82,0],[108,0,83,0],[109,0,84,0],[110,0,85,0],[111,0,86,0],[112,0,87,0],[113,2,88,7],[113,8,88,13,"useAnimatedRef"],[113,22,88,27],[113,25,88,30,"SHOULD_BE_USE_WEB"],[113,41,88,47],[113,42,88,47,"SHOULD_BE_USE_WEB"],[113,59,88,47],[113,62,88,50,"useAnimatedRefWeb"],[113,79,88,67],[113,82,88,70,"useAnimatedRefNative"],[113,102,88,90],[114,0,88,91],[114,3]],"functionMap":{"names":["<global>","useAnimatedRefBase","fun","fun.getTag","observers.forEach$argument_0","fun.observe","<anonymous>","useAnimatedRefNative","useState$argument_0","useAnimatedRefBase$argument_0","createSerializable$argument_0.__init","useAnimatedRefWeb"],"mappings":"AAA;ACQ;gBCK;qBCM,yBD;4BEI;WFO;KDI;kBIC;aCI;ODG;KJC;CDK;AOC;mCCC,uBD;uCEC;GFI;cGG;eJG,yBI;OHC;CPK;AWC;4BFC;GEQ;CXC"},"hasCjsExports":false},"type":"js/module"}]}