{"dependencies":[{"name":"../../State","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":36,"index":51}}],"key":"WEWPBXLBFeeryzJLF/iqxrLBTrA=","exportNames":["*"],"imports":1}},{"name":"../constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":52},"end":{"line":4,"column":50,"index":102}}],"key":"eTOOXVNPpMK2U8dOAmBWjbEJ4yE=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":103},"end":{"line":5,"column":46,"index":149}}],"key":"0oKNSZn0AMFFw0m17+cJMO/YqLM=","exportNames":["*"],"imports":1}},{"name":"../detectors/ScaleGestureDetector","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":150},"end":{"line":6,"column":69,"index":219}}],"key":"tFOd3eEKqx8JoU1k9XAnYKO/ik8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return c}});var e=r(d[0]),s=r(d[1]),o=t(r(d[2])),n=t(r(d[3]));class c extends o.default{scale=1;velocity=0;startingSpan=0;spanSlop=s.DEFAULT_TOUCH_SLOP;scaleDetectorListener={onScaleBegin:t=>(this.startingSpan=t.currentSpan,!0),onScale:t=>{const s=this.scale;this.scale*=t.calculateScaleFactor(this.tracker.trackedPointersCount);const o=t.timeDelta;return o>0&&(this.velocity=(this.scale-s)/o),Math.abs(this.startingSpan-t.currentSpan)>=this.spanSlop&&this.state===e.State.BEGAN&&this.activate(),!0},onScaleEnd:t=>{}};scaleGestureDetector=new n.default(this.scaleDetectorListener);init(t,e){super.init(t,e),this.shouldCancelWhenOutside=!1}transformNativeEvent(){return{focalX:this.scaleGestureDetector.focusX,focalY:this.scaleGestureDetector.focusY,velocity:this.velocity,scale:this.scale}}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.scaleGestureDetector.onTouchEvent(t,this.tracker)}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.state===e.State.ACTIVE&&(this.scaleGestureDetector.onTouchEvent(t,this.tracker),this.state===e.State.ACTIVE?this.end():this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),this.tracker.removeFromTracker(t.pointerId),this.state===e.State.ACTIVE&&this.tracker.trackedPointersCount<2&&this.end()}onPointerMove(t){this.tracker.trackedPointersCount<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.trackedPointersCount<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}tryBegin(){this.state===e.State.UNDETERMINED&&(this.resetProgress(),this.begin())}activate(t){this.state!==e.State.ACTIVE&&this.resetProgress(),super.activate(t)}onReset(){this.resetProgress()}resetProgress(){this.state!==e.State.ACTIVE&&(this.velocity=0,this.scale=1)}}});","lineCount":1,"map":[[1,29,1,0],[1,42,1,13],[1,51,1,13,"_interopDefault"],[1,53,1,13,"e"],[1,56,1,13],[1,63,1,13,"e"],[1,68,1,13,"__esModule"],[1,79,1,13,"e"],[1,81,1,13],[1,82,1,13,"default"],[1,90,1,13,"e"],[1,92,1,13],[1,93,1,13,"Object"],[1,100,1,13,"defineProperty"],[1,115,1,13,"_e"],[1,118,1,13],[1,132,1,13,"value"],[1,139,1,13],[1,143,7,15,"Object"],[1,150,7,15,"defineProperty"],[1,165,7,15,"_e"],[1,168,7,15],[1,179,7,15,"enumerable"],[1,191,7,15],[1,193,7,15,"get"],[1,197,7,15],[1,215,7,15,"PinchGestureHandler"],[1,216,7,15],[1,220,3,0],[1,224,3,0,"_State"],[1,226,3,0,"r"],[1,228,3,0,"d"],[1,230,3,0],[1,234,4,0,"_constants"],[1,236,4,0,"r"],[1,238,4,0,"d"],[1,240,4,0],[1,244,5,0,"GestureHandler"],[1,246,5,0,"_interopDefault"],[1,248,5,0,"r"],[1,250,5,0,"d"],[1,252,5,0],[1,257,6,0,"ScaleGestureDetector"],[1,259,6,0,"_interopDefault"],[1,261,6,0,"r"],[1,263,6,0,"d"],[1,265,6,0],[1,270,7,15],[1,276,7,21,"PinchGestureHandler"],[1,286,7,49,"GestureHandler"],[1,288,7,63,"default"],[1,296,8,2,"scale"],[1,302,8,10],[1,304,9,2,"velocity"],[1,313,9,13],[1,315,10,2,"startingSpan"],[1,328,10,17],[1,330,11,2,"spanSlop"],[1,339,11,13,"DEFAULT_TOUCH_SLOP"],[1,341,11,31,"DEFAULT_TOUCH_SLOP"],[1,360,12,2,"scaleDetectorListener"],[1,382,12,26],[1,383,13,4,"onScaleBegin"],[1,396,13,18,"detector"],[1,400,14,6,"this"],[1,405,14,11,"startingSpan"],[1,418,14,26,"detector"],[1,420,14,35,"currentSpan"],[1,433,15,13],[1,436,17,4,"onScale"],[1,444,17,13,"detector"],[1,448,18,6],[1,454,18,12,"prevScaleFactor"],[1,456,18,30,"this"],[1,461,18,35,"scale"],[1,467,19,6,"this"],[1,472,19,11,"scale"],[1,479,19,20,"detector"],[1,481,19,29,"calculateScaleFactor"],[1,502,19,50,"this"],[1,507,19,55,"tracker"],[1,515,19,63,"trackedPointersCount"],[1,537,20,6],[1,543,20,12,"delta"],[1,545,20,20,"detector"],[1,547,20,29,"timeDelta"],[1,557,27,6],[1,564,21,10,"delta"],[1,566,21,18],[1,570,22,8,"this"],[1,575,22,13,"velocity"],[1,585,22,25,"this"],[1,590,22,30,"scale"],[1,596,22,38,"prevScaleFactor"],[1,599,22,57,"delta"],[1,602,24,10,"Math"],[1,607,24,15,"abs"],[1,611,24,19,"this"],[1,616,24,24,"startingSpan"],[1,629,24,39,"detector"],[1,631,24,48,"currentSpan"],[1,645,24,64,"this"],[1,650,24,69,"spanSlop"],[1,660,24,81,"this"],[1,665,24,86,"state"],[1,673,24,96,"State"],[1,675,24,101,"State"],[1,681,24,102,"BEGAN"],[1,688,25,8,"this"],[1,693,25,13,"activate"],[1,705,27,13],[1,708,29,4,"onScaleEnd"],[1,719,29,16,"_detector"],[1,726,31,2,"scaleGestureDetector"],[1,747,31,25],[1,751,31,29,"ScaleGestureDetector"],[1,753,31,49,"default"],[1,761,31,50,"this"],[1,766,31,55,"scaleDetectorListener"],[1,789,32,2,"init"],[1,794,32,7,"ref"],[1,796,32,12,"propsRef"],[1,799,33,4,"super"],[1,805,33,10,"init"],[1,810,33,15,"ref"],[1,812,33,20,"propsRef"],[1,815,34,4,"this"],[1,820,34,9,"shouldCancelWhenOutside"],[1,845,34,35],[1,846,35,2],[1,847,36,2,"transformNativeEvent"],[1,870,37,4],[1,876,37,11],[1,877,38,6,"focalX"],[1,884,38,14,"this"],[1,889,38,19,"scaleGestureDetector"],[1,910,38,40,"focusX"],[1,917,39,6,"focalY"],[1,924,39,14,"this"],[1,929,39,19,"scaleGestureDetector"],[1,950,39,40,"focusY"],[1,957,40,6,"velocity"],[1,966,40,16,"this"],[1,971,40,21,"velocity"],[1,980,41,6,"scale"],[1,986,41,13,"this"],[1,991,41,18,"scale"],[1,997,43,2],[1,998,44,2,"onPointerDown"],[1,1012,44,16,"event"],[1,1015,45,4,"this"],[1,1020,45,9,"tracker"],[1,1028,45,17,"addToTracker"],[1,1041,45,30,"event"],[1,1044,46,4,"super"],[1,1050,46,10,"onPointerDown"],[1,1064,46,24,"event"],[1,1067,47,4,"this"],[1,1072,47,9,"tryToSendTouchEvent"],[1,1092,47,29,"event"],[1,1094,48,2],[1,1095,49,2,"onPointerAdd"],[1,1108,49,15,"event"],[1,1111,50,4,"this"],[1,1116,50,9,"tracker"],[1,1124,50,17,"addToTracker"],[1,1137,50,30,"event"],[1,1140,51,4,"super"],[1,1146,51,10,"onPointerAdd"],[1,1159,51,23,"event"],[1,1162,52,4,"this"],[1,1167,52,9,"tryBegin"],[1,1178,53,4,"this"],[1,1183,53,9,"scaleGestureDetector"],[1,1204,53,30,"onTouchEvent"],[1,1217,53,43,"event"],[1,1219,53,50,"this"],[1,1224,53,55,"tracker"],[1,1232,54,2],[1,1233,55,2,"onPointerUp"],[1,1245,55,14,"event"],[1,1248,56,4,"super"],[1,1254,56,10,"onPointerUp"],[1,1266,56,22,"event"],[1,1269,57,4,"this"],[1,1274,57,9,"tracker"],[1,1282,57,17,"removeFromTracker"],[1,1300,57,35,"event"],[1,1302,57,41,"pointerId"],[1,1313,58,8,"this"],[1,1318,58,13,"state"],[1,1326,58,23,"State"],[1,1328,58,28,"State"],[1,1334,58,29,"ACTIVE"],[1,1343,61,4,"this"],[1,1348,61,9,"scaleGestureDetector"],[1,1369,61,30,"onTouchEvent"],[1,1382,61,43,"event"],[1,1384,61,50,"this"],[1,1389,61,55,"tracker"],[1,1398,62,8,"this"],[1,1403,62,13,"state"],[1,1411,62,23,"State"],[1,1413,62,28,"State"],[1,1419,62,29,"ACTIVE"],[1,1426,63,6,"this"],[1,1431,63,11,"end"],[1,1437,65,6,"this"],[1,1442,65,11,"fail"],[1,1449,67,2],[1,1450,68,2,"onPointerRemove"],[1,1466,68,18,"event"],[1,1469,69,4,"super"],[1,1475,69,10,"onPointerRemove"],[1,1491,69,26,"event"],[1,1494,70,4,"this"],[1,1499,70,9,"scaleGestureDetector"],[1,1520,70,30,"onTouchEvent"],[1,1533,70,43,"event"],[1,1535,70,50,"this"],[1,1540,70,55,"tracker"],[1,1549,71,4,"this"],[1,1554,71,9,"tracker"],[1,1562,71,17,"removeFromTracker"],[1,1580,71,35,"event"],[1,1582,71,41,"pointerId"],[1,1593,72,8,"this"],[1,1598,72,13,"state"],[1,1606,72,23,"State"],[1,1608,72,28,"State"],[1,1614,72,29,"ACTIVE"],[1,1622,72,39,"this"],[1,1627,72,44,"tracker"],[1,1635,72,52,"trackedPointersCount"],[1,1656,72,75],[1,1659,73,6,"this"],[1,1664,73,11,"end"],[1,1669,75,2],[1,1670,76,2,"onPointerMove"],[1,1684,76,16,"event"],[1,1687,77,8,"this"],[1,1692,77,13,"tracker"],[1,1700,77,21,"trackedPointersCount"],[1,1721,77,44],[1,1725,80,4,"this"],[1,1730,80,9,"tracker"],[1,1738,80,17,"track"],[1,1744,80,23,"event"],[1,1747,81,4,"this"],[1,1752,81,9,"scaleGestureDetector"],[1,1773,81,30,"onTouchEvent"],[1,1786,81,43,"event"],[1,1788,81,50,"this"],[1,1793,81,55,"tracker"],[1,1802,82,4,"super"],[1,1808,82,10,"onPointerMove"],[1,1822,82,24,"event"],[1,1825,83,2],[1,1826,84,2,"onPointerOutOfBounds"],[1,1847,84,23,"event"],[1,1850,85,8,"this"],[1,1855,85,13,"tracker"],[1,1863,85,21,"trackedPointersCount"],[1,1884,85,44],[1,1888,88,4,"this"],[1,1893,88,9,"tracker"],[1,1901,88,17,"track"],[1,1907,88,23,"event"],[1,1910,89,4,"this"],[1,1915,89,9,"scaleGestureDetector"],[1,1936,89,30,"onTouchEvent"],[1,1949,89,43,"event"],[1,1951,89,50,"this"],[1,1956,89,55,"tracker"],[1,1965,90,4,"super"],[1,1971,90,10,"onPointerOutOfBounds"],[1,1992,90,31,"event"],[1,1995,91,2],[1,1996,92,2,"tryBegin"],[1,2007,93,8,"this"],[1,2012,93,13,"state"],[1,2020,93,23,"State"],[1,2022,93,28,"State"],[1,2028,93,29,"UNDETERMINED"],[1,2043,96,4,"this"],[1,2048,96,9,"resetProgress"],[1,2064,97,4,"this"],[1,2069,97,9,"begin"],[1,2077,98,2],[1,2078,99,2,"activate"],[1,2087,99,11,"force"],[1,2090,100,8,"this"],[1,2095,100,13,"state"],[1,2103,100,23,"State"],[1,2105,100,28,"State"],[1,2111,100,29,"ACTIVE"],[1,2119,101,6,"this"],[1,2124,101,11,"resetProgress"],[1,2140,103,4,"super"],[1,2146,103,10,"activate"],[1,2155,103,19,"force"],[1,2157,104,2],[1,2158,105,2,"onReset"],[1,2168,106,4,"this"],[1,2173,106,9,"resetProgress"],[1,2188,107,2],[1,2189,108,2,"resetProgress"],[1,2205,109,8,"this"],[1,2210,109,13,"state"],[1,2218,109,23,"State"],[1,2220,109,28,"State"],[1,2226,109,29,"ACTIVE"],[1,2235,112,4,"this"],[1,2240,112,9,"velocity"],[1,2249,112,20],[1,2251,113,4,"this"],[1,2256,113,9,"scale"],[1,2262,113,17],[1,2264,114,2],[1,2266,115,1],[1,2269]],"functionMap":{"names":["<global>","PinchGestureHandler","scaleDetectorListener.onScaleBegin","scaleDetectorListener.onScale","scaleDetectorListener.onScaleEnd","init","transformNativeEvent","onPointerDown","onPointerAdd","onPointerUp","onPointerRemove","onPointerMove","onPointerOutOfBounds","tryBegin","activate","onReset","resetProgress"],"mappings":"AAA;eCM;kBCM;KDG;aEC;KFW;gBGC,eH;EIG;GJG;EKC;GLO;EMC;GNI;EOC;GPK;EQC;GRY;ESC;GTO;EUC;GVO;EWC;GXO;EYC;GZM;EaC;GbK;EcC;GdE;EeC;GfM;CDC"},"hasCjsExports":false},"type":"js/module"}]}