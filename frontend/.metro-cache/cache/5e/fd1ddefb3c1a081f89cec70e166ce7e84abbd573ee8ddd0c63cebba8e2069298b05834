{"dependencies":[{"name":"../../State","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":36,"index":51}}],"key":"WEWPBXLBFeeryzJLF/iqxrLBTrA=","exportNames":["*"],"imports":1}},{"name":"../../Directions","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":52},"end":{"line":4,"column":66,"index":118}}],"key":"05BxNcpXaYAeyUvpG1n5gignxMc=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":119},"end":{"line":5,"column":46,"index":165}}],"key":"0oKNSZn0AMFFw0m17+cJMO/YqLM=","exportNames":["*"],"imports":1}},{"name":"../tools/Vector","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":166},"end":{"line":6,"column":37,"index":203}}],"key":"4h752T1Mc+t0TArQHF8ZPfbqdCc=","exportNames":["*"],"imports":1}},{"name":"../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":204},"end":{"line":7,"column":43,"index":247}}],"key":"mL7nJyZhzUYx+zMcIt1cBzVuRps=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return f}});var e=r(d[0]),n=r(d[1]),o=t(r(d[2])),s=t(r(d[3])),u=r(d[4]);const c=n.Directions.RIGHT,h=(0,u.coneToDeviation)(30),l=(0,u.coneToDeviation)(60);class f extends o.default{numberOfPointersRequired=1;direction=c;maxDurationMs=800;minVelocity=700;maxNumberOfPointersSimultaneously=0;keyPointer=NaN;updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),this.config.direction&&(this.direction=this.config.direction),this.config.numberOfPointers&&(this.numberOfPointersRequired=this.config.numberOfPointers)}startFling(){this.begin(),this.maxNumberOfPointersSimultaneously=1,this.delayTimeout=setTimeout(()=>this.fail(),this.maxDurationMs)}tryEndFling(){const t=s.default.fromVelocity(this.tracker,this.keyPointer);if(!t)return!1;const e=(e,n)=>(e&this.direction)===e&&t.isSimilar(s.default.fromDirection(e),n),o=Object.values(n.Directions),u=Object.values(n.DiagonalDirections),c=o.map(t=>e(t,h)),f=u.map(t=>e(t,l)),P=c.some(Boolean)||f.some(Boolean),p=t.magnitude>this.minVelocity;return!(this.maxNumberOfPointersSimultaneously!==this.numberOfPointersRequired||!P||!p)&&(clearTimeout(this.delayTimeout),this.activate(),!0)}endFling(){this.tryEndFling()||this.fail()}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),this.keyPointer=t.pointerId,super.onPointerDown(t),this.newPointerAction(),this.tryToSendTouchEvent(t))}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.newPointerAction()}newPointerAction(){this.state===e.State.UNDETERMINED&&this.startFling(),this.state===e.State.BEGAN&&(this.tryEndFling(),this.tracker.trackedPointersCount>this.maxNumberOfPointersSimultaneously&&(this.maxNumberOfPointersSimultaneously=this.tracker.trackedPointersCount))}pointerMoveAction(t){this.tracker.track(t),this.state===e.State.BEGAN&&this.tryEndFling()}onPointerMove(t){this.pointerMoveAction(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.pointerMoveAction(t),super.onPointerOutOfBounds(t)}onPointerUp(t){super.onPointerUp(t),this.onUp(t),this.keyPointer=NaN}onPointerRemove(t){super.onPointerRemove(t),this.onUp(t)}onUp(t){this.state===e.State.BEGAN&&this.endFling(),this.tracker.removeFromTracker(t.pointerId)}activate(t){super.activate(t),this.end()}resetConfig(){super.resetConfig(),this.numberOfPointersRequired=1,this.direction=c}}});","lineCount":1,"map":[[1,29,1,0],[1,42,1,13],[1,51,1,13,"_interopDefault"],[1,53,1,13,"e"],[1,56,1,13],[1,63,1,13,"e"],[1,68,1,13,"__esModule"],[1,79,1,13,"e"],[1,81,1,13],[1,82,1,13,"default"],[1,90,1,13,"e"],[1,92,1,13],[1,93,1,13,"Object"],[1,100,1,13,"defineProperty"],[1,115,1,13,"_e"],[1,118,1,13],[1,132,1,13,"value"],[1,139,1,13],[1,143,15,15,"Object"],[1,150,15,15,"defineProperty"],[1,165,15,15,"_e"],[1,168,15,15],[1,179,15,15,"enumerable"],[1,191,15,15],[1,193,15,15,"get"],[1,197,15,15],[1,215,15,15,"FlingGestureHandler"],[1,216,15,15],[1,220,3,0],[1,224,3,0,"_State"],[1,226,3,0,"r"],[1,228,3,0,"d"],[1,230,3,0],[1,234,4,0,"_Directions"],[1,236,4,0,"r"],[1,238,4,0,"d"],[1,240,4,0],[1,244,5,0,"GestureHandler"],[1,246,5,0,"_interopDefault"],[1,248,5,0,"r"],[1,250,5,0,"d"],[1,252,5,0],[1,257,6,0,"Vector"],[1,259,6,0,"_interopDefault"],[1,261,6,0,"r"],[1,263,6,0,"d"],[1,265,6,0],[1,270,7,0,"_utils"],[1,272,7,0,"r"],[1,274,7,0,"d"],[1,276,7,0],[1,280,8,0],[1,286,11,6,"DEFAULT_DIRECTION"],[1,288,11,26,"Directions"],[1,290,11,36,"Directions"],[1,301,11,37,"RIGHT"],[1,307,13,6,"AXIAL_DEVIATION_COSINE"],[1,310,13,31],[1,312,13,31,"coneToDeviation"],[1,314,13,46,"coneToDeviation"],[1,331,10,31],[1,335,14,6,"DIAGONAL_DEVIATION_COSINE"],[1,338,14,34],[1,340,14,34,"coneToDeviation"],[1,342,14,49,"coneToDeviation"],[1,359,14,49],[1,363,15,15],[1,369,15,21,"FlingGestureHandler"],[1,379,15,49,"GestureHandler"],[1,381,15,63,"default"],[1,389,16,2,"numberOfPointersRequired"],[1,414,12,43],[1,416,17,2,"direction"],[1,426,17,14,"DEFAULT_DIRECTION"],[1,428,18,2,"maxDurationMs"],[1,442,8,32],[1,446,19,2,"minVelocity"],[1,458,9,29],[1,462,20,2,"maxNumberOfPointersSimultaneously"],[1,496,20,38],[1,498,21,2,"keyPointer"],[1,509,21,15,"NaN"],[1,513,22,2,"updateGestureConfig"],[1,534,22,22,"enabled"],[1,542,23,4,"enabled"],[1,545,23,14],[1,550,24,7,"props"],[1,554,26,4,"super"],[1,560,26,10,"updateGestureConfig"],[1,580,26,30],[1,581,27,6,"enabled"],[1,589,27,15,"enabled"],[1,594,28,9,"props"],[1,598,30,8,"this"],[1,603,30,13,"config"],[1,610,30,20,"direction"],[1,622,31,6,"this"],[1,627,31,11,"direction"],[1,637,31,23,"this"],[1,642,31,28,"config"],[1,649,31,35,"direction"],[1,660,33,8,"this"],[1,665,33,13,"config"],[1,672,33,20,"numberOfPointers"],[1,691,34,6,"this"],[1,696,34,11,"numberOfPointersRequired"],[1,721,34,38,"this"],[1,726,34,43,"config"],[1,733,34,50,"numberOfPointers"],[1,750,36,2],[1,751,37,2,"startFling"],[1,764,38,4,"this"],[1,769,38,9,"begin"],[1,777,39,4,"this"],[1,782,39,9,"maxNumberOfPointersSimultaneously"],[1,816,39,45],[1,818,40,4,"this"],[1,823,40,9,"delayTimeout"],[1,836,40,24,"setTimeout"],[1,847,40,35],[1,851,40,41,"this"],[1,856,40,46,"fail"],[1,863,40,54,"this"],[1,868,40,59,"maxDurationMs"],[1,882,41,2],[1,883,42,2,"tryEndFling"],[1,897,43,4],[1,903,43,10,"velocityVector"],[1,905,43,27,"Vector"],[1,907,43,33,"default"],[1,915,43,34,"fromVelocity"],[1,928,43,47,"this"],[1,933,43,52,"tracker"],[1,941,43,61,"this"],[1,946,43,66,"keyPointer"],[1,958,44,4],[1,962,44,9,"velocityVector"],[1,964,45,6],[1,971,45,13],[1,973,47,4],[1,979,47,10,"getAlignment"],[1,981,47,25,"getAlignment"],[1,982,47,26,"direction"],[1,984,47,37,"minimalAlignmentCosine"],[1,989,48,14,"direction"],[1,991,48,26,"this"],[1,996,48,31,"direction"],[1,1009,48,46,"direction"],[1,1012,48,59,"velocityVector"],[1,1014,48,74,"isSimilar"],[1,1024,48,84,"Vector"],[1,1026,48,90,"default"],[1,1034,48,91,"fromDirection"],[1,1048,48,105,"direction"],[1,1051,48,117,"minimalAlignmentCosine"],[1,1054,50,10,"axialDirectionsList"],[1,1056,50,32,"Object"],[1,1063,50,39,"values"],[1,1070,50,46,"Directions"],[1,1072,50,56,"Directions"],[1,1084,51,10,"diagonalDirectionsList"],[1,1086,51,35,"Object"],[1,1093,51,42,"values"],[1,1100,51,49,"DiagonalDirections"],[1,1102,51,67,"DiagonalDirections"],[1,1122,54,10,"axialAlignmentList"],[1,1124,54,31,"axialDirectionsList"],[1,1126,54,51,"map"],[1,1130,54,55,"direction"],[1,1133,54,68,"getAlignment"],[1,1135,54,81,"direction"],[1,1137,54,92,"AXIAL_DEVIATION_COSINE"],[1,1141,55,10,"diagonalAlignmentList"],[1,1143,55,34,"diagonalDirectionsList"],[1,1145,55,57,"map"],[1,1149,55,61,"direction"],[1,1152,55,74,"getAlignment"],[1,1154,55,87,"direction"],[1,1156,55,98,"DIAGONAL_DEVIATION_COSINE"],[1,1160,56,10,"isAligned"],[1,1162,56,22,"axialAlignmentList"],[1,1164,56,41,"some"],[1,1169,56,46,"Boolean"],[1,1179,56,58,"diagonalAlignmentList"],[1,1181,56,80,"some"],[1,1186,56,85,"Boolean"],[1,1195,57,10,"isFast"],[1,1197,57,19,"velocityVector"],[1,1199,57,34,"magnitude"],[1,1209,57,46,"this"],[1,1214,57,51,"minVelocity"],[1,1226,58,4],[1,1234,58,8,"this"],[1,1239,58,13,"maxNumberOfPointersSimultaneously"],[1,1275,58,51,"this"],[1,1280,58,56,"numberOfPointersRequired"],[1,1307,58,84,"isAligned"],[1,1311,58,97,"isFast"],[1,1316,59,6,"clearTimeout"],[1,1329,59,19,"this"],[1,1334,59,24,"delayTimeout"],[1,1348,60,6,"this"],[1,1353,60,11,"activate"],[1,1365,61,13],[1,1367,64,2],[1,1368,65,2,"endFling"],[1,1379,66,9,"this"],[1,1384,66,14,"tryEndFling"],[1,1399,67,6,"this"],[1,1404,67,11,"fail"],[1,1410,69,2],[1,1411,70,2,"onPointerDown"],[1,1425,70,16,"event"],[1,1428,71,9,"this"],[1,1433,71,14,"isButtonInConfig"],[1,1450,71,31,"event"],[1,1452,71,37,"button"],[1,1462,74,4,"this"],[1,1467,74,9,"tracker"],[1,1475,74,17,"addToTracker"],[1,1488,74,30,"event"],[1,1491,75,4,"this"],[1,1496,75,9,"keyPointer"],[1,1507,75,22,"event"],[1,1509,75,28,"pointerId"],[1,1519,76,4,"super"],[1,1525,76,10,"onPointerDown"],[1,1539,76,24,"event"],[1,1542,77,4,"this"],[1,1547,77,9,"newPointerAction"],[1,1566,78,4,"this"],[1,1571,78,9,"tryToSendTouchEvent"],[1,1591,78,29,"event"],[1,1594,79,2],[1,1595,80,2,"onPointerAdd"],[1,1608,80,15,"event"],[1,1611,81,4,"this"],[1,1616,81,9,"tracker"],[1,1624,81,17,"addToTracker"],[1,1637,81,30,"event"],[1,1640,82,4,"super"],[1,1646,82,10,"onPointerAdd"],[1,1659,82,23,"event"],[1,1662,83,4,"this"],[1,1667,83,9,"newPointerAction"],[1,1685,84,2],[1,1686,85,2,"newPointerAction"],[1,1705,86,8,"this"],[1,1710,86,13,"state"],[1,1718,86,23,"State"],[1,1720,86,28,"State"],[1,1726,86,29,"UNDETERMINED"],[1,1740,87,6,"this"],[1,1745,87,11,"startFling"],[1,1758,89,8,"this"],[1,1763,89,13,"state"],[1,1771,89,23,"State"],[1,1773,89,28,"State"],[1,1779,89,29,"BEGAN"],[1,1787,92,4,"this"],[1,1792,92,9,"tryEndFling"],[1,1806,93,8,"this"],[1,1811,93,13,"tracker"],[1,1819,93,21,"trackedPointersCount"],[1,1840,93,44,"this"],[1,1845,93,49,"maxNumberOfPointersSimultaneously"],[1,1881,94,6,"this"],[1,1886,94,11,"maxNumberOfPointersSimultaneously"],[1,1920,94,47,"this"],[1,1925,94,52,"tracker"],[1,1933,94,60,"trackedPointersCount"],[1,1955,96,2],[1,1956,97,2,"pointerMoveAction"],[1,1974,97,20,"event"],[1,1977,98,4,"this"],[1,1982,98,9,"tracker"],[1,1990,98,17,"track"],[1,1996,98,23,"event"],[1,1999,99,8,"this"],[1,2004,99,13,"state"],[1,2012,99,23,"State"],[1,2014,99,28,"State"],[1,2020,99,29,"BEGAN"],[1,2027,102,4,"this"],[1,2032,102,9,"tryEndFling"],[1,2045,103,2],[1,2046,104,2,"onPointerMove"],[1,2060,104,16,"event"],[1,2063,105,4,"this"],[1,2068,105,9,"pointerMoveAction"],[1,2086,105,27,"event"],[1,2089,106,4,"super"],[1,2095,106,10,"onPointerMove"],[1,2109,106,24,"event"],[1,2111,107,2],[1,2112,108,2,"onPointerOutOfBounds"],[1,2133,108,23,"event"],[1,2136,109,4,"this"],[1,2141,109,9,"pointerMoveAction"],[1,2159,109,27,"event"],[1,2162,110,4,"super"],[1,2168,110,10,"onPointerOutOfBounds"],[1,2189,110,31,"event"],[1,2191,111,2],[1,2192,112,2,"onPointerUp"],[1,2204,112,14,"event"],[1,2207,113,4,"super"],[1,2213,113,10,"onPointerUp"],[1,2225,113,22,"event"],[1,2228,114,4,"this"],[1,2233,114,9,"onUp"],[1,2238,114,14,"event"],[1,2241,115,4,"this"],[1,2246,115,9,"keyPointer"],[1,2257,115,22,"NaN"],[1,2260,116,2],[1,2261,117,2,"onPointerRemove"],[1,2277,117,18,"event"],[1,2280,118,4,"super"],[1,2286,118,10,"onPointerRemove"],[1,2302,118,26,"event"],[1,2305,119,4,"this"],[1,2310,119,9,"onUp"],[1,2315,119,14,"event"],[1,2317,120,2],[1,2318,121,2,"onUp"],[1,2323,121,7,"event"],[1,2326,122,8,"this"],[1,2331,122,13,"state"],[1,2339,122,23,"State"],[1,2341,122,28,"State"],[1,2347,122,29,"BEGAN"],[1,2354,123,6,"this"],[1,2359,123,11,"endFling"],[1,2370,125,4,"this"],[1,2375,125,9,"tracker"],[1,2383,125,17,"removeFromTracker"],[1,2401,125,35,"event"],[1,2403,125,41,"pointerId"],[1,2413,126,2],[1,2414,127,2,"activate"],[1,2423,127,11,"force"],[1,2426,128,4,"super"],[1,2432,128,10,"activate"],[1,2441,128,19,"force"],[1,2444,129,4,"this"],[1,2449,129,9,"end"],[1,2454,130,2],[1,2455,131,2,"resetConfig"],[1,2469,132,4,"super"],[1,2475,132,10,"resetConfig"],[1,2489,133,4,"this"],[1,2494,133,9,"numberOfPointersRequired"],[1,2519,12,43],[1,2521,134,4,"this"],[1,2526,134,9,"direction"],[1,2536,134,21,"DEFAULT_DIRECTION"],[1,2537,135,2],[1,2539,136,1],[1,2542]],"functionMap":{"names":["<global>","FlingGestureHandler","updateGestureConfig","startFling","setTimeout$argument_0","tryEndFling","getAlignment","axialDirectionsList.map$argument_0","diagonalDirectionsList.map$argument_0","endFling","onPointerDown","onPointerAdd","newPointerAction","pointerMoveAction","onPointerMove","onPointerOutOfBounds","onPointerUp","onPointerRemove","onUp","activate","resetConfig"],"mappings":"AAA;eCc;ECO;GDc;EEC;mCCG,iBD;GFC;EIC;yBCK;KDE;uDEK,4DF;6DGC,+DH;GJS;EQC;GRI;ESC;GTS;EUC;GVI;EWC;GXW;EYC;GZM;EaC;GbG;EcC;GdG;EeC;GfI;EgBC;GhBG;EiBC;GjBK;EkBC;GlBG;EmBC;GnBI;CDC"},"hasCjsExports":false},"type":"js/module"}]}