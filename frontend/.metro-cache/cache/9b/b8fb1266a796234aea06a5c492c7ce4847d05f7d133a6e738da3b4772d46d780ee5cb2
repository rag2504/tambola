{"dependencies":[{"name":"./VelocityTracker","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":48,"index":63}}],"key":"QbDk2GE3iqwFFASqUISemKLRhp0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return o}});var e,t=r(d[0]),s=(e=t)&&e.__esModule?e:{default:e};class o{velocityTracker=new s.default;_trackedPointers=new Map;touchEventsIds=new Map;cachedAbsoluteAverages={x:0,y:0};cachedRelativeAverages={x:0,y:0};constructor(){this.lastMovedPointerId=NaN;for(let e=0;e<20;++e)this.touchEventsIds.set(e,NaN)}addToTracker(e){if(this.trackedPointers.has(e.pointerId))return;this.lastMovedPointerId=e.pointerId;const t={abosoluteCoords:{x:e.x,y:e.y},relativeCoords:{x:e.offsetX,y:e.offsetY},timestamp:e.time,velocityX:0,velocityY:0};this.trackedPointers.set(e.pointerId,t),this.mapTouchEventId(e.pointerId),this.cachedAbsoluteAverages=this.getAbsoluteCoordsAverage(),this.cachedRelativeAverages=this.getRelativeCoordsAverage()}removeFromTracker(e){this.trackedPointers.delete(e),this.removeMappedTouchId(e)}track(e){const t=this.trackedPointers.get(e.pointerId);if(!t)return;this.lastMovedPointerId=e.pointerId,this.velocityTracker.add(e);const[s,o]=this.velocityTracker.velocity;t.velocityX=s,t.velocityY=o,t.abosoluteCoords={x:e.x,y:e.y},t.relativeCoords={x:e.offsetX,y:e.offsetY},this.trackedPointers.set(e.pointerId,t),this.cachedAbsoluteAverages=this.getAbsoluteCoordsAverage(),this.cachedRelativeAverages=this.getRelativeCoordsAverage()}mapTouchEventId(e){for(const[t,s]of this.touchEventsIds)if(isNaN(s)){this.touchEventsIds.set(t,e);break}}removeMappedTouchId(e){const t=this.getMappedTouchEventId(e);isNaN(t)||this.touchEventsIds.set(t,NaN)}getMappedTouchEventId(e){for(const[t,s]of this.touchEventsIds.entries())if(s===e)return t;return NaN}getVelocity(e){const t=this.trackedPointers.get(e);return t?{x:t.velocityX,y:t.velocityY}:null}getLastAbsoluteCoords(e){return this.trackedPointers.get(e??this.lastMovedPointerId)?.abosoluteCoords}getLastRelativeCoords(e){return this.trackedPointers.get(e??this.lastMovedPointerId)?.relativeCoords}getAbsoluteCoordsAverage(){const e=this.getAbsoluteCoordsSum(),t=e.x/this.trackedPointers.size,s=e.y/this.trackedPointers.size;return{x:isNaN(t)?this.cachedAbsoluteAverages.x:t,y:isNaN(s)?this.cachedAbsoluteAverages.y:s}}getRelativeCoordsAverage(){const e=this.getRelativeCoordsSum(),t=e.x/this.trackedPointers.size,s=e.y/this.trackedPointers.size;return{x:isNaN(t)?this.cachedRelativeAverages.x:t,y:isNaN(s)?this.cachedRelativeAverages.y:s}}getAbsoluteCoordsSum(e){const t={x:0,y:0};return this.trackedPointers.forEach((s,o)=>{o!==e&&(t.x+=s.abosoluteCoords.x,t.y+=s.abosoluteCoords.y)}),t}getRelativeCoordsSum(e){const t={x:0,y:0};return this.trackedPointers.forEach((s,o)=>{o!==e&&(t.x+=s.relativeCoords.x,t.y+=s.relativeCoords.y)}),t}resetTracker(){this.velocityTracker.reset(),this.trackedPointers.clear(),this.lastMovedPointerId=NaN;for(let e=0;e<20;++e)this.touchEventsIds.set(e,NaN)}static shareCommonPointers(e,t){return e.some(e=>t.includes(e))}get trackedPointersCount(){return this.trackedPointers.size}get trackedPointersIDs(){const e=[];return this.trackedPointers.forEach((t,s)=>{e.push(s)}),e}get trackedPointers(){return this._trackedPointers}}});","lineCount":1,"map":[[1,30,1,0],[1,43,1,13,"Object"],[1,50,1,13,"defineProperty"],[1,65,1,13,"_e"],[1,68,1,13],[1,82,1,13,"value"],[1,89,1,13],[1,93,5,15,"Object"],[1,100,5,15,"defineProperty"],[1,115,5,15,"_e"],[1,118,5,15],[1,129,5,15,"enumerable"],[1,141,5,15],[1,143,5,15,"get"],[1,147,5,15],[1,165,5,15,"PointerTracker"],[1,166,5,15],[1,170,3,0],[1,174,1,13,"e"],[1,176,3,0,"_VelocityTracker"],[1,178,3,0,"r"],[1,180,3,0,"d"],[1,182,3,0],[1,186,3,0,"VelocityTracker"],[1,189,1,13,"e"],[1,191,3,0,"_VelocityTracker"],[1,195,1,13,"e"],[1,197,1,13,"__esModule"],[1,208,1,13,"e"],[1,210,1,13],[1,211,1,13,"default"],[1,219,1,13,"e"],[1,222,5,15],[1,228,5,21,"PointerTracker"],[1,230,6,2,"velocityTracker"],[1,246,6,20],[1,250,6,24,"VelocityTracker"],[1,252,6,39,"default"],[1,260,7,2,"_trackedPointers"],[1,277,7,21],[1,281,7,25,"Map"],[1,285,8,2,"touchEventsIds"],[1,300,8,19],[1,304,8,23,"Map"],[1,308,9,2,"cachedAbsoluteAverages"],[1,331,9,27],[1,332,10,4,"x"],[1,334,10,7],[1,336,11,4,"y"],[1,338,11,7],[1,341,13,2,"cachedRelativeAverages"],[1,364,13,27],[1,365,14,4,"x"],[1,367,14,7],[1,369,15,4,"y"],[1,371,15,7],[1,374,17,2,"constructor"],[1,388,18,4,"this"],[1,393,18,9,"lastMovedPointerId"],[1,412,18,30,"NaN"],[1,416,19,4],[1,420,19,9],[1,424,19,13,"i"],[1,426,19,17],[1,428,19,20,"i"],[1,430,4,21],[1,435,19,40,"i"],[1,437,20,6,"this"],[1,442,20,11,"touchEventsIds"],[1,457,20,26,"set"],[1,461,20,30,"i"],[1,463,20,33,"NaN"],[1,467,22,2],[1,468,23,2,"addToTracker"],[1,481,23,15,"event"],[1,484,24,4],[1,487,24,8,"this"],[1,492,24,13,"trackedPointers"],[1,508,24,29,"has"],[1,512,24,33,"event"],[1,514,24,39,"pointerId"],[1,525,25,6],[1,532,27,4,"this"],[1,537,27,9,"lastMovedPointerId"],[1,556,27,30,"event"],[1,558,27,36,"pointerId"],[1,568,28,4],[1,574,28,10,"newElement"],[1,576,28,23],[1,577,29,6,"abosoluteCoords"],[1,593,29,23],[1,594,30,8,"x"],[1,596,30,11,"event"],[1,598,30,17,"x"],[1,600,31,8,"y"],[1,602,31,11,"event"],[1,604,31,17,"y"],[1,607,33,6,"relativeCoords"],[1,622,33,22],[1,623,34,8,"x"],[1,625,34,11,"event"],[1,627,34,17,"offsetX"],[1,635,35,8,"y"],[1,637,35,11,"event"],[1,639,35,17,"offsetY"],[1,648,37,6,"timestamp"],[1,658,37,17,"event"],[1,660,37,23,"time"],[1,665,38,6,"velocityX"],[1,675,38,17],[1,677,39,6,"velocityY"],[1,687,39,17],[1,690,41,4,"this"],[1,695,41,9,"trackedPointers"],[1,711,41,25,"set"],[1,715,41,29,"event"],[1,717,41,35,"pointerId"],[1,727,41,46,"newElement"],[1,730,42,4,"this"],[1,735,42,9,"mapTouchEventId"],[1,751,42,25,"event"],[1,753,42,31,"pointerId"],[1,764,43,4,"this"],[1,769,43,9,"cachedAbsoluteAverages"],[1,792,43,34,"this"],[1,797,43,39,"getAbsoluteCoordsAverage"],[1,824,44,4,"this"],[1,829,44,9,"cachedRelativeAverages"],[1,852,44,34,"this"],[1,857,44,39,"getRelativeCoordsAverage"],[1,883,45,2],[1,884,46,2,"removeFromTracker"],[1,902,46,20,"pointerId"],[1,905,47,4,"this"],[1,910,47,9,"trackedPointers"],[1,926,47,25,"delete"],[1,933,47,32,"pointerId"],[1,936,48,4,"this"],[1,941,48,9,"removeMappedTouchId"],[1,961,48,29,"pointerId"],[1,963,49,2],[1,964,50,2,"track"],[1,970,50,8,"event"],[1,973,51,4],[1,979,51,10,"pointerData"],[1,981,51,24,"this"],[1,986,51,29,"trackedPointers"],[1,1002,51,45,"get"],[1,1006,51,49,"event"],[1,1008,51,55,"pointerId"],[1,1019,52,4],[1,1023,52,9,"pointerData"],[1,1025,53,6],[1,1032,55,4,"this"],[1,1037,55,9,"lastMovedPointerId"],[1,1056,55,30,"event"],[1,1058,55,36,"pointerId"],[1,1068,56,4,"this"],[1,1073,56,9,"velocityTracker"],[1,1089,56,25,"add"],[1,1093,56,29,"event"],[1,1096,57,4],[1,1102,57,11,"velocityX"],[1,1104,57,22,"velocityY"],[1,1107,57,35,"this"],[1,1112,57,40,"velocityTracker"],[1,1128,57,56,"velocity"],[1,1137,58,4,"pointerData"],[1,1139,58,16,"velocityX"],[1,1149,58,28,"velocityX"],[1,1151,59,4,"pointerData"],[1,1153,59,16,"velocityY"],[1,1163,59,28,"velocityY"],[1,1165,60,4,"pointerData"],[1,1167,60,16,"abosoluteCoords"],[1,1183,60,34],[1,1184,61,6,"x"],[1,1186,61,9,"event"],[1,1188,61,15,"x"],[1,1190,62,6,"y"],[1,1192,62,9,"event"],[1,1194,62,15,"y"],[1,1197,64,4,"pointerData"],[1,1199,64,16,"relativeCoords"],[1,1214,64,33],[1,1215,65,6,"x"],[1,1217,65,9,"event"],[1,1219,65,15,"offsetX"],[1,1227,66,6,"y"],[1,1229,66,9,"event"],[1,1231,66,15,"offsetY"],[1,1240,68,4,"this"],[1,1245,68,9,"trackedPointers"],[1,1261,68,25,"set"],[1,1265,68,29,"event"],[1,1267,68,35,"pointerId"],[1,1277,68,46,"pointerData"],[1,1280,69,4,"this"],[1,1285,69,9,"cachedAbsoluteAverages"],[1,1308,69,34,"this"],[1,1313,69,39,"getAbsoluteCoordsAverage"],[1,1340,70,4,"this"],[1,1345,70,9,"cachedRelativeAverages"],[1,1368,70,34,"this"],[1,1373,70,39,"getRelativeCoordsAverage"],[1,1399,71,2],[1,1400,74,2,"mapTouchEventId"],[1,1416,74,18,"id"],[1,1419,75,4],[1,1423,75,9],[1,1429,75,16,"mappedId"],[1,1431,75,26,"touchId"],[1,1436,75,38,"this"],[1,1441,75,43,"touchEventsIds"],[1,1456,76,6],[1,1459,76,10,"isNaN"],[1,1465,76,16,"touchId"],[1,1468,76,26],[1,1469,77,8,"this"],[1,1474,77,13,"touchEventsIds"],[1,1489,77,28,"set"],[1,1493,77,32,"mappedId"],[1,1495,77,42,"id"],[1,1498,78,8],[1,1503,79,6],[1,1504,81,2],[1,1505,82,2,"removeMappedTouchId"],[1,1525,82,22,"id"],[1,1528,83,4],[1,1534,83,10,"mappedId"],[1,1536,83,21,"this"],[1,1541,83,26,"getMappedTouchEventId"],[1,1563,83,48,"id"],[1,1566,84,9,"isNaN"],[1,1572,84,15,"mappedId"],[1,1576,85,6,"this"],[1,1581,85,11,"touchEventsIds"],[1,1596,85,26,"set"],[1,1600,85,30,"mappedId"],[1,1602,85,40,"NaN"],[1,1606,87,2],[1,1607,88,2,"getMappedTouchEventId"],[1,1629,88,24,"touchEventId"],[1,1632,89,4],[1,1636,89,9],[1,1642,89,16,"key"],[1,1644,89,21,"value"],[1,1649,89,31,"this"],[1,1654,89,36,"touchEventsIds"],[1,1669,89,51,"entries"],[1,1679,90,6],[1,1682,90,10,"value"],[1,1686,90,20,"touchEventId"],[1,1688,91,8],[1,1695,91,15,"key"],[1,1697,94,4],[1,1704,94,11,"NaN"],[1,1707,95,2],[1,1708,96,2,"getVelocity"],[1,1720,96,14,"pointerId"],[1,1723,97,4],[1,1729,97,10,"pointerData"],[1,1731,97,24,"this"],[1,1736,97,29,"trackedPointers"],[1,1752,97,45,"get"],[1,1756,97,49,"pointerId"],[1,1759,98,4],[1,1766,98,11,"pointerData"],[1,1768,98,25],[1,1769,99,6,"x"],[1,1771,99,9,"pointerData"],[1,1773,99,21,"velocityX"],[1,1783,100,6,"y"],[1,1785,100,9,"pointerData"],[1,1787,100,21,"velocityY"],[1,1798,101,8],[1,1802,102,2],[1,1803,103,2,"getLastAbsoluteCoords"],[1,1825,103,24,"pointerId"],[1,1828,104,4],[1,1835,104,11,"this"],[1,1840,104,16,"trackedPointers"],[1,1856,104,32,"get"],[1,1860,104,36,"pointerId"],[1,1863,104,49,"this"],[1,1868,104,54,"lastMovedPointerId"],[1,1889,104,75,"abosoluteCoords"],[1,1904,105,2],[1,1905,106,2,"getLastRelativeCoords"],[1,1927,106,24,"pointerId"],[1,1930,107,4],[1,1937,107,11,"this"],[1,1942,107,16,"trackedPointers"],[1,1958,107,32,"get"],[1,1962,107,36,"pointerId"],[1,1965,107,49,"this"],[1,1970,107,54,"lastMovedPointerId"],[1,1991,107,75,"relativeCoords"],[1,2005,108,2],[1,2006,115,2,"getAbsoluteCoordsAverage"],[1,2033,116,4],[1,2039,116,10,"coordsSum"],[1,2041,116,22,"this"],[1,2046,116,27,"getAbsoluteCoordsSum"],[1,2069,117,10,"avgX"],[1,2071,117,17,"coordsSum"],[1,2073,117,27,"x"],[1,2075,117,31,"this"],[1,2080,117,36,"trackedPointers"],[1,2096,117,52,"size"],[1,2101,118,10,"avgY"],[1,2103,118,17,"coordsSum"],[1,2105,118,27,"y"],[1,2107,118,31,"this"],[1,2112,118,36,"trackedPointers"],[1,2128,118,52,"size"],[1,2133,123,4],[1,2139,119,21],[1,2140,120,6,"x"],[1,2142,120,9,"isNaN"],[1,2148,120,15,"avgX"],[1,2151,120,23,"this"],[1,2156,120,28,"cachedAbsoluteAverages"],[1,2179,120,51,"x"],[1,2181,120,55,"avgX"],[1,2183,121,6,"y"],[1,2185,121,9,"isNaN"],[1,2191,121,15,"avgY"],[1,2194,121,23,"this"],[1,2199,121,28,"cachedAbsoluteAverages"],[1,2222,121,51,"y"],[1,2224,121,55,"avgY"],[1,2226,124,2],[1,2227,125,2,"getRelativeCoordsAverage"],[1,2254,126,4],[1,2260,126,10,"coordsSum"],[1,2262,126,22,"this"],[1,2267,126,27,"getRelativeCoordsSum"],[1,2290,127,10,"avgX"],[1,2292,127,17,"coordsSum"],[1,2294,127,27,"x"],[1,2296,127,31,"this"],[1,2301,127,36,"trackedPointers"],[1,2317,127,52,"size"],[1,2322,128,10,"avgY"],[1,2324,128,17,"coordsSum"],[1,2326,128,27,"y"],[1,2328,128,31,"this"],[1,2333,128,36,"trackedPointers"],[1,2349,128,52,"size"],[1,2354,133,4],[1,2360,129,21],[1,2361,130,6,"x"],[1,2363,130,9,"isNaN"],[1,2369,130,15,"avgX"],[1,2372,130,23,"this"],[1,2377,130,28,"cachedRelativeAverages"],[1,2400,130,51,"x"],[1,2402,130,55,"avgX"],[1,2404,131,6,"y"],[1,2406,131,9,"isNaN"],[1,2412,131,15,"avgY"],[1,2415,131,23,"this"],[1,2420,131,28,"cachedRelativeAverages"],[1,2443,131,51,"y"],[1,2445,131,55,"avgY"],[1,2447,134,2],[1,2448,135,2,"getAbsoluteCoordsSum"],[1,2469,135,23,"ignoredPointer"],[1,2472,136,4],[1,2478,136,10,"sum"],[1,2480,136,16],[1,2481,137,6,"x"],[1,2483,137,9],[1,2485,138,6,"y"],[1,2487,138,9],[1,2490,146,4],[1,2497,140,4,"this"],[1,2502,140,9,"trackedPointers"],[1,2518,140,25,"forEach"],[1,2526,140,33],[1,2527,140,34,"value"],[1,2529,140,41,"key"],[1,2534,141,10,"key"],[1,2538,141,18,"ignoredPointer"],[1,2542,142,8,"sum"],[1,2544,142,12,"x"],[1,2547,142,17,"value"],[1,2549,142,23,"abosoluteCoords"],[1,2565,142,39,"x"],[1,2567,143,8,"sum"],[1,2569,143,12,"y"],[1,2572,143,17,"value"],[1,2574,143,23,"abosoluteCoords"],[1,2590,143,39,"y"],[1,2595,146,11,"sum"],[1,2596,147,2],[1,2597,148,2,"getRelativeCoordsSum"],[1,2618,148,23,"ignoredPointer"],[1,2621,149,4],[1,2627,149,10,"sum"],[1,2629,149,16],[1,2630,150,6,"x"],[1,2632,150,9],[1,2634,151,6,"y"],[1,2636,151,9],[1,2639,159,4],[1,2646,153,4,"this"],[1,2651,153,9,"trackedPointers"],[1,2667,153,25,"forEach"],[1,2675,153,33],[1,2676,153,34,"value"],[1,2678,153,41,"key"],[1,2683,154,10,"key"],[1,2687,154,18,"ignoredPointer"],[1,2691,155,8,"sum"],[1,2693,155,12,"x"],[1,2696,155,17,"value"],[1,2698,155,23,"relativeCoords"],[1,2713,155,38,"x"],[1,2715,156,8,"sum"],[1,2717,156,12,"y"],[1,2720,156,17,"value"],[1,2722,156,23,"relativeCoords"],[1,2737,156,38,"y"],[1,2742,159,11,"sum"],[1,2743,160,2],[1,2744,161,2,"resetTracker"],[1,2759,162,4,"this"],[1,2764,162,9,"velocityTracker"],[1,2780,162,25,"reset"],[1,2788,163,4,"this"],[1,2793,163,9,"trackedPointers"],[1,2809,163,25,"clear"],[1,2817,164,4,"this"],[1,2822,164,9,"lastMovedPointerId"],[1,2841,164,30,"NaN"],[1,2845,165,4],[1,2849,165,9],[1,2853,165,13,"i"],[1,2855,165,17],[1,2857,165,20,"i"],[1,2859,4,21],[1,2864,165,40,"i"],[1,2866,166,6,"this"],[1,2871,166,11,"touchEventsIds"],[1,2886,166,26,"set"],[1,2890,166,30,"i"],[1,2892,166,33,"NaN"],[1,2896,168,2],[1,2897,169,2],[1,2923,169,9,"shareCommonPointers"],[1,2924,169,29,"stPointers"],[1,2926,169,41,"ndPointers"],[1,2929,170,4],[1,2936,170,11,"stPointers"],[1,2938,170,22,"some"],[1,2943,170,27,"pointerId"],[1,2946,170,40,"ndPointers"],[1,2948,170,51,"includes"],[1,2957,170,60,"pointerId"],[1,2960,171,2],[1,2961,172,2],[1,2985,172,6,"trackedPointersCount"],[1,2988,173,4],[1,2995,173,11,"this"],[1,3000,173,16,"trackedPointers"],[1,3016,173,32,"size"],[1,3020,174,2],[1,3021,175,2],[1,3043,175,6,"trackedPointersIDs"],[1,3046,176,4],[1,3052,176,10,"keys"],[1,3054,176,17],[1,3057,180,4],[1,3064,177,4,"this"],[1,3069,177,9,"trackedPointers"],[1,3085,177,25,"forEach"],[1,3093,177,33],[1,3094,177,34,"_value"],[1,3096,177,42,"key"],[1,3101,178,6,"keys"],[1,3103,178,11,"push"],[1,3108,178,16,"key"],[1,3113,180,11,"keys"],[1,3114,181,2],[1,3115,182,2],[1,3134,182,6,"trackedPointers"],[1,3137,183,4],[1,3144,183,11,"this"],[1,3149,183,16,"_trackedPointers"],[1,3165,184,2],[1,3167,185,1],[1,3170]],"functionMap":{"names":["<global>","PointerTracker","constructor","addToTracker","removeFromTracker","track","mapTouchEventId","removeMappedTouchId","getMappedTouchEventId","getVelocity","getLastAbsoluteCoords","getLastRelativeCoords","getAbsoluteCoordsAverage","getRelativeCoordsAverage","getAbsoluteCoordsSum","trackedPointers.forEach$argument_0","getRelativeCoordsSum","resetTracker","shareCommonPointers","stPointers.some$argument_0","get__trackedPointersCount","get__trackedPointersIDs","get__trackedPointers"],"mappings":"AAA;eCI;ECY;GDK;EEC;GFsB;EGC;GHG;EIC;GJqB;EKG;GLO;EMC;GNK;EOC;GPO;EQC;GRM;ESC;GTE;EUC;GVE;EWO;GXS;EYC;GZS;EaC;iCCK;KDK;GbE;EeC;iCDK;KCK;GfE;EgBC;GhBO;EiBC;2BCC,2CD;GjBC;EmBC;GnBE;EoBC;iCNE;KME;GpBE;EqBC;GrBE;CDC"},"hasCjsExports":false},"type":"js/module"}]}