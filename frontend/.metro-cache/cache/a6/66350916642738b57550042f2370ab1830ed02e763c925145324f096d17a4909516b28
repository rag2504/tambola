{"dependencies":[{"name":"../../State","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":36,"index":51}}],"key":"WEWPBXLBFeeryzJLF/iqxrLBTrA=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":52},"end":{"line":4,"column":46,"index":98}}],"key":"0oKNSZn0AMFFw0m17+cJMO/YqLM=","exportNames":["*"],"imports":1}},{"name":"../detectors/RotationGestureDetector","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":99},"end":{"line":5,"column":75,"index":174}}],"key":"daz0h2jVVKKbGU+XUZZYS7vasjE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return h}});var e=r(d[0]),o=t(r(d[1])),n=t(r(d[2]));const s=Math.PI/36;class h extends o.default{rotation=0;velocity=0;cachedAnchorX=0;cachedAnchorY=0;rotationGestureListener={onRotationBegin:t=>!0,onRotation:t=>{const o=this.rotation;this.rotation+=t.rotation;const n=t.timeDelta;return n>0&&(this.velocity=(this.rotation-o)/n),Math.abs(this.rotation)>=s&&this.state===e.State.BEGAN&&this.activate(),!0},onRotationEnd:t=>{this.end()}};rotationGestureDetector=new n.default(this.rotationGestureListener);init(t,e){super.init(t,e),this.shouldCancelWhenOutside=!1}transformNativeEvent(){return{rotation:this.rotation?this.rotation:0,anchorX:this.getAnchorX(),anchorY:this.getAnchorY(),velocity:this.velocity?this.velocity:0}}getAnchorX(){const t=this.rotationGestureDetector.anchorX;return t||this.cachedAnchorX}getAnchorY(){const t=this.rotationGestureDetector.anchorY;return t||this.cachedAnchorY}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.rotationGestureDetector.onTouchEvent(t,this.tracker)}onPointerMove(t){this.tracker.trackedPointersCount<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.trackedPointersCount<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.rotationGestureDetector.onTouchEvent(t,this.tracker),this.state===e.State.ACTIVE&&(this.state===e.State.ACTIVE?this.end():this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),this.tracker.removeFromTracker(t.pointerId)}tryBegin(){this.state===e.State.UNDETERMINED&&this.begin()}onReset(){this.state!==e.State.ACTIVE&&(this.rotation=0,this.velocity=0,this.rotationGestureDetector.reset())}}});","lineCount":1,"map":[[1,29,1,0],[1,42,1,13],[1,51,1,13,"_interopDefault"],[1,53,1,13,"e"],[1,56,1,13],[1,63,1,13,"e"],[1,68,1,13,"__esModule"],[1,79,1,13,"e"],[1,81,1,13],[1,82,1,13,"default"],[1,90,1,13,"e"],[1,92,1,13],[1,93,1,13,"Object"],[1,100,1,13,"defineProperty"],[1,115,1,13,"_e"],[1,118,1,13],[1,132,1,13,"value"],[1,139,1,13],[1,143,7,15,"Object"],[1,150,7,15,"defineProperty"],[1,165,7,15,"_e"],[1,168,7,15],[1,179,7,15,"enumerable"],[1,191,7,15],[1,193,7,15,"get"],[1,197,7,15],[1,215,7,15,"RotationGestureHandler"],[1,216,7,15],[1,220,3,0],[1,224,3,0,"_State"],[1,226,3,0,"r"],[1,228,3,0,"d"],[1,230,3,0],[1,234,4,0,"GestureHandler"],[1,236,4,0,"_interopDefault"],[1,238,4,0,"r"],[1,240,4,0,"d"],[1,242,4,0],[1,247,5,0,"RotationGestureDetector"],[1,249,5,0,"_interopDefault"],[1,251,5,0,"r"],[1,253,5,0,"d"],[1,255,5,0],[1,260,6,0],[1,266,6,6,"ROTATION_RECOGNITION_THRESHOLD"],[1,268,6,39,"Math"],[1,273,6,44,"PI"],[1,276,6,49],[1,279,7,15],[1,285,7,21,"RotationGestureHandler"],[1,295,7,52,"GestureHandler"],[1,297,7,66,"default"],[1,305,8,2,"rotation"],[1,314,8,13],[1,316,9,2,"velocity"],[1,325,9,13],[1,327,10,2,"cachedAnchorX"],[1,341,10,18],[1,343,11,2,"cachedAnchorY"],[1,357,11,18],[1,359,12,2,"rotationGestureListener"],[1,383,12,28],[1,384,13,4,"onRotationBegin"],[1,400,13,21,"_detector"],[1,404,13,34],[1,406,14,4,"onRotation"],[1,417,14,16,"detector"],[1,421,15,6],[1,427,15,12,"previousRotation"],[1,429,15,31,"this"],[1,434,15,36,"rotation"],[1,443,16,6,"this"],[1,448,16,11,"rotation"],[1,458,16,23,"detector"],[1,460,16,32,"rotation"],[1,469,17,6],[1,475,17,12,"delta"],[1,477,17,20,"detector"],[1,479,17,29,"timeDelta"],[1,489,24,6],[1,496,18,10,"delta"],[1,498,18,18],[1,502,19,8,"this"],[1,507,19,13,"velocity"],[1,517,19,25,"this"],[1,522,19,30,"rotation"],[1,531,19,41,"previousRotation"],[1,534,19,61,"delta"],[1,537,21,10,"Math"],[1,542,21,15,"abs"],[1,546,21,19,"this"],[1,551,21,24,"rotation"],[1,562,21,37,"ROTATION_RECOGNITION_THRESHOLD"],[1,565,21,71,"this"],[1,570,21,76,"state"],[1,578,21,86,"State"],[1,580,21,91,"State"],[1,586,21,92,"BEGAN"],[1,593,22,8,"this"],[1,598,22,13,"activate"],[1,610,24,13],[1,613,26,4,"onRotationEnd"],[1,627,26,19,"_detector"],[1,631,27,6,"this"],[1,636,27,11,"end"],[1,644,30,2,"rotationGestureDetector"],[1,668,30,28],[1,672,30,32,"RotationGestureDetector"],[1,674,30,55,"default"],[1,682,30,56,"this"],[1,687,30,61,"rotationGestureListener"],[1,712,31,2,"init"],[1,717,31,7,"ref"],[1,719,31,12,"propsRef"],[1,722,32,4,"super"],[1,728,32,10,"init"],[1,733,32,15,"ref"],[1,735,32,20,"propsRef"],[1,738,33,4,"this"],[1,743,33,9,"shouldCancelWhenOutside"],[1,768,33,35],[1,769,34,2],[1,770,35,2,"transformNativeEvent"],[1,793,36,4],[1,799,36,11],[1,800,37,6,"rotation"],[1,809,37,16,"this"],[1,814,37,21,"rotation"],[1,823,37,32,"this"],[1,828,37,37,"rotation"],[1,837,37,48],[1,839,38,6,"anchorX"],[1,847,38,15,"this"],[1,852,38,20,"getAnchorX"],[1,865,39,6,"anchorY"],[1,873,39,15,"this"],[1,878,39,20,"getAnchorY"],[1,891,40,6,"velocity"],[1,900,40,16,"this"],[1,905,40,21,"velocity"],[1,914,40,32,"this"],[1,919,40,37,"velocity"],[1,928,40,48],[1,930,42,2],[1,931,43,2,"getAnchorX"],[1,944,44,4],[1,950,44,10,"anchorX"],[1,952,44,20,"this"],[1,957,44,25,"rotationGestureDetector"],[1,981,44,49,"anchorX"],[1,989,45,4],[1,996,45,11,"anchorX"],[1,999,45,31,"this"],[1,1004,45,36,"cachedAnchorX"],[1,1017,46,2],[1,1018,47,2,"getAnchorY"],[1,1031,48,4],[1,1037,48,10,"anchorY"],[1,1039,48,20,"this"],[1,1044,48,25,"rotationGestureDetector"],[1,1068,48,49,"anchorY"],[1,1076,49,4],[1,1083,49,11,"anchorY"],[1,1086,49,31,"this"],[1,1091,49,36,"cachedAnchorY"],[1,1104,50,2],[1,1105,51,2,"onPointerDown"],[1,1119,51,16,"event"],[1,1122,52,4,"this"],[1,1127,52,9,"tracker"],[1,1135,52,17,"addToTracker"],[1,1148,52,30,"event"],[1,1151,53,4,"super"],[1,1157,53,10,"onPointerDown"],[1,1171,53,24,"event"],[1,1174,54,4,"this"],[1,1179,54,9,"tryToSendTouchEvent"],[1,1199,54,29,"event"],[1,1201,55,2],[1,1202,56,2,"onPointerAdd"],[1,1215,56,15,"event"],[1,1218,57,4,"this"],[1,1223,57,9,"tracker"],[1,1231,57,17,"addToTracker"],[1,1244,57,30,"event"],[1,1247,58,4,"super"],[1,1253,58,10,"onPointerAdd"],[1,1266,58,23,"event"],[1,1269,59,4,"this"],[1,1274,59,9,"tryBegin"],[1,1285,60,4,"this"],[1,1290,60,9,"rotationGestureDetector"],[1,1314,60,33,"onTouchEvent"],[1,1327,60,46,"event"],[1,1329,60,53,"this"],[1,1334,60,58,"tracker"],[1,1342,61,2],[1,1343,62,2,"onPointerMove"],[1,1357,62,16,"event"],[1,1360,63,8,"this"],[1,1365,63,13,"tracker"],[1,1373,63,21,"trackedPointersCount"],[1,1394,63,44],[1,1398,66,8,"this"],[1,1403,66,13,"getAnchorX"],[1,1418,67,6,"this"],[1,1423,67,11,"cachedAnchorX"],[1,1437,67,27,"this"],[1,1442,67,32,"getAnchorX"],[1,1456,69,8,"this"],[1,1461,69,13,"getAnchorY"],[1,1476,70,6,"this"],[1,1481,70,11,"cachedAnchorY"],[1,1495,70,27,"this"],[1,1500,70,32,"getAnchorY"],[1,1514,72,4,"this"],[1,1519,72,9,"tracker"],[1,1527,72,17,"track"],[1,1533,72,23,"event"],[1,1536,73,4,"this"],[1,1541,73,9,"rotationGestureDetector"],[1,1565,73,33,"onTouchEvent"],[1,1578,73,46,"event"],[1,1580,73,53,"this"],[1,1585,73,58,"tracker"],[1,1594,74,4,"super"],[1,1600,74,10,"onPointerMove"],[1,1614,74,24,"event"],[1,1617,75,2],[1,1618,76,2,"onPointerOutOfBounds"],[1,1639,76,23,"event"],[1,1642,77,8,"this"],[1,1647,77,13,"tracker"],[1,1655,77,21,"trackedPointersCount"],[1,1676,77,44],[1,1680,80,8,"this"],[1,1685,80,13,"getAnchorX"],[1,1700,81,6,"this"],[1,1705,81,11,"cachedAnchorX"],[1,1719,81,27,"this"],[1,1724,81,32,"getAnchorX"],[1,1738,83,8,"this"],[1,1743,83,13,"getAnchorY"],[1,1758,84,6,"this"],[1,1763,84,11,"cachedAnchorY"],[1,1777,84,27,"this"],[1,1782,84,32,"getAnchorY"],[1,1796,86,4,"this"],[1,1801,86,9,"tracker"],[1,1809,86,17,"track"],[1,1815,86,23,"event"],[1,1818,87,4,"this"],[1,1823,87,9,"rotationGestureDetector"],[1,1847,87,33,"onTouchEvent"],[1,1860,87,46,"event"],[1,1862,87,53,"this"],[1,1867,87,58,"tracker"],[1,1876,88,4,"super"],[1,1882,88,10,"onPointerOutOfBounds"],[1,1903,88,31,"event"],[1,1906,89,2],[1,1907,90,2,"onPointerUp"],[1,1919,90,14,"event"],[1,1922,91,4,"super"],[1,1928,91,10,"onPointerUp"],[1,1940,91,22,"event"],[1,1943,92,4,"this"],[1,1948,92,9,"tracker"],[1,1956,92,17,"removeFromTracker"],[1,1974,92,35,"event"],[1,1976,92,41,"pointerId"],[1,1987,93,4,"this"],[1,1992,93,9,"rotationGestureDetector"],[1,2016,93,33,"onTouchEvent"],[1,2029,93,46,"event"],[1,2031,93,53,"this"],[1,2036,93,58,"tracker"],[1,2045,94,8,"this"],[1,2050,94,13,"state"],[1,2058,94,23,"State"],[1,2060,94,28,"State"],[1,2066,94,29,"ACTIVE"],[1,2075,97,8,"this"],[1,2080,97,13,"state"],[1,2088,97,23,"State"],[1,2090,97,28,"State"],[1,2096,97,29,"ACTIVE"],[1,2103,98,6,"this"],[1,2108,98,11,"end"],[1,2114,100,6,"this"],[1,2119,100,11,"fail"],[1,2126,102,2],[1,2127,103,2,"onPointerRemove"],[1,2143,103,18,"event"],[1,2146,104,4,"super"],[1,2152,104,10,"onPointerRemove"],[1,2168,104,26,"event"],[1,2171,105,4,"this"],[1,2176,105,9,"rotationGestureDetector"],[1,2200,105,33,"onTouchEvent"],[1,2213,105,46,"event"],[1,2215,105,53,"this"],[1,2220,105,58,"tracker"],[1,2229,106,4,"this"],[1,2234,106,9,"tracker"],[1,2242,106,17,"removeFromTracker"],[1,2260,106,35,"event"],[1,2262,106,41,"pointerId"],[1,2272,107,2],[1,2273,108,2,"tryBegin"],[1,2284,109,8,"this"],[1,2289,109,13,"state"],[1,2297,109,23,"State"],[1,2299,109,28,"State"],[1,2305,109,29,"UNDETERMINED"],[1,2319,112,4,"this"],[1,2324,112,9,"begin"],[1,2331,113,2],[1,2332,114,2,"onReset"],[1,2342,115,8,"this"],[1,2347,115,13,"state"],[1,2355,115,23,"State"],[1,2357,115,28,"State"],[1,2363,115,29,"ACTIVE"],[1,2372,118,4,"this"],[1,2377,118,9,"rotation"],[1,2386,118,20],[1,2388,119,4,"this"],[1,2393,119,9,"velocity"],[1,2402,119,20],[1,2404,120,4,"this"],[1,2409,120,9,"rotationGestureDetector"],[1,2433,120,33,"reset"],[1,2441,121,2],[1,2443,122,1],[1,2446]],"functionMap":{"names":["<global>","RotationGestureHandler","rotationGestureListener.onRotationBegin","rotationGestureListener.onRotation","rotationGestureListener.onRotationEnd","init","transformNativeEvent","getAnchorX","getAnchorY","onPointerDown","onPointerAdd","onPointerMove","onPointerOutOfBounds","onPointerUp","onPointerRemove","tryBegin","onReset"],"mappings":"AAA;eCM;qBCM,iBD;gBEC;KFW;mBGC;KHE;EIG;GJG;EKC;GLO;EMC;GNG;EOC;GPG;EQC;GRI;ESC;GTK;EUC;GVa;EWC;GXa;EYC;GZY;EaC;GbI;EcC;GdK;EeC;GfO;CDC"},"hasCjsExports":false},"type":"js/module"}]}