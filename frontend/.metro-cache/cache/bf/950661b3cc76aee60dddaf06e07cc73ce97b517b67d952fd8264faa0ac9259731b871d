{"dependencies":[{"name":"../../State","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":36,"index":51}}],"key":"WEWPBXLBFeeryzJLF/iqxrLBTrA=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":52},"end":{"line":4,"column":46,"index":98}}],"key":"0oKNSZn0AMFFw0m17+cJMO/YqLM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return o}});var t,e=r(d[0]),s=r(d[1]),n=(t=s)&&t.__esModule?t:{default:t};class o extends n.default{minDurationMs=500;defaultMaxDistSq=100;maxDistSq=this.defaultMaxDistSq;numberOfPointers=1;startX=0;startY=0;startTime=0;previousTime=0;init(t,e){void 0===this.config.enableContextMenu&&(this.config.enableContextMenu=!1),super.init(t,e)}transformNativeEvent(){return{...super.transformNativeEvent(),duration:Date.now()-this.startTime}}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),void 0!==this.config.minDurationMs&&(this.minDurationMs=this.config.minDurationMs),void 0!==this.config.maxDist&&(this.maxDistSq=this.config.maxDist*this.config.maxDist),void 0!==this.config.numberOfPointers&&(this.numberOfPointers=this.config.numberOfPointers)}resetConfig(){super.resetConfig(),this.minDurationMs=500,this.maxDistSq=this.defaultMaxDistSq}onStateChange(t,e){clearTimeout(this.activationTimeout)}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),super.onPointerDown(t),this.startX=t.x,this.startY=t.y,this.tryBegin(),this.tryActivate(),this.tryToSendTouchEvent(t))}onPointerAdd(t){if(super.onPointerAdd(t),this.tracker.addToTracker(t),this.tracker.trackedPointersCount>this.numberOfPointers)return void this.fail();const e=this.tracker.getAbsoluteCoordsAverage();this.startX=e.x,this.startY=e.y,this.tryActivate()}onPointerMove(t){super.onPointerMove(t),this.tracker.track(t),this.checkDistanceFail()}onPointerOutOfBounds(t){super.onPointerOutOfBounds(t),this.tracker.track(t),this.checkDistanceFail()}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.state===e.State.ACTIVE?this.end():this.fail()}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId),this.tracker.trackedPointersCount<this.numberOfPointers&&this.state!==e.State.ACTIVE&&this.fail()}tryBegin(){this.state===e.State.UNDETERMINED&&(this.previousTime=Date.now(),this.startTime=this.previousTime,this.begin())}tryActivate(){this.tracker.trackedPointersCount===this.numberOfPointers&&(this.minDurationMs>0?this.activationTimeout=setTimeout(()=>{this.activate()},this.minDurationMs):0===this.minDurationMs&&this.activate())}checkDistanceFail(){const t=this.tracker.getAbsoluteCoordsAverage(),s=t.x-this.startX,n=t.y-this.startY;s*s+n*n<=this.maxDistSq||(this.state===e.State.ACTIVE?this.cancel():this.fail())}}});","lineCount":1,"map":[[1,29,1,0],[1,42,1,13,"Object"],[1,49,1,13,"defineProperty"],[1,64,1,13,"_e"],[1,67,1,13],[1,81,1,13,"value"],[1,88,1,13],[1,92,8,15,"Object"],[1,99,8,15,"defineProperty"],[1,114,8,15,"_e"],[1,117,8,15],[1,128,8,15,"enumerable"],[1,140,8,15],[1,142,8,15,"get"],[1,146,8,15],[1,164,8,15,"LongPressGestureHandler"],[1,165,8,15],[1,169,3,0],[1,173,1,13,"e"],[1,175,3,0,"_State"],[1,177,3,0,"r"],[1,179,3,0,"d"],[1,181,3,0],[1,185,4,0,"_GestureHandler"],[1,187,4,0,"r"],[1,189,4,0,"d"],[1,191,4,0],[1,195,4,0,"GestureHandler"],[1,198,1,13,"e"],[1,200,4,0,"_GestureHandler"],[1,204,1,13,"e"],[1,206,1,13,"__esModule"],[1,217,1,13,"e"],[1,219,1,13],[1,220,1,13,"default"],[1,228,1,13,"e"],[1,231,8,15],[1,237,8,21,"LongPressGestureHandler"],[1,247,8,53,"GestureHandler"],[1,249,8,67,"default"],[1,257,9,2,"minDurationMs"],[1,271,5,32],[1,275,10,2,"defaultMaxDistSq"],[1,292,10,18],[1,296,11,2,"maxDistSq"],[1,306,11,14,"this"],[1,311,11,19,"defaultMaxDistSq"],[1,328,12,2,"numberOfPointers"],[1,345,12,21],[1,347,13,2,"startX"],[1,354,13,11],[1,356,14,2,"startY"],[1,363,14,11],[1,365,15,2,"startTime"],[1,375,15,14],[1,377,16,2,"previousTime"],[1,390,16,17],[1,392,17,2,"init"],[1,397,17,7,"ref"],[1,399,17,12,"propsRef"],[1,407,18,42,"undefined"],[1,411,18,8,"this"],[1,416,18,13,"config"],[1,423,18,20,"enableContextMenu"],[1,443,19,6,"this"],[1,448,19,11,"config"],[1,455,19,18,"enableContextMenu"],[1,474,19,38],[1,477,21,4,"super"],[1,483,21,10,"init"],[1,488,21,15,"ref"],[1,490,21,20,"propsRef"],[1,492,22,2],[1,493,23,2,"transformNativeEvent"],[1,516,24,4],[1,522,24,11],[1,526,25,9,"super"],[1,532,25,15,"transformNativeEvent"],[1,555,26,6,"duration"],[1,564,26,16,"Date"],[1,569,26,21,"now"],[1,575,26,29,"this"],[1,580,26,34,"startTime"],[1,590,28,2],[1,591,29,2,"updateGestureConfig"],[1,612,29,22,"enabled"],[1,620,30,4,"enabled"],[1,623,30,14],[1,628,31,7,"props"],[1,632,33,4,"super"],[1,638,33,10,"updateGestureConfig"],[1,658,33,30],[1,659,34,6,"enabled"],[1,667,34,15,"enabled"],[1,672,35,9,"props"],[1,681,37,38,"undefined"],[1,685,37,8,"this"],[1,690,37,13,"config"],[1,697,37,20,"minDurationMs"],[1,713,38,6,"this"],[1,718,38,11,"minDurationMs"],[1,732,38,27,"this"],[1,737,38,32,"config"],[1,744,38,39,"minDurationMs"],[1,764,40,32,"undefined"],[1,768,40,8,"this"],[1,773,40,13,"config"],[1,780,40,20,"maxDist"],[1,790,41,6,"this"],[1,795,41,11,"maxDistSq"],[1,805,41,23,"this"],[1,810,41,28,"config"],[1,817,41,35,"maxDist"],[1,825,41,45,"this"],[1,830,41,50,"config"],[1,837,41,57,"maxDist"],[1,851,43,41,"undefined"],[1,855,43,8,"this"],[1,860,43,13,"config"],[1,867,43,20,"numberOfPointers"],[1,886,44,6,"this"],[1,891,44,11,"numberOfPointers"],[1,908,44,30,"this"],[1,913,44,35,"config"],[1,920,44,42,"numberOfPointers"],[1,937,46,2],[1,938,47,2,"resetConfig"],[1,952,48,4,"super"],[1,958,48,10,"resetConfig"],[1,972,49,4,"this"],[1,977,49,9,"minDurationMs"],[1,991,5,32],[1,995,50,4,"this"],[1,1000,50,9,"maxDistSq"],[1,1010,50,21,"this"],[1,1015,50,26,"defaultMaxDistSq"],[1,1031,51,2],[1,1032,52,2,"onStateChange"],[1,1046,52,16,"_newState"],[1,1048,52,27,"_oldState"],[1,1051,53,4,"clearTimeout"],[1,1064,53,17,"this"],[1,1069,53,22,"activationTimeout"],[1,1087,54,2],[1,1088,55,2,"onPointerDown"],[1,1102,55,16,"event"],[1,1105,56,9,"this"],[1,1110,56,14,"isButtonInConfig"],[1,1127,56,31,"event"],[1,1129,56,37,"button"],[1,1139,59,4,"this"],[1,1144,59,9,"tracker"],[1,1152,59,17,"addToTracker"],[1,1165,59,30,"event"],[1,1168,60,4,"super"],[1,1174,60,10,"onPointerDown"],[1,1188,60,24,"event"],[1,1191,61,4,"this"],[1,1196,61,9,"startX"],[1,1203,61,18,"event"],[1,1205,61,24,"x"],[1,1207,62,4,"this"],[1,1212,62,9,"startY"],[1,1219,62,18,"event"],[1,1221,62,24,"y"],[1,1223,63,4,"this"],[1,1228,63,9,"tryBegin"],[1,1239,64,4,"this"],[1,1244,64,9,"tryActivate"],[1,1258,65,4,"this"],[1,1263,65,9,"tryToSendTouchEvent"],[1,1283,65,29,"event"],[1,1286,66,2],[1,1287,67,2,"onPointerAdd"],[1,1300,67,15,"event"],[1,1303,70,4],[1,1306,68,4,"super"],[1,1312,68,10,"onPointerAdd"],[1,1325,68,23,"event"],[1,1328,69,4,"this"],[1,1333,69,9,"tracker"],[1,1341,69,17,"addToTracker"],[1,1354,69,30,"event"],[1,1357,70,8,"this"],[1,1362,70,13,"tracker"],[1,1370,70,21,"trackedPointersCount"],[1,1391,70,44,"this"],[1,1396,70,49,"numberOfPointers"],[1,1413,72,6],[1,1425,71,6,"this"],[1,1430,71,11,"fail"],[1,1437,74,4],[1,1443,74,10,"absoluteCoordsAverage"],[1,1445,74,34,"this"],[1,1450,74,39,"tracker"],[1,1458,74,47,"getAbsoluteCoordsAverage"],[1,1485,75,4,"this"],[1,1490,75,9,"startX"],[1,1497,75,18,"absoluteCoordsAverage"],[1,1499,75,40,"x"],[1,1501,76,4,"this"],[1,1506,76,9,"startY"],[1,1513,76,18,"absoluteCoordsAverage"],[1,1515,76,40,"y"],[1,1517,77,4,"this"],[1,1522,77,9,"tryActivate"],[1,1535,78,2],[1,1536,79,2,"onPointerMove"],[1,1550,79,16,"event"],[1,1553,80,4,"super"],[1,1559,80,10,"onPointerMove"],[1,1573,80,24,"event"],[1,1576,81,4,"this"],[1,1581,81,9,"tracker"],[1,1589,81,17,"track"],[1,1595,81,23,"event"],[1,1598,82,4,"this"],[1,1603,82,9,"checkDistanceFail"],[1,1622,83,2],[1,1623,84,2,"onPointerOutOfBounds"],[1,1644,84,23,"event"],[1,1647,85,4,"super"],[1,1653,85,10,"onPointerOutOfBounds"],[1,1674,85,31,"event"],[1,1677,86,4,"this"],[1,1682,86,9,"tracker"],[1,1690,86,17,"track"],[1,1696,86,23,"event"],[1,1699,87,4,"this"],[1,1704,87,9,"checkDistanceFail"],[1,1723,88,2],[1,1724,89,2,"onPointerUp"],[1,1736,89,14,"event"],[1,1739,90,4,"super"],[1,1745,90,10,"onPointerUp"],[1,1757,90,22,"event"],[1,1760,91,4,"this"],[1,1765,91,9,"tracker"],[1,1773,91,17,"removeFromTracker"],[1,1791,91,35,"event"],[1,1793,91,41,"pointerId"],[1,1804,92,8,"this"],[1,1809,92,13,"state"],[1,1817,92,23,"State"],[1,1819,92,28,"State"],[1,1825,92,29,"ACTIVE"],[1,1832,93,6,"this"],[1,1837,93,11,"end"],[1,1843,95,6,"this"],[1,1848,95,11,"fail"],[1,1854,97,2],[1,1855,98,2,"onPointerRemove"],[1,1871,98,18,"event"],[1,1874,99,4,"super"],[1,1880,99,10,"onPointerRemove"],[1,1896,99,26,"event"],[1,1899,100,4,"this"],[1,1904,100,9,"tracker"],[1,1912,100,17,"removeFromTracker"],[1,1930,100,35,"event"],[1,1932,100,41,"pointerId"],[1,1943,101,8,"this"],[1,1948,101,13,"tracker"],[1,1956,101,21,"trackedPointersCount"],[1,1977,101,44,"this"],[1,1982,101,49,"numberOfPointers"],[1,2000,101,69,"this"],[1,2005,101,74,"state"],[1,2013,101,84,"State"],[1,2015,101,89,"State"],[1,2021,101,90,"ACTIVE"],[1,2029,102,6,"this"],[1,2034,102,11,"fail"],[1,2040,104,2],[1,2041,105,2,"tryBegin"],[1,2052,106,8,"this"],[1,2057,106,13,"state"],[1,2065,106,23,"State"],[1,2067,106,28,"State"],[1,2073,106,29,"UNDETERMINED"],[1,2088,109,4,"this"],[1,2093,109,9,"previousTime"],[1,2106,109,24,"Date"],[1,2111,109,29,"now"],[1,2117,110,4,"this"],[1,2122,110,9,"startTime"],[1,2132,110,21,"this"],[1,2137,110,26,"previousTime"],[1,2150,111,4,"this"],[1,2155,111,9,"begin"],[1,2163,112,2],[1,2164,113,2,"tryActivate"],[1,2178,114,8,"this"],[1,2183,114,13,"tracker"],[1,2191,114,21,"trackedPointersCount"],[1,2214,114,46,"this"],[1,2219,114,51,"numberOfPointers"],[1,2238,117,8,"this"],[1,2243,117,13,"minDurationMs"],[1,2257,117,29],[1,2259,118,6,"this"],[1,2264,118,11,"activationTimeout"],[1,2282,118,31,"setTimeout"],[1,2293,118,42],[1,2298,119,8,"this"],[1,2303,119,13,"activate"],[1,2315,120,9,"this"],[1,2320,120,14,"minDurationMs"],[1,2335,121,38],[1,2339,121,15,"this"],[1,2344,121,20,"minDurationMs"],[1,2359,122,6,"this"],[1,2364,122,11,"activate"],[1,2375,124,2],[1,2376,125,2,"checkDistanceFail"],[1,2396,126,4],[1,2402,126,10,"absoluteCoordsAverage"],[1,2404,126,34,"this"],[1,2409,126,39,"tracker"],[1,2417,126,47,"getAbsoluteCoordsAverage"],[1,2444,127,10,"dx"],[1,2446,127,15,"absoluteCoordsAverage"],[1,2448,127,37,"x"],[1,2450,127,41,"this"],[1,2455,127,46,"startX"],[1,2462,128,10,"dy"],[1,2464,128,15,"absoluteCoordsAverage"],[1,2466,128,37,"y"],[1,2468,128,41,"this"],[1,2473,128,46,"startY"],[1,2480,129,19,"dx"],[1,2482,129,24,"dx"],[1,2484,129,29,"dy"],[1,2486,129,34,"dy"],[1,2489,130,18,"this"],[1,2494,130,23,"maxDistSq"],[1,2506,133,8,"this"],[1,2511,133,13,"state"],[1,2519,133,23,"State"],[1,2521,133,28,"State"],[1,2527,133,29,"ACTIVE"],[1,2534,134,6,"this"],[1,2539,134,11,"cancel"],[1,2548,136,6,"this"],[1,2553,136,11,"fail"],[1,2560,138,2],[1,2562,139,1],[1,2565]],"functionMap":{"names":["<global>","LongPressGestureHandler","init","transformNativeEvent","updateGestureConfig","resetConfig","onStateChange","onPointerDown","onPointerAdd","onPointerMove","onPointerOutOfBounds","onPointerUp","onPointerRemove","tryBegin","tryActivate","setTimeout$argument_0","checkDistanceFail"],"mappings":"AAA;eCO;ECS;GDK;EEC;GFK;EGC;GHiB;EIC;GJI;EKC;GLE;EMC;GNW;EOC;GPW;EQC;GRI;ESC;GTI;EUC;GVQ;EWC;GXM;EYC;GZO;EaC;0CCK;ODE;GbI;EeC;Gfa;CDC"},"hasCjsExports":false},"type":"js/module"}]}