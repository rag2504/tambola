{"dependencies":[{"name":"react-native-worklets","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":48,"index":63}}],"key":"upgdvla269Vpw38V/0PgHoMDZsA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"prepareUIRegistry\", {\n    enumerable: true,\n    get: function () {\n      return prepareUIRegistry;\n    }\n  });\n  var _reactNativeWorklets = require(_dependencyMap[0]);\n  const _worklet_7664098455194_init_data = {\n    code: \"function FrameCallbackRegistryUIJs1(){const frameCallbackRegistry={frameCallbackRegistry:new Map(),activeFrameCallbacks:new Set(),previousFrameTimestamp:null,nextCallId:0,runCallbacks:function(callId){var _this=this;const loop=function(timestamp){if(callId!==_this.nextCallId){return;}if(_this.previousFrameTimestamp===null){_this.previousFrameTimestamp=timestamp;}const delta=timestamp-_this.previousFrameTimestamp;_this.activeFrameCallbacks.forEach(function(callbackId){const callbackDetails=_this.frameCallbackRegistry.get(callbackId);const{startTime:startTime}=callbackDetails;if(startTime===null){callbackDetails.startTime=timestamp;callbackDetails.callback({timestamp:timestamp,timeSincePreviousFrame:null,timeSinceFirstFrame:0});}else{callbackDetails.callback({timestamp:timestamp,timeSincePreviousFrame:delta,timeSinceFirstFrame:timestamp-startTime});}});if(_this.activeFrameCallbacks.size>0){_this.previousFrameTimestamp=timestamp;requestAnimationFrame(loop);}else{_this.previousFrameTimestamp=null;}};if(this.activeFrameCallbacks.size===1&&callId===this.nextCallId){requestAnimationFrame(loop);}},registerFrameCallback:function(callback,callbackId){this.frameCallbackRegistry.set(callbackId,{callback:callback,startTime:null});},unregisterFrameCallback:function(callbackId){this.manageStateFrameCallback(callbackId,false);this.frameCallbackRegistry.delete(callbackId);},manageStateFrameCallback:function(callbackId,state){if(callbackId===-1){return;}if(state){if(!this.activeFrameCallbacks.has(callbackId)){this.activeFrameCallbacks.add(callbackId);this.runCallbacks(this.nextCallId);}}else{const callback=this.frameCallbackRegistry.get(callbackId);callback.startTime=null;this.activeFrameCallbacks.delete(callbackId);if(this.activeFrameCallbacks.size===0){this.nextCallId+=1;}}}};global._frameCallbackRegistry=frameCallbackRegistry;}\"\n  };\n  const prepareUIRegistry = (0, _reactNativeWorklets.runOnUI)(function FrameCallbackRegistryUIJs1Factory({\n    _worklet_7664098455194_init_data\n  }) {\n    const FrameCallbackRegistryUIJs1 = function () {\n      const frameCallbackRegistry = {\n        frameCallbackRegistry: new Map(),\n        activeFrameCallbacks: new Set(),\n        previousFrameTimestamp: null,\n        nextCallId: 0,\n        runCallbacks(callId) {\n          const loop = timestamp => {\n            if (callId !== this.nextCallId) {\n              return;\n            }\n            if (this.previousFrameTimestamp === null) {\n              this.previousFrameTimestamp = timestamp;\n            }\n            const delta = timestamp - this.previousFrameTimestamp;\n            this.activeFrameCallbacks.forEach(callbackId => {\n              const callbackDetails = this.frameCallbackRegistry.get(callbackId);\n              const {\n                startTime\n              } = callbackDetails;\n              if (startTime === null) {\n                // First frame\n                callbackDetails.startTime = timestamp;\n                callbackDetails.callback({\n                  timestamp,\n                  timeSincePreviousFrame: null,\n                  timeSinceFirstFrame: 0\n                });\n              } else {\n                // Next frame\n                callbackDetails.callback({\n                  timestamp,\n                  timeSincePreviousFrame: delta,\n                  timeSinceFirstFrame: timestamp - startTime\n                });\n              }\n            });\n            if (this.activeFrameCallbacks.size > 0) {\n              this.previousFrameTimestamp = timestamp;\n              requestAnimationFrame(loop);\n            } else {\n              this.previousFrameTimestamp = null;\n            }\n          };\n\n          // runCallback() should only be called after registering a callback,\n          // so if there is only one active callback, then it means that there were\n          // zero previously and the loop isn't running yet.\n          if (this.activeFrameCallbacks.size === 1 && callId === this.nextCallId) {\n            requestAnimationFrame(loop);\n          }\n        },\n        registerFrameCallback(callback, callbackId) {\n          this.frameCallbackRegistry.set(callbackId, {\n            callback,\n            startTime: null\n          });\n        },\n        unregisterFrameCallback(callbackId) {\n          this.manageStateFrameCallback(callbackId, false);\n          this.frameCallbackRegistry.delete(callbackId);\n        },\n        manageStateFrameCallback(callbackId, state) {\n          if (callbackId === -1) {\n            return;\n          }\n          if (state) {\n            if (!this.activeFrameCallbacks.has(callbackId)) {\n              this.activeFrameCallbacks.add(callbackId);\n              this.runCallbacks(this.nextCallId);\n            }\n          } else {\n            const callback = this.frameCallbackRegistry.get(callbackId);\n            callback.startTime = null;\n            this.activeFrameCallbacks.delete(callbackId);\n            if (this.activeFrameCallbacks.size === 0) {\n              this.nextCallId += 1;\n            }\n          }\n        }\n      };\n      global._frameCallbackRegistry = frameCallbackRegistry;\n    };\n    FrameCallbackRegistryUIJs1.__closure = {};\n    FrameCallbackRegistryUIJs1.__workletHash = 7664098455194;\n    FrameCallbackRegistryUIJs1.__initData = _worklet_7664098455194_init_data;\n    return FrameCallbackRegistryUIJs1;\n  }({\n    _worklet_7664098455194_init_data\n  }));\n});","lineCount":110,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,4,0,"Object"],[7,8,4,0],[7,9,4,0,"defineProperty"],[7,23,4,0],[7,24,4,0,"exports"],[7,31,4,0],[8,4,4,0,"enumerable"],[8,14,4,0],[9,4,4,0,"get"],[9,7,4,0],[9,18,4,0,"get"],[9,19,4,0],[10,6,4,0],[10,13,4,0,"prepareUIRegistry"],[10,30,4,0],[11,4,4,0],[12,2,4,0],[13,2,3,0],[13,6,3,0,"_reactNativeWorklets"],[13,26,3,0],[13,29,3,0,"require"],[13,36,3,0],[13,37,3,0,"_dependencyMap"],[13,51,3,0],[14,2,3,48],[14,8,3,48,"_worklet_7664098455194_init_data"],[14,40,3,48],[15,4,3,48,"code"],[15,8,3,48],[16,2,3,48],[17,2,4,7],[17,8,4,13,"prepareUIRegistry"],[17,25,4,30],[17,28,4,33],[17,32,4,33,"runOnUI"],[17,52,4,40],[17,53,4,40,"runOnUI"],[17,60,4,40],[17,62,4,41],[17,71,4,41,"FrameCallbackRegistryUIJs1Factory"],[17,105,4,41],[18,4,4,41,"_worklet_7664098455194_init_data"],[19,2,4,41],[20,4,4,41],[20,10,4,41,"FrameCallbackRegistryUIJs1"],[20,36,4,41],[20,48,4,41,"FrameCallbackRegistryUIJs1"],[20,49,4,41],[20,51,4,47],[21,6,7,2],[21,12,7,8,"frameCallbackRegistry"],[21,33,7,29],[21,36,7,32],[22,8,8,4,"frameCallbackRegistry"],[22,29,8,25],[22,31,8,27],[22,35,8,31,"Map"],[22,38,8,34],[22,39,8,35],[22,40,8,36],[23,8,9,4,"activeFrameCallbacks"],[23,28,9,24],[23,30,9,26],[23,34,9,30,"Set"],[23,37,9,33],[23,38,9,34],[23,39,9,35],[24,8,10,4,"previousFrameTimestamp"],[24,30,10,26],[24,32,10,28],[24,36,10,32],[25,8,11,4,"nextCallId"],[25,18,11,14],[25,20,11,16],[25,21,11,17],[26,8,12,4,"runCallbacks"],[26,20,12,16,"runCallbacks"],[26,21,12,17,"callId"],[26,27,12,23],[26,29,12,25],[27,10,13,6],[27,16,13,12,"loop"],[27,20,13,16],[27,23,13,19,"timestamp"],[27,32,13,28],[27,36,13,32],[28,12,14,8],[28,16,14,12,"callId"],[28,22,14,18],[28,27,14,23],[28,31,14,27],[28,32,14,28,"nextCallId"],[28,42,14,38],[28,44,14,40],[29,14,15,10],[30,12,16,8],[31,12,17,8],[31,16,17,12],[31,20,17,16],[31,21,17,17,"previousFrameTimestamp"],[31,43,17,39],[31,48,17,44],[31,52,17,48],[31,54,17,50],[32,14,18,10],[32,18,18,14],[32,19,18,15,"previousFrameTimestamp"],[32,41,18,37],[32,44,18,40,"timestamp"],[32,53,18,49],[33,12,19,8],[34,12,20,8],[34,18,20,14,"delta"],[34,23,20,19],[34,26,20,22,"timestamp"],[34,35,20,31],[34,38,20,34],[34,42,20,38],[34,43,20,39,"previousFrameTimestamp"],[34,65,20,61],[35,12,21,8],[35,16,21,12],[35,17,21,13,"activeFrameCallbacks"],[35,37,21,33],[35,38,21,34,"forEach"],[35,45,21,41],[35,46,21,42,"callbackId"],[35,56,21,52],[35,60,21,56],[36,14,22,10],[36,20,22,16,"callbackDetails"],[36,35,22,31],[36,38,22,34],[36,42,22,38],[36,43,22,39,"frameCallbackRegistry"],[36,64,22,60],[36,65,22,61,"get"],[36,68,22,64],[36,69,22,65,"callbackId"],[36,79,22,75],[36,80,22,76],[37,14,23,10],[37,20,23,16],[38,16,24,12,"startTime"],[39,14,25,10],[39,15,25,11],[39,18,25,14,"callbackDetails"],[39,33,25,29],[40,14,26,10],[40,18,26,14,"startTime"],[40,27,26,23],[40,32,26,28],[40,36,26,32],[40,38,26,34],[41,16,27,12],[42,16,28,12,"callbackDetails"],[42,31,28,27],[42,32,28,28,"startTime"],[42,41,28,37],[42,44,28,40,"timestamp"],[42,53,28,49],[43,16,29,12,"callbackDetails"],[43,31,29,27],[43,32,29,28,"callback"],[43,40,29,36],[43,41,29,37],[44,18,30,14,"timestamp"],[44,27,30,23],[45,18,31,14,"timeSincePreviousFrame"],[45,40,31,36],[45,42,31,38],[45,46,31,42],[46,18,32,14,"timeSinceFirstFrame"],[46,37,32,33],[46,39,32,35],[47,16,33,12],[47,17,33,13],[47,18,33,14],[48,14,34,10],[48,15,34,11],[48,21,34,17],[49,16,35,12],[50,16,36,12,"callbackDetails"],[50,31,36,27],[50,32,36,28,"callback"],[50,40,36,36],[50,41,36,37],[51,18,37,14,"timestamp"],[51,27,37,23],[52,18,38,14,"timeSincePreviousFrame"],[52,40,38,36],[52,42,38,38,"delta"],[52,47,38,43],[53,18,39,14,"timeSinceFirstFrame"],[53,37,39,33],[53,39,39,35,"timestamp"],[53,48,39,44],[53,51,39,47,"startTime"],[54,16,40,12],[54,17,40,13],[54,18,40,14],[55,14,41,10],[56,12,42,8],[56,13,42,9],[56,14,42,10],[57,12,43,8],[57,16,43,12],[57,20,43,16],[57,21,43,17,"activeFrameCallbacks"],[57,41,43,37],[57,42,43,38,"size"],[57,46,43,42],[57,49,43,45],[57,50,43,46],[57,52,43,48],[58,14,44,10],[58,18,44,14],[58,19,44,15,"previousFrameTimestamp"],[58,41,44,37],[58,44,44,40,"timestamp"],[58,53,44,49],[59,14,45,10,"requestAnimationFrame"],[59,35,45,31],[59,36,45,32,"loop"],[59,40,45,36],[59,41,45,37],[60,12,46,8],[60,13,46,9],[60,19,46,15],[61,14,47,10],[61,18,47,14],[61,19,47,15,"previousFrameTimestamp"],[61,41,47,37],[61,44,47,40],[61,48,47,44],[62,12,48,8],[63,10,49,6],[63,11,49,7],[65,10,51,6],[66,10,52,6],[67,10,53,6],[68,10,54,6],[68,14,54,10],[68,18,54,14],[68,19,54,15,"activeFrameCallbacks"],[68,39,54,35],[68,40,54,36,"size"],[68,44,54,40],[68,49,54,45],[68,50,54,46],[68,54,54,50,"callId"],[68,60,54,56],[68,65,54,61],[68,69,54,65],[68,70,54,66,"nextCallId"],[68,80,54,76],[68,82,54,78],[69,12,55,8,"requestAnimationFrame"],[69,33,55,29],[69,34,55,30,"loop"],[69,38,55,34],[69,39,55,35],[70,10,56,6],[71,8,57,4],[71,9,57,5],[72,8,58,4,"registerFrameCallback"],[72,29,58,25,"registerFrameCallback"],[72,30,58,26,"callback"],[72,38,58,34],[72,40,58,36,"callbackId"],[72,50,58,46],[72,52,58,48],[73,10,59,6],[73,14,59,10],[73,15,59,11,"frameCallbackRegistry"],[73,36,59,32],[73,37,59,33,"set"],[73,40,59,36],[73,41,59,37,"callbackId"],[73,51,59,47],[73,53,59,49],[74,12,60,8,"callback"],[74,20,60,16],[75,12,61,8,"startTime"],[75,21,61,17],[75,23,61,19],[76,10,62,6],[76,11,62,7],[76,12,62,8],[77,8,63,4],[77,9,63,5],[78,8,64,4,"unregisterFrameCallback"],[78,31,64,27,"unregisterFrameCallback"],[78,32,64,28,"callbackId"],[78,42,64,38],[78,44,64,40],[79,10,65,6],[79,14,65,10],[79,15,65,11,"manageStateFrameCallback"],[79,39,65,35],[79,40,65,36,"callbackId"],[79,50,65,46],[79,52,65,48],[79,57,65,53],[79,58,65,54],[80,10,66,6],[80,14,66,10],[80,15,66,11,"frameCallbackRegistry"],[80,36,66,32],[80,37,66,33,"delete"],[80,43,66,39],[80,44,66,40,"callbackId"],[80,54,66,50],[80,55,66,51],[81,8,67,4],[81,9,67,5],[82,8,68,4,"manageStateFrameCallback"],[82,32,68,28,"manageStateFrameCallback"],[82,33,68,29,"callbackId"],[82,43,68,39],[82,45,68,41,"state"],[82,50,68,46],[82,52,68,48],[83,10,69,6],[83,14,69,10,"callbackId"],[83,24,69,20],[83,31,69,27],[83,33,69,29],[84,12,70,8],[85,10,71,6],[86,10,72,6],[86,14,72,10,"state"],[86,19,72,15],[86,21,72,17],[87,12,73,8],[87,16,73,12],[87,17,73,13],[87,21,73,17],[87,22,73,18,"activeFrameCallbacks"],[87,42,73,38],[87,43,73,39,"has"],[87,46,73,42],[87,47,73,43,"callbackId"],[87,57,73,53],[87,58,73,54],[87,60,73,56],[88,14,74,10],[88,18,74,14],[88,19,74,15,"activeFrameCallbacks"],[88,39,74,35],[88,40,74,36,"add"],[88,43,74,39],[88,44,74,40,"callbackId"],[88,54,74,50],[88,55,74,51],[89,14,75,10],[89,18,75,14],[89,19,75,15,"runCallbacks"],[89,31,75,27],[89,32,75,28],[89,36,75,32],[89,37,75,33,"nextCallId"],[89,47,75,43],[89,48,75,44],[90,12,76,8],[91,10,77,6],[91,11,77,7],[91,17,77,13],[92,12,78,8],[92,18,78,14,"callback"],[92,26,78,22],[92,29,78,25],[92,33,78,29],[92,34,78,30,"frameCallbackRegistry"],[92,55,78,51],[92,56,78,52,"get"],[92,59,78,55],[92,60,78,56,"callbackId"],[92,70,78,66],[92,71,78,67],[93,12,79,8,"callback"],[93,20,79,16],[93,21,79,17,"startTime"],[93,30,79,26],[93,33,79,29],[93,37,79,33],[94,12,80,8],[94,16,80,12],[94,17,80,13,"activeFrameCallbacks"],[94,37,80,33],[94,38,80,34,"delete"],[94,44,80,40],[94,45,80,41,"callbackId"],[94,55,80,51],[94,56,80,52],[95,12,81,8],[95,16,81,12],[95,20,81,16],[95,21,81,17,"activeFrameCallbacks"],[95,41,81,37],[95,42,81,38,"size"],[95,46,81,42],[95,51,81,47],[95,52,81,48],[95,54,81,50],[96,14,82,10],[96,18,82,14],[96,19,82,15,"nextCallId"],[96,29,82,25],[96,33,82,29],[96,34,82,30],[97,12,83,8],[98,10,84,6],[99,8,85,4],[100,6,86,2],[100,7,86,3],[101,6,87,2,"global"],[101,12,87,8],[101,13,87,9,"_frameCallbackRegistry"],[101,35,87,31],[101,38,87,34,"frameCallbackRegistry"],[101,59,87,55],[102,4,88,0],[102,5,88,1],[103,4,88,1,"FrameCallbackRegistryUIJs1"],[103,30,88,1],[103,31,88,1,"__closure"],[103,40,88,1],[104,4,88,1,"FrameCallbackRegistryUIJs1"],[104,30,88,1],[104,31,88,1,"__workletHash"],[104,44,88,1],[105,4,88,1,"FrameCallbackRegistryUIJs1"],[105,30,88,1],[105,31,88,1,"__initData"],[105,41,88,1],[105,44,88,1,"_worklet_7664098455194_init_data"],[105,76,88,1],[106,4,88,1],[106,11,88,1,"FrameCallbackRegistryUIJs1"],[106,37,88,1],[107,2,88,1],[107,3,4,41],[108,4,4,41,"_worklet_7664098455194_init_data"],[109,2,4,41],[109,4,88,1],[109,5,88,2],[110,0,88,3],[110,3]],"functionMap":{"names":["<global>","runOnUI$argument_0","frameCallbackRegistry.runCallbacks","loop","activeFrameCallbacks.forEach$argument_0","frameCallbackRegistry.registerFrameCallback","frameCallbackRegistry.unregisterFrameCallback","frameCallbackRegistry.manageStateFrameCallback"],"mappings":"AAA;yCCG;ICQ;mBCC;0CCQ;SDqB;ODO;KDQ;IIC;KJK;IKC;KLG;IMC;KNiB;CDG"},"hasCjsExports":false},"type":"js/module"}]}