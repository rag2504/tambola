{"dependencies":[{"name":"../../../common","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":49,"index":64}}],"key":"AI/OUAil3Z67B7bUiML5DX0dlDY=","exportNames":["*"],"imports":1}},{"name":"../../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":65},"end":{"line":4,"column":94,"index":159}}],"key":"ByXat9lt9duIJLDmSeH0V+tRq1s=","exportNames":["*"],"imports":1}},{"name":"../animationParser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":160},"end":{"line":5,"column":64,"index":224}}],"key":"NS2upIa4aHN1XdKmQKcusYkE9o0=","exportNames":["*"],"imports":1}},{"name":"../domUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":225},"end":{"line":6,"column":96,"index":321}}],"key":"A8YcxzRDiHIujPKtuiY+Inkf/08=","exportNames":["*"],"imports":1}},{"name":"../keyframes","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":322},"end":{"line":7,"column":52,"index":374}}],"key":"mxvMhs55oq9jgpEsSFkkE4J0Ers=","exportNames":["*"],"imports":1}},{"name":"../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":375},"end":{"line":8,"column":65,"index":440}}],"key":"mL7nJyZhzUYx+zMcIt1cBzVuRps=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,\"default\",{enumerable:!0,get:function(){return u}});var t=r(d[0]),n=r(d[1]),i=r(d[2]),o=r(d[3]),s=r(d[4]),l=r(d[5]);class u{attachedAnimations={};unmountCleanupCalled=!1;constructor(t){(0,o.configureWebCSSAnimations)(),this.element=t}update(t){if(!t)return void this.detach();const{animationName:o,...l}=(0,n.convertPropertiesToArrays)(t);if(0===o.length)return void this.detach();const u=Date.now(),c=o.map(t=>{let n;if('object'==typeof(o=t)&&'processedKeyframes'in o)n=this.attachedAnimations[t.processedKeyframes]??{keyframesRule:t,removable:!1,creationTimestamp:u};else{const o=t,l=(0,i.processKeyframeDefinitions)(o);n=this.attachedAnimations[l]??{keyframesRule:new s.CSSKeyframesRuleImpl(o,l),removable:!0,creationTimestamp:u}}var o;return this.unmountCleanupCalled&&(n.elapsedTime=u-n.creationTimestamp),n});this.unmountCleanupCalled=!1,this.updateAttachedAnimations(c),this.setElementAnimations(c,l)}unmountCleanup(){this.unmountCleanupCalled||(this.unmountCleanupCalled=!0,setTimeout(()=>{this.removeAnimationsFromStyleSheet(Object.values(this.attachedAnimations))}))}detach(){const t=Object.values(this.attachedAnimations);0!==t.length&&(this.element.style.animationDuration='',this.element.style.animationDelay='',this.element.style.animationDirection='',this.element.style.animationFillMode='',this.element.style.animationPlayState='',this.element.style.animationTimingFunction='',this.removeAnimationsFromStyleSheet(t),this.unmountCleanupCalled=!1,this.attachedAnimations={})}updateAttachedAnimations(t){const n={};t.forEach(t=>{const i=t.keyframesRule;i.processedKeyframes&&(0,o.insertCSSAnimation)(i.name,i.processedKeyframes),n[i.processedKeyframes]=t}),Object.values(this.attachedAnimations).forEach(({keyframesRule:t,removable:i})=>{i&&t.processedKeyframes&&!n[t.processedKeyframes]&&(0,o.removeCSSAnimation)(t.name)}),this.attachedAnimations=n}setElementAnimations(i,o){this.element.style.animationName=i.map(({keyframesRule:{name:t}})=>t).join(','),this.element.style.animationDuration=(0,l.maybeAddSuffixes)(o,'animationDuration','ms').join(',');const s=o.animationDelay??[];this.element.style.animationDelay=i.map(({elapsedTime:i},o)=>{const l=s[o]??0;return(0,t.maybeAddSuffix)(i?((0,n.normalizeTimeUnit)(l)??0)-i:l,'ms')}).join(','),o.animationIterationCount&&(this.element.style.animationIterationCount=o.animationIterationCount.join(',')),o.animationDirection&&(this.element.style.animationDirection=o.animationDirection.map(n.kebabizeCamelCase).join(',')),o.animationFillMode&&(this.element.style.animationFillMode=o.animationFillMode.join(',')),o.animationPlayState&&(this.element.style.animationPlayState=o.animationPlayState.join(',')),o.animationTimingFunction&&(this.element.style.animationTimingFunction=(0,l.parseTimingFunction)(o.animationTimingFunction))}removeAnimationsFromStyleSheet(t){t.forEach(({keyframesRule:{name:t,processedKeyframes:n},removable:i})=>{i&&n&&(0,o.removeCSSAnimation)(t)})}}});","lineCount":1,"map":[[1,29,1,0],[1,42,1,13,"Object"],[1,49,1,13,"defineProperty"],[1,64,1,13,"e"],[1,66,1,13],[1,80,1,13,"value"],[1,87,1,13],[1,91,10,15,"Object"],[1,98,10,15,"defineProperty"],[1,113,10,15,"e"],[1,115,10,15],[1,126,10,15,"enumerable"],[1,138,10,15],[1,140,10,15,"get"],[1,144,10,15],[1,162,10,15,"CSSAnimationsManager"],[1,163,10,15],[1,167,3,0],[1,171,3,0,"_common"],[1,173,3,0,"r"],[1,175,3,0,"d"],[1,177,3,0],[1,181,4,0,"_utils"],[1,183,4,0,"r"],[1,185,4,0,"d"],[1,187,4,0],[1,191,5,0,"_animationParser"],[1,193,5,0,"r"],[1,195,5,0,"d"],[1,197,5,0],[1,201,6,0,"_domUtils"],[1,203,6,0,"r"],[1,205,6,0,"d"],[1,207,6,0],[1,211,7,0,"_keyframes"],[1,213,7,0,"r"],[1,215,7,0,"d"],[1,217,7,0],[1,221,8,0,"_utils2"],[1,223,8,0,"r"],[1,225,8,0,"d"],[1,227,8,0],[1,231,10,15],[1,237,10,21,"CSSAnimationsManager"],[1,239,12,2,"attachedAnimations"],[1,258,12,23],[1,259,12,24],[1,261,13,2,"unmountCleanupCalled"],[1,283,13,25],[1,285,14,2,"constructor"],[1,297,14,14,"element"],[1,301,15,4],[1,303,15,4,"configureWebCSSAnimations"],[1,305,15,29,"configureWebCSSAnimations"],[1,334,16,4,"this"],[1,339,16,9,"element"],[1,347,16,19,"element"],[1,348,17,2],[1,349,18,2,"update"],[1,356,18,9,"animationProperties"],[1,359,19,4],[1,363,19,9,"animationProperties"],[1,365,21,6],[1,377,20,6,"this"],[1,382,20,11,"detach"],[1,391,23,4],[1,397,24,6,"animationName"],[1,411,24,21,"definitions"],[1,416,25,9,"animationSettings"],[1,420,26,8],[1,422,26,8,"convertPropertiesToArrays"],[1,424,26,33,"convertPropertiesToArrays"],[1,451,26,34,"animationProperties"],[1,454,27,4],[1,457,27,31],[1,461,27,8,"definitions"],[1,463,27,20,"length"],[1,470,29,6],[1,482,28,6,"this"],[1,487,28,11,"detach"],[1,496,31,4],[1,502,31,10,"timestamp"],[1,504,31,22,"Date"],[1,509,31,27,"now"],[1,515,32,10,"processedAnimations"],[1,517,32,32,"definitions"],[1,519,32,44,"map"],[1,523,32,48,"definition"],[1,527,33,6],[1,531,33,10,"processedAnimation"],[1,533,36,6],[1,536,9,65],[1,553,9,31,"keyframes"],[1,555,36,33,"definition"],[1,559,9,77],[1,582,9,101,"keyframes"],[1,584,37,8,"processedAnimation"],[1,586,37,29,"this"],[1,591,37,34,"attachedAnimations"],[1,610,37,53,"definition"],[1,612,37,64,"processedKeyframes"],[1,633,37,87],[1,634,38,10,"keyframesRule"],[1,648,38,25,"definition"],[1,650,39,10,"removable"],[1,661,39,21],[1,663,40,10,"creationTimestamp"],[1,681,40,29,"timestamp"],[1,688,42,13],[1,689,44,8],[1,695,44,14,"keyframes"],[1,697,44,26,"definition"],[1,699,45,14,"processedKeyframes"],[1,702,45,35],[1,704,45,35,"processKeyframeDefinitions"],[1,706,45,61,"processKeyframeDefinitions"],[1,734,45,62,"keyframes"],[1,737,49,8,"processedAnimation"],[1,739,49,29,"this"],[1,744,49,34,"attachedAnimations"],[1,763,49,53,"processedKeyframes"],[1,767,49,76],[1,768,50,10,"keyframesRule"],[1,782,50,25],[1,786,50,29,"CSSKeyframesRuleImpl"],[1,788,50,49,"CSSKeyframesRuleImpl"],[1,809,50,50,"keyframes"],[1,811,50,61,"processedKeyframes"],[1,814,51,10,"removable"],[1,825,51,21],[1,827,52,10,"creationTimestamp"],[1,845,52,29,"timestamp"],[1,847,54,6],[1,848,9,31,"keyframes"],[1,854,63,6],[1,861,55,10,"this"],[1,866,55,15,"unmountCleanupCalled"],[1,889,61,8,"processedAnimation"],[1,891,61,27,"elapsedTime"],[1,903,61,41,"timestamp"],[1,905,61,53,"processedAnimation"],[1,907,61,72,"creationTimestamp"],[1,926,63,13,"processedAnimation"],[1,930,65,4,"this"],[1,935,65,9,"unmountCleanupCalled"],[1,957,65,32],[1,959,66,4,"this"],[1,964,66,9,"updateAttachedAnimations"],[1,989,66,34,"processedAnimations"],[1,992,67,4,"this"],[1,997,67,9,"setElementAnimations"],[1,1018,67,30,"processedAnimations"],[1,1020,67,51,"animationSettings"],[1,1022,68,2],[1,1023,69,2,"unmountCleanup"],[1,1040,70,9,"this"],[1,1045,70,14,"unmountCleanupCalled"],[1,1068,71,6,"this"],[1,1073,71,11,"unmountCleanupCalled"],[1,1095,71,34],[1,1097,76,6,"setTimeout"],[1,1108,76,17],[1,1113,77,8,"this"],[1,1118,77,13,"removeAnimationsFromStyleSheet"],[1,1149,77,44,"Object"],[1,1156,77,51,"values"],[1,1163,77,58,"this"],[1,1168,77,63,"attachedAnimations"],[1,1191,80,2],[1,1192,81,2,"detach"],[1,1201,82,4],[1,1207,82,10,"attachedAnimations"],[1,1209,82,31,"Object"],[1,1216,82,38,"values"],[1,1223,82,45,"this"],[1,1228,82,50,"attachedAnimations"],[1,1248,83,38],[1,1252,83,8,"attachedAnimations"],[1,1254,83,27,"length"],[1,1263,86,4,"this"],[1,1268,86,9,"element"],[1,1276,86,17,"style"],[1,1282,86,23,"animationDuration"],[1,1300,86,43],[1,1303,87,4,"this"],[1,1308,87,9,"element"],[1,1316,87,17,"style"],[1,1322,87,23,"animationDelay"],[1,1337,87,40],[1,1340,88,4,"this"],[1,1345,88,9,"element"],[1,1353,88,17,"style"],[1,1359,88,23,"animationDirection"],[1,1378,88,44],[1,1381,89,4,"this"],[1,1386,89,9,"element"],[1,1394,89,17,"style"],[1,1400,89,23,"animationFillMode"],[1,1418,89,43],[1,1421,90,4,"this"],[1,1426,90,9,"element"],[1,1434,90,17,"style"],[1,1440,90,23,"animationPlayState"],[1,1459,90,44],[1,1462,91,4,"this"],[1,1467,91,9,"element"],[1,1475,91,17,"style"],[1,1481,91,23,"animationTimingFunction"],[1,1505,91,49],[1,1508,92,4,"this"],[1,1513,92,9,"removeAnimationsFromStyleSheet"],[1,1544,92,40,"attachedAnimations"],[1,1547,93,4,"this"],[1,1552,93,9,"unmountCleanupCalled"],[1,1574,93,32],[1,1576,94,4,"this"],[1,1581,94,9,"attachedAnimations"],[1,1600,94,30],[1,1601,94,31],[1,1603,95,2],[1,1604,96,2,"updateAttachedAnimations"],[1,1629,96,27,"processedAnimations"],[1,1632,97,4],[1,1638,97,10,"newAttachedAnimations"],[1,1640,97,34],[1,1641,97,35],[1,1643,98,4,"processedAnimations"],[1,1645,98,24,"forEach"],[1,1653,98,32,"processedAnimation"],[1,1657,99,6],[1,1663,99,12,"rule"],[1,1665,99,19,"processedAnimation"],[1,1667,99,38,"keyframesRule"],[1,1681,100,10,"rule"],[1,1683,100,15,"processedKeyframes"],[1,1704,102,8],[1,1706,102,8,"insertCSSAnimation"],[1,1708,102,26,"insertCSSAnimation"],[1,1728,102,27,"rule"],[1,1730,102,32,"name"],[1,1735,102,38,"rule"],[1,1737,102,43,"processedKeyframes"],[1,1757,104,6,"newAttachedAnimations"],[1,1759,104,28,"rule"],[1,1761,104,33,"processedKeyframes"],[1,1781,104,55,"processedAnimation"],[1,1785,106,4,"Object"],[1,1792,106,11,"values"],[1,1799,106,18,"this"],[1,1804,106,23,"attachedAnimations"],[1,1824,106,43,"forEach"],[1,1832,106,51],[1,1834,107,6,"keyframesRule"],[1,1848,107,21,"rule"],[1,1850,108,6,"removable"],[1,1866,110,10,"removable"],[1,1869,110,23,"rule"],[1,1871,110,28,"processedKeyframes"],[1,1892,110,51,"newAttachedAnimations"],[1,1894,110,73,"rule"],[1,1896,110,78,"processedKeyframes"],[1,1918,111,8],[1,1920,111,8,"removeCSSAnimation"],[1,1922,111,26,"removeCSSAnimation"],[1,1942,111,27,"rule"],[1,1944,111,32,"name"],[1,1952,114,4,"this"],[1,1957,114,9,"attachedAnimations"],[1,1976,114,30,"newAttachedAnimations"],[1,1977,115,2],[1,1978,116,2,"setElementAnimations"],[1,1999,116,23,"processedAnimations"],[1,2001,116,44,"animationSettings"],[1,2004,117,4,"this"],[1,2009,117,9,"element"],[1,2017,117,17,"style"],[1,2023,117,23,"animationName"],[1,2037,117,39,"processedAnimations"],[1,2039,117,59,"map"],[1,2043,117,63],[1,2045,118,6,"keyframesRule"],[1,2060,119,8,"name"],[1,2071,121,10,"name"],[1,2074,121,16,"join"],[1,2079,121,21],[1,2084,122,4,"this"],[1,2089,122,9,"element"],[1,2097,122,17,"style"],[1,2103,122,23,"animationDuration"],[1,2122,122,43],[1,2124,122,43,"maybeAddSuffixes"],[1,2126,122,59,"maybeAddSuffixes"],[1,2144,122,60,"animationSettings"],[1,2146,122,79],[1,2166,122,100],[1,2172,122,106,"join"],[1,2177,122,111],[1,2182,123,4],[1,2188,123,10,"animationDelays"],[1,2190,123,28,"animationSettings"],[1,2192,123,46,"animationDelay"],[1,2208,123,64],[1,2211,124,4,"this"],[1,2216,124,9,"element"],[1,2224,124,17,"style"],[1,2230,124,23,"animationDelay"],[1,2245,124,40,"processedAnimations"],[1,2247,124,60,"map"],[1,2251,124,64],[1,2253,125,6,"elapsedTime"],[1,2268,126,7,"i"],[1,2273,127,6],[1,2279,127,12,"providedDelay"],[1,2281,127,28,"animationDelays"],[1,2283,127,44,"i"],[1,2287,127,50],[1,2289,128,6],[1,2296,128,13],[1,2298,128,13,"maybeAddSuffix"],[1,2300,128,27,"maybeAddSuffix"],[1,2316,128,28,"elapsedTime"],[1,2320,128,43],[1,2322,128,43,"normalizeTimeUnit"],[1,2324,128,60,"normalizeTimeUnit"],[1,2343,128,61,"providedDelay"],[1,2347,128,79],[1,2350,128,84,"elapsedTime"],[1,2352,128,98,"providedDelay"],[1,2354,128,113],[1,2362,129,7,"join"],[1,2367,129,12],[1,2372,130,8,"animationSettings"],[1,2374,130,26,"animationIterationCount"],[1,2400,131,6,"this"],[1,2405,131,11,"element"],[1,2413,131,19,"style"],[1,2419,131,25,"animationIterationCount"],[1,2443,131,51,"animationSettings"],[1,2445,131,69,"animationIterationCount"],[1,2469,131,93,"join"],[1,2474,131,98],[1,2480,133,8,"animationSettings"],[1,2482,133,26,"animationDirection"],[1,2503,134,6,"this"],[1,2508,134,11,"element"],[1,2516,134,19,"style"],[1,2522,134,25,"animationDirection"],[1,2541,134,46,"animationSettings"],[1,2543,134,64,"animationDirection"],[1,2562,134,83,"map"],[1,2566,134,87,"kebabizeCamelCase"],[1,2568,134,104,"kebabizeCamelCase"],[1,2587,134,106,"join"],[1,2592,134,111],[1,2598,136,8,"animationSettings"],[1,2600,136,26,"animationFillMode"],[1,2620,137,6,"this"],[1,2625,137,11,"element"],[1,2633,137,19,"style"],[1,2639,137,25,"animationFillMode"],[1,2657,137,45,"animationSettings"],[1,2659,137,63,"animationFillMode"],[1,2677,137,81,"join"],[1,2682,137,86],[1,2688,139,8,"animationSettings"],[1,2690,139,26,"animationPlayState"],[1,2711,140,6,"this"],[1,2716,140,11,"element"],[1,2724,140,19,"style"],[1,2730,140,25,"animationPlayState"],[1,2749,140,46,"animationSettings"],[1,2751,140,64,"animationPlayState"],[1,2770,140,83,"join"],[1,2775,140,88],[1,2781,142,8,"animationSettings"],[1,2783,142,26,"animationTimingFunction"],[1,2809,143,6,"this"],[1,2814,143,11,"element"],[1,2822,143,19,"style"],[1,2828,143,25,"animationTimingFunction"],[1,2853,143,51],[1,2855,143,51,"parseTimingFunction"],[1,2857,143,70,"parseTimingFunction"],[1,2878,143,71,"animationSettings"],[1,2880,143,89,"animationTimingFunction"],[1,2905,145,2],[1,2906,146,2,"removeAnimationsFromStyleSheet"],[1,2937,146,33,"animations"],[1,2940,147,4,"animations"],[1,2942,147,15,"forEach"],[1,2950,147,23],[1,2952,148,6,"keyframesRule"],[1,2967,149,8,"name"],[1,2974,150,8,"processedKeyframes"],[1,2996,152,6,"removable"],[1,3012,154,10,"removable"],[1,3015,154,23,"processedKeyframes"],[1,3019,155,8],[1,3021,155,8,"removeCSSAnimation"],[1,3023,155,26,"removeCSSAnimation"],[1,3043,155,27,"name"],[1,3047,158,2],[1,3049,159,1],[1,3052]],"functionMap":{"names":["<global>","isCSSKeyframesRuleImpl","CSSAnimationsManager","constructor","update","definitions.map$argument_0","unmountCleanup","setTimeout$argument_0","detach","updateAttachedAnimations","processedAnimations.forEach$argument_0","Object.values.forEach$argument_0","setElementAnimations","processedAnimations.map$argument_0","removeAnimationsFromStyleSheet","animations.forEach$argument_0"],"mappings":"AAA;+BCQ,+ED;eEC;ECI;GDG;EEC;gDCc;KDgC;GFI;EIC;iBCO;ODE;GJE;EMC;GNc;EOC;gCCE;KDO;mDEC;KFO;GPE;EUC;+DCC;cDI;gECG;KDK;GVgB;EYC;uBCC;KDU;GZC;CFC"},"hasCjsExports":false},"type":"js/module"}]}