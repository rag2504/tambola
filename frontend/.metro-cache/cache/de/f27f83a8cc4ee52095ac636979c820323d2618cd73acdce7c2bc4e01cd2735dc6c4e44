{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":61},"end":{"line":4,"column":89,"index":150}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":152},"end":{"line":5,"column":69,"index":221}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":223},"end":{"line":6,"column":42,"index":265}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"../services/socket","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":267},"end":{"line":7,"column":51,"index":318}}],"key":"Zr9DRnwDVZxHFeGDyPwyujLo6pk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"AuthProvider\",{enumerable:!0,get:function(){return f}}),Object.defineProperty(_e,\"useAuth\",{enumerable:!0,get:function(){return h}});var e,t=r(d[0]),o=r(d[1]),s=(e=o)&&e.__esModule?e:{default:e},n=r(d[2]),u=r(d[3]),c=r(d[4]);const l=(0,t.createContext)(void 0),f=({children:e})=>{const[o,f]=(0,t.useState)(null),[h,w]=(0,t.useState)(!0);(0,t.useEffect)(()=>{_()},[]),(0,t.useEffect)(()=>{o?u.socketService.connect():u.socketService.disconnect()},[o]);const _=async()=>{try{const e=await s.default.getItem('auth_token'),t=await s.default.getItem('user_data');e&&t&&f(JSON.parse(t))}catch(e){console.error('Error loading user:',e)}finally{w(!1)}};return(0,c.jsx)(l.Provider,{value:{user:o,isAuthenticated:!!o,isLoading:h,login:async(e,t)=>{try{const o=await n.authAPI.login({email:e,password:t});await s.default.setItem('auth_token',o.access_token),await s.default.setItem('user_data',JSON.stringify(o.user)),f(o.user)}catch(e){throw console.error('Login error:',e),new Error(e.response?.data?.detail||'Login failed')}},signup:async(e,t,o,u)=>{try{const c=await n.authAPI.signup({name:e,email:t,mobile:o,password:u});await s.default.setItem('auth_token',c.access_token),await s.default.setItem('user_data',JSON.stringify(c.user)),f(c.user)}catch(e){throw console.error('Signup error:',e),new Error(e.response?.data?.detail||'Signup failed')}},logout:async()=>{try{u.socketService.disconnect(),await s.default.removeItem('auth_token'),await s.default.removeItem('user_data'),f(null)}catch(e){console.error('Logout error:',e)}},refreshProfile:async()=>{try{const e=await n.authAPI.getProfile();await s.default.setItem('user_data',JSON.stringify(e)),f(e)}catch(e){console.error('Error refreshing profile:',e)}},updateWalletBalance:e=>{if(o){const t={...o,wallet_balance:e};f(t),s.default.setItem('user_data',JSON.stringify(t))}}},children:e})},h=()=>{const e=(0,t.useContext)(l);if(!e)throw new Error('useAuth must be used within AuthProvider');return e}});","lineCount":1,"map":[[1,92,35,0,"Object"],[1,99,35,0,"defineProperty"],[1,114,35,0,"_e"],[1,117,35,0],[1,133,35,0,"enumerable"],[1,145,35,0],[1,147,35,0,"get"],[1,151,35,0],[1,169,35,0,"AuthProvider"],[1,170,35,0],[1,174,149,0,"Object"],[1,181,149,0,"defineProperty"],[1,196,149,0,"_e"],[1,199,149,0],[1,210,149,0,"enumerable"],[1,222,149,0],[1,224,149,0,"get"],[1,228,149,0],[1,246,149,0,"useAuth"],[1,247,149,0],[1,251,4,0],[1,255],[1,257,4,0,"_react"],[1,259,4,0,"r"],[1,261,4,0,"d"],[1,263,4,0],[1,267,5,0,"_reactNativeAsyncStorageAsyncStorage"],[1,269,5,0,"r"],[1,271,5,0,"d"],[1,273,5,0],[1,277,5,0,"AsyncStorage"],[1,280],[1,282,5,0,"_reactNativeAsyncStorageAsyncStorage"],[1,286],[1,313,6,0,"_servicesApi"],[1,315,6,0,"r"],[1,317,6,0,"d"],[1,319,6,0],[1,323,7,0,"_servicesSocket"],[1,325,7,0,"r"],[1,327,7,0,"d"],[1,329,7,0],[1,333,7,51,"_reactJsxRuntime"],[1,335,7,51,"r"],[1,337,7,51,"d"],[1,339,7,51],[1,343,33,0],[1,349,33,6,"AuthContext"],[1,352,33,20],[1,354,33,20,"createContext"],[1,356,33,33,"createContext"],[1,376,33,63,"undefined"],[1,379,35,13,"AuthProvider"],[1,381,35,63,"AuthProvider"],[1,383,35,66,"children"],[1,398,36,2],[1,404,36,9,"user"],[1,406,36,15,"setUser"],[1,410,36,26],[1,412,36,26,"useState"],[1,414,36,34,"useState"],[1,424,36,48],[1,431,37,9,"isLoading"],[1,433,37,20,"setIsLoading"],[1,437,37,36],[1,439,37,36,"useState"],[1,441,37,44,"useState"],[1,452,37,45],[1,456,40,2],[1,458,40,2,"useEffect"],[1,460,40,11,"useEffect"],[1,471,40,12],[1,476,41,4,"loadUser"],[1,481,42,5],[1,486,45,2],[1,488,45,2,"useEffect"],[1,490,45,11,"useEffect"],[1,501,45,12],[1,506,46,8,"user"],[1,508,47,6,"socketService"],[1,510,47,19,"socketService"],[1,524,47,20,"connect"],[1,534,49,6,"socketService"],[1,536,49,19,"socketService"],[1,550,49,20,"disconnect"],[1,564,51,5],[1,565,51,6,"user"],[1,569,53,2],[1,575,53,8,"loadUser"],[1,577,53,19,"async"],[1,587,54,4],[1,591,55,6],[1,597,55,12,"token"],[1,605,55,26,"AsyncStorage"],[1,607,55,38,"default"],[1,615,55,39,"getItem"],[1,623,55,47],[1,637,56,12,"userData"],[1,645,56,29,"AsyncStorage"],[1,647,56,41,"default"],[1,655,56,42,"getItem"],[1,663,56,50],[1,676,58,10,"token"],[1,679,58,19,"userData"],[1,682,59,8,"setUser"],[1,684,59,16,"JSON"],[1,689,59,21,"parse"],[1,695,59,27,"userData"],[1,698,61,4],[1,699,61,6],[1,705,61,13,"error"],[1,708,62,6,"console"],[1,716,62,14,"error"],[1,722,62,20],[1,744,62,43,"error"],[1,746,63,4],[1,747,63,5],[1,755,64,6,"setIsLoading"],[1,758,64,19],[1,760,65,4],[1,763,131,2],[1,770,132,4],[1,772,132,4,"_reactJsxRuntime"],[1,774,132,4,"jsx"],[1,779,132,5,"AuthContext"],[1,781,132,17,"Provider"],[1,790,132,25],[1,791,133,6,"value"],[1,797,133,13],[1,798,134,8,"user"],[1,805,135,8,"isAuthenticated"],[1,823,135,27,"user"],[1,825,136,8,"isLoading"],[1,837,137,8,"login"],[1,843,68,16,"async"],[1,849,68,23,"email"],[1,851,68,38,"password"],[1,856,69,4],[1,860,70,6],[1,866,70,12,"response"],[1,874,70,29,"authAPI"],[1,876,70,36,"authAPI"],[1,884,70,37,"login"],[1,890,70,43],[1,891,70,45,"email"],[1,899,70,52,"password"],[1,918,73,12,"AsyncStorage"],[1,920,73,24,"default"],[1,928,73,25,"setItem"],[1,936,73,33],[1,949,73,47,"response"],[1,951,73,56,"access_token"],[1,971,74,12,"AsyncStorage"],[1,973,74,24,"default"],[1,981,74,25,"setItem"],[1,989,74,33],[1,1001,74,46,"JSON"],[1,1006,74,51,"stringify"],[1,1016,74,61,"response"],[1,1018,74,70,"user"],[1,1025,76,6,"setUser"],[1,1027,76,14,"response"],[1,1029,76,23,"user"],[1,1034,77,4],[1,1035,77,6],[1,1041,77,13,"error"],[1,1044,79,6],[1,1050,78,6,"console"],[1,1058,78,14,"error"],[1,1064,78,20],[1,1079,78,36,"error"],[1,1082,79,12],[1,1086,79,16,"Error"],[1,1092,79,22,"error"],[1,1094,79,28,"response"],[1,1104,79,38,"data"],[1,1110,79,44,"detail"],[1,1118,79,54],[1,1133,80,4],[1,1136,138,8,"signup"],[1,1143,83,17,"async"],[1,1149,83,24,"name"],[1,1151,83,38,"email"],[1,1153,83,53,"mobile"],[1,1155,83,69,"password"],[1,1160,84,4],[1,1164,85,6],[1,1170,85,12,"response"],[1,1178,85,29,"authAPI"],[1,1180,85,36,"authAPI"],[1,1188,85,37,"signup"],[1,1195,85,44],[1,1196,85,46,"name"],[1,1203,85,52,"email"],[1,1211,85,59,"mobile"],[1,1220,85,67,"password"],[1,1239,88,12,"AsyncStorage"],[1,1241,88,24,"default"],[1,1249,88,25,"setItem"],[1,1257,88,33],[1,1270,88,47,"response"],[1,1272,88,56,"access_token"],[1,1292,89,12,"AsyncStorage"],[1,1294,89,24,"default"],[1,1302,89,25,"setItem"],[1,1310,89,33],[1,1322,89,46,"JSON"],[1,1327,89,51,"stringify"],[1,1337,89,61,"response"],[1,1339,89,70,"user"],[1,1346,91,6,"setUser"],[1,1348,91,14,"response"],[1,1350,91,23,"user"],[1,1355,92,4],[1,1356,92,6],[1,1362,92,13,"error"],[1,1365,94,6],[1,1371,93,6,"console"],[1,1379,93,14,"error"],[1,1385,93,20],[1,1401,93,37,"error"],[1,1404,94,12],[1,1408,94,16,"Error"],[1,1414,94,22,"error"],[1,1416,94,28,"response"],[1,1426,94,38,"data"],[1,1432,94,44,"detail"],[1,1440,94,54],[1,1456,95,4],[1,1459,139,8,"logout"],[1,1466,98,17,"async"],[1,1476,99,4],[1,1480,101,6,"socketService"],[1,1482,101,19,"socketService"],[1,1496,101,20,"disconnect"],[1,1515,104,12,"AsyncStorage"],[1,1517,104,24,"default"],[1,1525,104,25,"removeItem"],[1,1536,104,36],[1,1556,105,12,"AsyncStorage"],[1,1558,105,24,"default"],[1,1566,105,25,"removeItem"],[1,1577,105,36],[1,1590,107,6,"setUser"],[1,1592,107,14],[1,1597,108,4],[1,1598,108,6],[1,1604,108,13,"error"],[1,1607,109,6,"console"],[1,1615,109,14,"error"],[1,1621,109,20],[1,1637,109,37,"error"],[1,1639,110,4],[1,1642,140,8,"refreshProfile"],[1,1657,113,25,"async"],[1,1667,114,4],[1,1671,115,6],[1,1677,115,12,"profile"],[1,1685,115,28,"authAPI"],[1,1687,115,35,"authAPI"],[1,1695,115,36,"getProfile"],[1,1714,116,12,"AsyncStorage"],[1,1716,116,24,"default"],[1,1724,116,25,"setItem"],[1,1732,116,33],[1,1744,116,46,"JSON"],[1,1749,116,51,"stringify"],[1,1759,116,61,"profile"],[1,1763,117,6,"setUser"],[1,1765,117,14,"profile"],[1,1767,118,4],[1,1768,118,6],[1,1774,118,13,"error"],[1,1777,119,6,"console"],[1,1785,119,14,"error"],[1,1791,119,20],[1,1819,119,49,"error"],[1,1821,120,4],[1,1824,141,8,"updateWalletBalance"],[1,1844,123,31,"newBalance"],[1,1848,124,4],[1,1851,124,8,"user"],[1,1853,124,14],[1,1854,125,6],[1,1860,125,12,"updatedUser"],[1,1862,125,26],[1,1866,125,31,"user"],[1,1868,125,37,"wallet_balance"],[1,1883,125,53,"newBalance"],[1,1886,126,6,"setUser"],[1,1888,126,14,"updatedUser"],[1,1891,127,6,"AsyncStorage"],[1,1893,127,18,"default"],[1,1901,127,19,"setItem"],[1,1909,127,27],[1,1921,127,40,"JSON"],[1,1926,127,45,"stringify"],[1,1936,127,55,"updatedUser"],[1,1939,128,4],[1,1943,142,8,"children"],[1,1952,144,7,"children"],[1,1957,149,13,"useAuth"],[1,1959,149,23,"useAuth"],[1,1964,150,2],[1,1970,150,8,"context"],[1,1973,150,18],[1,1975,150,18,"useContext"],[1,1977,150,28,"useContext"],[1,1989,150,29,"AuthContext"],[1,1992,151,2],[1,1996,151,7,"context"],[1,1998,152,4],[1,2004,152,10],[1,2008,152,14,"Error"],[1,2014,152,20],[1,2058,154,2],[1,2065,154,9,"context"],[1,2067,155,2],[1,2070]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadUser","login","signup","logout","refreshProfile","updateWalletBalance","useAuth"],"mappings":"AAA;+DCkC;YCK;GDE;YCG;GDM;mBEE;GFa;gBGE;GHa;iBIE;GJa;iBKE;GLa;yBME;GNQ;8BOE;GPM;CDkB;uBSE;CTM"},"hasCjsExports":false},"type":"js/module"}]}