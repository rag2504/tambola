{"dependencies":[{"name":"../interfaces","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":43,"index":58}}],"key":"GMKh3a5g5xNaAog15vl07v6pG2U=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,\"default\",{enumerable:!0,get:function(){return s}});var t=r(d[0]);class s{currentTime=0;previousTime=0;previousAngle=0;_rotation=0;_anchorX=0;_anchorY=0;isInProgress=!1;keyPointers=[NaN,NaN];constructor(t){this.onRotationBegin=t.onRotationBegin,this.onRotation=t.onRotation,this.onRotationEnd=t.onRotationEnd}updateCurrent(t,s){this.previousTime=this.currentTime,this.currentTime=t.time;const[n,o]=this.keyPointers,h=s.getLastAbsoluteCoords(n),u=s.getLastAbsoluteCoords(o);if(!h||!u)return;const P=u.x-h.x,c=u.y-h.y;this._anchorX=(h.x+u.x)/2,this._anchorY=(h.y+u.y)/2;const I=-Math.atan2(c,P);this._rotation=Number.isNaN(this.previousAngle)?0:this.previousAngle-I,this.previousAngle=I,this.rotation>Math.PI?this._rotation-=Math.PI:this.rotation<-Math.PI&&(this._rotation+=Math.PI),this.rotation>Math.PI/2?this._rotation-=Math.PI:this.rotation<-Math.PI/2&&(this._rotation+=Math.PI)}finish(){this.isInProgress&&(this.isInProgress=!1,this.keyPointers=[NaN,NaN],this.onRotationEnd(this))}setKeyPointers(t){if(this.keyPointers[0]&&this.keyPointers[1])return;const s=t.trackedPointers.keys();this.keyPointers[0]=s.next().value,this.keyPointers[1]=s.next().value}onTouchEvent(s,n){switch(s.eventType){case t.EventTypes.DOWN:this.isInProgress=!1;break;case t.EventTypes.ADDITIONAL_POINTER_DOWN:if(this.isInProgress)break;this.isInProgress=!0,this.previousTime=s.time,this.previousAngle=NaN,this.setKeyPointers(n),this.updateCurrent(s,n),this.onRotationBegin(this);break;case t.EventTypes.MOVE:if(!this.isInProgress)break;this.updateCurrent(s,n),this.onRotation(this);break;case t.EventTypes.ADDITIONAL_POINTER_UP:if(!this.isInProgress)break;this.keyPointers.indexOf(s.pointerId)>=0&&this.finish();break;case t.EventTypes.UP:this.isInProgress&&this.finish()}return!0}reset(){this.keyPointers=[NaN,NaN],this.isInProgress=!1}get anchorX(){return this._anchorX}get anchorY(){return this._anchorY}get rotation(){return this._rotation}get timeDelta(){return this.currentTime+this.previousTime}}});","lineCount":1,"map":[[1,28,1,0],[1,41,1,13,"Object"],[1,48,1,13,"defineProperty"],[1,63,1,13,"e"],[1,65,1,13],[1,79,1,13,"value"],[1,86,1,13],[1,90,4,15,"Object"],[1,97,4,15,"defineProperty"],[1,112,4,15,"e"],[1,114,4,15],[1,125,4,15,"enumerable"],[1,137,4,15],[1,139,4,15,"get"],[1,143,4,15],[1,161,4,15,"RotationGestureDetector"],[1,162,4,15],[1,166,3,0],[1,170,3,0,"_interfaces"],[1,172,3,0,"r"],[1,174,3,0,"d"],[1,176,3,0],[1,180,4,15],[1,186,4,21,"RotationGestureDetector"],[1,188,5,2,"currentTime"],[1,200,5,16],[1,202,6,2,"previousTime"],[1,215,6,17],[1,217,7,2,"previousAngle"],[1,231,7,18],[1,233,8,2,"_rotation"],[1,243,8,14],[1,245,9,2,"_anchorX"],[1,254,9,13],[1,256,10,2,"_anchorY"],[1,265,10,13],[1,267,11,2,"isInProgress"],[1,281,11,17],[1,283,12,2,"keyPointers"],[1,295,12,16],[1,296,12,17,"NaN"],[1,300,12,22,"NaN"],[1,305,13,2,"constructor"],[1,317,13,14,"callbacks"],[1,320,14,4,"this"],[1,325,14,9,"onRotationBegin"],[1,341,14,27,"callbacks"],[1,343,14,37,"onRotationBegin"],[1,359,15,4,"this"],[1,364,15,9,"onRotation"],[1,375,15,22,"callbacks"],[1,377,15,32,"onRotation"],[1,388,16,4,"this"],[1,393,16,9,"onRotationEnd"],[1,407,16,25,"callbacks"],[1,409,16,35,"onRotationEnd"],[1,422,17,2],[1,423,18,2,"updateCurrent"],[1,437,18,16,"event"],[1,439,18,23,"tracker"],[1,442,19,4,"this"],[1,447,19,9,"previousTime"],[1,460,19,24,"this"],[1,465,19,29,"currentTime"],[1,477,20,4,"this"],[1,482,20,9,"currentTime"],[1,494,20,23,"event"],[1,496,20,29,"time"],[1,501,21,4],[1,507,21,11,"firstPointerID"],[1,509,21,27,"secondPointerID"],[1,512,21,46,"this"],[1,517,21,51,"keyPointers"],[1,529,22,10,"firstPointerCoords"],[1,531,22,31,"tracker"],[1,533,22,39,"getLastAbsoluteCoords"],[1,555,22,61,"firstPointerID"],[1,558,23,10,"secondPointerCoords"],[1,560,23,32,"tracker"],[1,562,23,40,"getLastAbsoluteCoords"],[1,584,23,62,"secondPointerID"],[1,587,24,4],[1,591,24,9,"firstPointerCoords"],[1,595,24,32,"secondPointerCoords"],[1,597,25,6],[1,604,27,4],[1,610,27,10,"vectorX"],[1,612,27,20,"secondPointerCoords"],[1,614,27,40,"x"],[1,616,27,44,"firstPointerCoords"],[1,618,27,63,"x"],[1,620,28,10,"vectorY"],[1,622,28,20,"secondPointerCoords"],[1,624,28,40,"y"],[1,626,28,44,"firstPointerCoords"],[1,628,28,63,"y"],[1,630,29,4,"this"],[1,635,29,9,"_anchorX"],[1,645,29,21,"firstPointerCoords"],[1,647,29,40,"x"],[1,649,29,44,"secondPointerCoords"],[1,651,29,64,"x"],[1,654,29,69],[1,656,30,4,"this"],[1,661,30,9,"_anchorY"],[1,671,30,21,"firstPointerCoords"],[1,673,30,40,"y"],[1,675,30,44,"secondPointerCoords"],[1,677,30,64,"y"],[1,680,30,69],[1,682,33,4],[1,688,33,10,"angle"],[1,691,33,19,"Math"],[1,696,33,24,"atan2"],[1,702,33,30,"vectorY"],[1,704,33,39,"vectorX"],[1,707,34,4,"this"],[1,712,34,9,"_rotation"],[1,722,34,21,"Number"],[1,729,34,28,"isNaN"],[1,735,34,34,"this"],[1,740,34,39,"previousAngle"],[1,755,34,56],[1,757,34,60,"this"],[1,762,34,65,"previousAngle"],[1,776,34,81,"angle"],[1,778,35,4,"this"],[1,783,35,9,"previousAngle"],[1,797,35,25,"angle"],[1,799,36,8,"this"],[1,804,36,13,"rotation"],[1,813,36,24,"Math"],[1,818,36,29,"PI"],[1,821,37,6,"this"],[1,826,37,11,"_rotation"],[1,837,37,24,"Math"],[1,842,37,29,"PI"],[1,845,38,15,"this"],[1,850,38,20,"rotation"],[1,860,38,32,"Math"],[1,865,38,37,"PI"],[1,870,39,6,"this"],[1,875,39,11,"_rotation"],[1,886,39,24,"Math"],[1,891,39,29,"PI"],[1,895,41,8,"this"],[1,900,41,13,"rotation"],[1,909,41,24,"Math"],[1,914,41,29,"PI"],[1,917,41,34],[1,919,42,6,"this"],[1,924,42,11,"_rotation"],[1,935,42,24,"Math"],[1,940,42,29,"PI"],[1,943,43,15,"this"],[1,948,43,20,"rotation"],[1,958,43,32,"Math"],[1,963,43,37,"PI"],[1,966,43,42],[1,970,44,6,"this"],[1,975,44,11,"_rotation"],[1,986,44,24,"Math"],[1,991,44,29,"PI"],[1,994,46,2],[1,995,47,2,"finish"],[1,1004,48,9,"this"],[1,1009,48,14,"isInProgress"],[1,1024,51,4,"this"],[1,1029,51,9,"isInProgress"],[1,1043,51,24],[1,1045,52,4,"this"],[1,1050,52,9,"keyPointers"],[1,1062,52,23],[1,1063,52,24,"NaN"],[1,1067,52,29,"NaN"],[1,1072,53,4,"this"],[1,1077,53,9,"onRotationEnd"],[1,1091,53,23,"this"],[1,1097,54,2],[1,1098,55,2,"setKeyPointers"],[1,1113,55,17,"tracker"],[1,1116,56,4],[1,1119,56,8,"this"],[1,1124,56,13,"keyPointers"],[1,1136,56,25],[1,1140,56,31,"this"],[1,1145,56,36,"keyPointers"],[1,1157,56,48],[1,1160,57,6],[1,1167,59,4],[1,1173,59,10,"pointerIDs"],[1,1175,59,23,"tracker"],[1,1177,59,31,"trackedPointers"],[1,1193,59,47,"keys"],[1,1200,60,4,"this"],[1,1205,60,9,"keyPointers"],[1,1217,60,21],[1,1220,60,26,"pointerIDs"],[1,1222,60,37,"next"],[1,1229,60,44,"value"],[1,1235,61,4,"this"],[1,1240,61,9,"keyPointers"],[1,1252,61,21],[1,1255,61,26,"pointerIDs"],[1,1257,61,37,"next"],[1,1264,61,44,"value"],[1,1269,62,2],[1,1270,63,2,"onTouchEvent"],[1,1283,63,15,"event"],[1,1285,63,22,"tracker"],[1,1288,64,4],[1,1295,64,12,"event"],[1,1297,64,18,"eventType"],[1,1308,65,6],[1,1313,65,11,"EventTypes"],[1,1315,65,21,"EventTypes"],[1,1326,65,22,"DOWN"],[1,1331,66,8,"this"],[1,1336,66,13,"isInProgress"],[1,1350,66,28],[1,1352,67,8],[1,1358,68,6],[1,1363,68,11,"EventTypes"],[1,1365,68,21,"EventTypes"],[1,1376,68,22,"ADDITIONAL_POINTER_DOWN"],[1,1400,69,8],[1,1403,69,12,"this"],[1,1408,69,17,"isInProgress"],[1,1421,70,10],[1,1427,72,8,"this"],[1,1432,72,13,"isInProgress"],[1,1446,72,28],[1,1448,73,8,"this"],[1,1453,73,13,"previousTime"],[1,1466,73,28,"event"],[1,1468,73,34,"time"],[1,1473,74,8,"this"],[1,1478,74,13,"previousAngle"],[1,1492,74,29,"NaN"],[1,1496,75,8,"this"],[1,1501,75,13,"setKeyPointers"],[1,1516,75,28,"tracker"],[1,1519,76,8,"this"],[1,1524,76,13,"updateCurrent"],[1,1538,76,27,"event"],[1,1540,76,34,"tracker"],[1,1543,77,8,"this"],[1,1548,77,13,"onRotationBegin"],[1,1564,77,29,"this"],[1,1570,78,8],[1,1576,79,6],[1,1581,79,11,"EventTypes"],[1,1583,79,21,"EventTypes"],[1,1594,79,22,"MOVE"],[1,1599,80,8],[1,1603,80,13,"this"],[1,1608,80,18,"isInProgress"],[1,1621,81,10],[1,1627,83,8,"this"],[1,1632,83,13,"updateCurrent"],[1,1646,83,27,"event"],[1,1648,83,34,"tracker"],[1,1651,84,8,"this"],[1,1656,84,13,"onRotation"],[1,1667,84,24,"this"],[1,1673,85,8],[1,1679,86,6],[1,1684,86,11,"EventTypes"],[1,1686,86,21,"EventTypes"],[1,1697,86,22,"ADDITIONAL_POINTER_UP"],[1,1719,87,8],[1,1723,87,13,"this"],[1,1728,87,18,"isInProgress"],[1,1741,88,10],[1,1747,90,12,"this"],[1,1752,90,17,"keyPointers"],[1,1764,90,29,"indexOf"],[1,1772,90,37,"event"],[1,1774,90,43,"pointerId"],[1,1786,90,57],[1,1789,91,10,"this"],[1,1794,91,15,"finish"],[1,1803,93,8],[1,1809,94,6],[1,1814,94,11,"EventTypes"],[1,1816,94,21,"EventTypes"],[1,1827,94,22,"UP"],[1,1830,95,12,"this"],[1,1835,95,17,"isInProgress"],[1,1849,96,10,"this"],[1,1854,96,15,"finish"],[1,1863,100,4],[1,1870,100,11],[1,1871,101,2],[1,1872,102,2,"reset"],[1,1880,103,4,"this"],[1,1885,103,9,"keyPointers"],[1,1897,103,23],[1,1898,103,24,"NaN"],[1,1902,103,29,"NaN"],[1,1907,104,4,"this"],[1,1912,104,9,"isInProgress"],[1,1926,104,24],[1,1927,105,2],[1,1928,106,2],[1,1939,106,6,"anchorX"],[1,1942,107,4],[1,1949,107,11,"this"],[1,1954,107,16,"_anchorX"],[1,1962,108,2],[1,1963,109,2],[1,1974,109,6,"anchorY"],[1,1977,110,4],[1,1984,110,11,"this"],[1,1989,110,16,"_anchorY"],[1,1997,111,2],[1,1998,112,2],[1,2010,112,6,"rotation"],[1,2013,113,4],[1,2020,113,11,"this"],[1,2025,113,16,"_rotation"],[1,2034,114,2],[1,2035,115,2],[1,2048,115,6,"timeDelta"],[1,2051,116,4],[1,2058,116,11,"this"],[1,2063,116,16,"currentTime"],[1,2075,116,30,"this"],[1,2080,116,35,"previousTime"],[1,2092,117,2],[1,2094,118,1],[1,2097]],"functionMap":{"names":["<global>","RotationGestureDetector","constructor","updateCurrent","finish","setKeyPointers","onTouchEvent","reset","get__anchorX","get__anchorY","get__rotation","get__timeDelta"],"mappings":"AAA;eCG;ECS;GDI;EEC;GF4B;EGC;GHO;EIC;GJO;EKC;GLsC;EMC;GNG;EOC;GPE;EQC;GRE;ESC;GTE;EUC;GVE;CDC"},"hasCjsExports":false},"type":"js/module"}]}