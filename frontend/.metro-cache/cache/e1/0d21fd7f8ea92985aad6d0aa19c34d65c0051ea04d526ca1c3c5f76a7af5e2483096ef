{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":102,"index":102}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":104},"end":{"line":2,"column":69,"index":173}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"GameStateProvider\",{enumerable:!0,get:function(){return i}}),Object.defineProperty(_e,\"useGameState\",{enumerable:!0,get:function(){return c}});var e,t=r(d[0]),n=r(d[1]),l=(e=n)&&e.__esModule?e:{default:e},s=r(d[2]);const o=(0,t.createContext)(void 0),i=({children:e})=>{const[n,i]=(0,t.useState)({currentNumber:null,calledNumbers:[],isAutoCalling:!1,gameId:null});(0,t.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=await l.default.getItem('game_state');if(e){const t=JSON.parse(e);i(t)}}catch(e){console.error('Error loading game state:',e)}},u=async e=>{try{await l.default.setItem('game_state',JSON.stringify(e)),i(e)}catch(e){console.error('Error saving game state:',e)}},f=(0,t.useCallback)(async()=>{const e=n.calledNumbers,t=Array.from({length:90},(e,t)=>t+1).filter(t=>!e.includes(t));if(0===t.length)return;const s=await l.default.getItem('admin_selected_ticket');let o;if(s){const n=await l.default.getItem('generated_tickets');if(n){const l=JSON.parse(n).find(e=>e.id===s);if(l){const n=l.numbers.filter(t=>!e.includes(t)),s=t.filter(e=>!n.includes(e));if(n.length>0){o=Math.random()<.8||0===s.length?n[Math.floor(Math.random()*n.length)]:s[Math.floor(Math.random()*s.length)]}else o=t[Math.floor(Math.random()*t.length)]}else o=t[Math.floor(Math.random()*t.length)]}else o=t[Math.floor(Math.random()*t.length)]}else o=t[Math.floor(Math.random()*t.length)];const i=[...e,o],c=Object.assign({},n,{currentNumber:o,calledNumbers:i});await u(c)},[n]),h=(0,t.useCallback)(async e=>{const t=Object.assign({},n,{isAutoCalling:e});await u(t)},[n]),b=(0,t.useCallback)(async()=>{await u({currentNumber:null,calledNumbers:[],isAutoCalling:!1,gameId:null})},[]),M=(0,t.useCallback)(async e=>{const t=Object.assign({},n,{gameId:e});await u(t)},[n]);return(0,s.jsx)(o.Provider,{value:{gameState:n,callNumber:f,setAutoCalling:h,resetGame:b,initializeGame:M},children:e})},c=()=>{const e=(0,t.useContext)(o);if(!e)throw new Error('useGameState must be used within GameStateProvider');return e}});","lineCount":1,"map":[[1,93,21,0,"Object"],[1,100,21,0,"defineProperty"],[1,115,21,0,"_e"],[1,118,21,0],[1,139,21,0,"enumerable"],[1,151,21,0],[1,153,21,0,"get"],[1,157,21,0],[1,175,21,0,"GameStateProvider"],[1,176,21,0],[1,180,158,0,"Object"],[1,187,158,0,"defineProperty"],[1,202,158,0,"_e"],[1,205,158,0],[1,221,158,0,"enumerable"],[1,233,158,0],[1,235,158,0,"get"],[1,239,158,0],[1,257,158,0,"useGameState"],[1,258,158,0],[1,262,1,0],[1,266],[1,268,1,0,"_react"],[1,270,1,0,"r"],[1,272,1,0,"d"],[1,274,1,0],[1,278,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,280,2,0,"r"],[1,282,2,0,"d"],[1,284,2,0],[1,288,2,0,"AsyncStorage"],[1,291],[1,293,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,297],[1,324,2,69,"_reactJsxRuntime"],[1,326,2,69,"r"],[1,328,2,69,"d"],[1,330,2,69],[1,334,19,0],[1,340,19,6,"GameStateContext"],[1,343,19,25],[1,345,19,25,"createContext"],[1,347,19,38,"createContext"],[1,367,19,73,"undefined"],[1,370,21,13,"GameStateProvider"],[1,372,21,68,"GameStateProvider"],[1,374,21,71,"children"],[1,389,22,2],[1,395,22,9,"gameState"],[1,397,22,20,"setGameState"],[1,401,22,36],[1,403,22,36,"useState"],[1,405,22,44,"useState"],[1,415,22,56],[1,416,23,4,"currentNumber"],[1,430,23,19],[1,435,24,4,"calledNumbers"],[1,449,24,19],[1,452,25,4,"isAutoCalling"],[1,467,25,19],[1,469,26,4,"gameId"],[1,476,26,12],[1,484,30,2],[1,486,30,2,"useEffect"],[1,488,30,11,"useEffect"],[1,499,30,12],[1,504,31,4,"loadGameState"],[1,509,32,5],[1,513,34,2],[1,519,34,8,"loadGameState"],[1,521,34,24,"async"],[1,531,35,4],[1,535,36,6],[1,541,36,12,"savedState"],[1,549,36,31,"AsyncStorage"],[1,551,36,43,"default"],[1,559,36,44,"getItem"],[1,567,36,52],[1,581,37,6],[1,584,37,10,"savedState"],[1,586,37,22],[1,587,38,8],[1,593,38,14,"parsed"],[1,595,38,23,"JSON"],[1,600,38,28,"parse"],[1,606,38,34,"savedState"],[1,609,39,8,"setGameState"],[1,611,39,21,"parsed"],[1,613,40,6],[1,614,41,4],[1,615,41,6],[1,621,41,13,"error"],[1,624,42,6,"console"],[1,632,42,14,"error"],[1,638,42,20],[1,666,42,49,"error"],[1,668,43,4],[1,671,46,8,"saveGameState"],[1,673,46,24,"async"],[1,683,47,4],[1,693,48,12,"AsyncStorage"],[1,695,48,24,"default"],[1,703,48,25,"setItem"],[1,711,48,33],[1,724,48,47,"JSON"],[1,729,48,52,"stringify"],[1,739,48,62,"newState"],[1,743,49,6,"setGameState"],[1,745,49,19,"newState"],[1,747,50,4],[1,748,50,6],[1,754,50,13,"error"],[1,757,51,6,"console"],[1,765,51,14,"error"],[1,771,51,20],[1,798,51,48,"error"],[1,800,52,4],[1,803,55,8,"callNumber"],[1,806,55,21],[1,808,55,21,"useCallback"],[1,810,55,32,"useCallback"],[1,823,55,33,"async"],[1,833,56,4],[1,839,56,10,"currentCalled"],[1,841,56,26,"gameState"],[1,843,56,36,"calledNumbers"],[1,857,57,10,"availableNumbers"],[1,859,57,29,"Array"],[1,865,57,35,"from"],[1,870,57,40],[1,871,57,42,"length"],[1,878,57,50],[1,882,57,56],[1,883,57,57,"_"],[1,885,57,60,"i"],[1,889,57,66,"i"],[1,891,57,70],[1,894,57,73,"filter"],[1,901,58,7,"n"],[1,905,58,14,"currentCalled"],[1,907,58,28,"includes"],[1,916,58,37,"n"],[1,920,61,4],[1,923,61,36],[1,927,61,8,"availableNumbers"],[1,929,61,25,"length"],[1,936,62,6],[1,943,66,4],[1,949,66,10,"preferredTicketId"],[1,957,66,36,"AsyncStorage"],[1,959,66,48,"default"],[1,967,66,49,"getItem"],[1,975,66,57],[1,1000,67,4],[1,1004,67,8,"nextNumber"],[1,1006,69,4],[1,1009,69,8,"preferredTicketId"],[1,1011,69,27],[1,1012,70,6],[1,1018,70,12,"ticketsData"],[1,1026,70,32,"AsyncStorage"],[1,1028,70,44,"default"],[1,1036,70,45,"getItem"],[1,1044,70,53],[1,1065,71,6],[1,1068,71,10,"ticketsData"],[1,1070,71,23],[1,1071,72,8],[1,1077,73,14,"preferredTicket"],[1,1079,72,24,"JSON"],[1,1084,72,29,"parse"],[1,1090,72,35,"ticketsData"],[1,1093,73,40,"find"],[1,1098,73,46,"t"],[1,1101,73,57,"t"],[1,1103,73,59,"id"],[1,1108,73,66,"preferredTicketId"],[1,1111,75,8],[1,1114,75,12,"preferredTicket"],[1,1116,75,29],[1,1117,76,10],[1,1123,76,16,"preferredNumbers"],[1,1125,76,45,"preferredTicket"],[1,1127,76,61,"numbers"],[1,1135,76,69,"filter"],[1,1142,77,13,"n"],[1,1146,77,28,"currentCalled"],[1,1148,77,42,"includes"],[1,1157,77,51,"n"],[1,1161,79,16,"otherNumbers"],[1,1163,79,41,"availableNumbers"],[1,1165,79,58,"filter"],[1,1172,80,13,"n"],[1,1176,80,28,"preferredNumbers"],[1,1178,80,45,"includes"],[1,1187,80,54,"n"],[1,1191,83,10],[1,1194,83,14,"preferredNumbers"],[1,1196,83,31,"length"],[1,1203,83,40],[1,1205,83,43],[1,1206,88,14,"nextNumber"],[1,1208,86,33,"Math"],[1,1213,86,38,"random"],[1,1222,86,49],[1,1226,86,80],[1,1230,86,56,"otherNumbers"],[1,1232,86,69,"length"],[1,1239,88,27,"preferredNumbers"],[1,1241,88,44,"Math"],[1,1246,88,49,"floor"],[1,1252,88,55,"Math"],[1,1257,88,60,"random"],[1,1266,88,71,"preferredNumbers"],[1,1268,88,88,"length"],[1,1277,90,27,"otherNumbers"],[1,1279,90,40,"Math"],[1,1284,90,45,"floor"],[1,1290,90,51,"Math"],[1,1295,90,56,"random"],[1,1304,90,67,"otherNumbers"],[1,1306,90,80,"length"],[1,1314,92,10],[1,1320,94,12,"nextNumber"],[1,1322,94,25,"availableNumbers"],[1,1324,94,42,"Math"],[1,1329,94,47,"floor"],[1,1335,94,53,"Math"],[1,1340,94,58,"random"],[1,1349,94,69,"availableNumbers"],[1,1351,94,86,"length"],[1,1359,96,8],[1,1365,97,10,"nextNumber"],[1,1367,97,23,"availableNumbers"],[1,1369,97,40,"Math"],[1,1374,97,45,"floor"],[1,1380,97,51,"Math"],[1,1385,97,56,"random"],[1,1394,97,67,"availableNumbers"],[1,1396,97,84,"length"],[1,1404,99,6],[1,1410,100,8,"nextNumber"],[1,1412,100,21,"availableNumbers"],[1,1414,100,38,"Math"],[1,1419,100,43,"floor"],[1,1425,100,49,"Math"],[1,1430,100,54,"random"],[1,1439,100,65,"availableNumbers"],[1,1441,100,82,"length"],[1,1449,102,4],[1,1455,104,6,"nextNumber"],[1,1457,104,19,"availableNumbers"],[1,1459,104,36,"Math"],[1,1464,104,41,"floor"],[1,1470,104,47,"Math"],[1,1475,104,52,"random"],[1,1484,104,63,"availableNumbers"],[1,1486,104,80,"length"],[1,1495,107,4],[1,1501,107,10,"newCalledNumbers"],[1,1503,107,29],[1,1507,107,33,"currentCalled"],[1,1509,107,48,"nextNumber"],[1,1512,108,10,"newState"],[1,1514,108,29,"Object"],[1,1521,108,29,"assign"],[1,1528,108,29],[1,1531,109,9,"gameState"],[1,1533,109,18],[1,1534,110,6,"currentNumber"],[1,1548,110,21,"nextNumber"],[1,1550,111,6,"calledNumbers"],[1,1564,111,21,"newCalledNumbers"],[1,1574,114,10,"saveGameState"],[1,1576,114,24,"newState"],[1,1580,115,5],[1,1581,115,6,"gameState"],[1,1585,117,8,"setAutoCalling"],[1,1588,117,25],[1,1590,117,25,"useCallback"],[1,1592,117,36,"useCallback"],[1,1605,117,37,"async"],[1,1615,118,4],[1,1621,118,10,"newState"],[1,1623,118,29,"Object"],[1,1630,118,29,"assign"],[1,1637,118,29],[1,1640,119,9,"gameState"],[1,1642,119,18],[1,1643,120,6,"isAutoCalling"],[1,1657,120,21,"isAuto"],[1,1667,122,10,"saveGameState"],[1,1669,122,24,"newState"],[1,1673,123,5],[1,1674,123,6,"gameState"],[1,1678,125,8,"resetGame"],[1,1681,125,20],[1,1683,125,20,"useCallback"],[1,1685,125,31,"useCallback"],[1,1698,125,32,"async"],[1,1714,132,10,"saveGameState"],[1,1716,126,32],[1,1717,127,6,"currentNumber"],[1,1731,127,21],[1,1736,128,6,"calledNumbers"],[1,1750,128,21],[1,1753,129,6,"isAutoCalling"],[1,1768,129,21],[1,1770,130,6,"gameId"],[1,1777,130,14],[1,1785,133,5],[1,1789,135,8,"initializeGame"],[1,1792,135,25],[1,1794,135,25,"useCallback"],[1,1796,135,36,"useCallback"],[1,1809,135,37,"async"],[1,1819,136,4],[1,1825,136,10,"newState"],[1,1827,136,29,"Object"],[1,1834,136,29,"assign"],[1,1841,136,29],[1,1844,137,9,"gameState"],[1,1846,137,18],[1,1847,138,6,"gameId"],[1,1864,140,10,"saveGameState"],[1,1866,140,24,"newState"],[1,1870,141,5],[1,1871,141,6,"gameState"],[1,1875,143,2],[1,1882,144,4],[1,1884,144,4,"_reactJsxRuntime"],[1,1886,144,4,"jsx"],[1,1891,144,5,"GameStateContext"],[1,1893,144,22,"Provider"],[1,1902,144,30],[1,1903,145,6,"value"],[1,1909,145,13],[1,1910,146,8,"gameState"],[1,1922,147,8,"callNumber"],[1,1935,148,8,"setAutoCalling"],[1,1952,149,8,"resetGame"],[1,1964,150,8,"initializeGame"],[1,1982,151,8,"children"],[1,1991,153,7,"children"],[1,1996,158,13,"useGameState"],[1,1998,158,28,"useGameState"],[1,2003,159,2],[1,2009,159,8,"context"],[1,2012,159,18],[1,2014,159,18,"useContext"],[1,2016,159,28,"useContext"],[1,2028,159,29,"GameStateContext"],[1,2031,160,2],[1,2035,160,7,"context"],[1,2037,161,4],[1,2043,161,10],[1,2047,161,14,"Error"],[1,2053,161,20],[1,2107,163,2],[1,2114,163,9,"context"],[1,2116,164,2],[1,2119]],"functionMap":{"names":["<global>","GameStateProvider","useEffect$argument_0","loadGameState","saveGameState","callNumber","Array.from$argument_1","Array.from.filter$argument_0","tickets.find$argument_0","preferredTicket.numbers.filter$argument_0","availableNumbers.filter$argument_0","setAutoCalling","resetGame","initializeGame","useGameState"],"mappings":"AAA;oECoB;YCS;GDE;wBEE;GFU;wBGE;GHO;iCIE;wDCE,eD;MEC,iCF;6CGe,sCH;YII,yCJ;YKG,4CL;GJmC;qCUE;GVM;gCWE;GXQ;qCYE;GZM;CDe;4BcE;CdM"},"hasCjsExports":false},"type":"js/module"}]}