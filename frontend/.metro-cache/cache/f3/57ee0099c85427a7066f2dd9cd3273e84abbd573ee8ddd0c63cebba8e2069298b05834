{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"HFkXuFcBAqfzGtqyPj8g62MKT0M=","exportNames":["*"],"imports":1}},{"name":"../../State","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":36,"index":51}}],"key":"WEWPBXLBFeeryzJLF/iqxrLBTrA=","exportNames":["*"],"imports":1}},{"name":"../../Directions","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":52},"end":{"line":4,"column":66,"index":118}}],"key":"05BxNcpXaYAeyUvpG1n5gignxMc=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":119},"end":{"line":5,"column":46,"index":165}}],"key":"0oKNSZn0AMFFw0m17+cJMO/YqLM=","exportNames":["*"],"imports":1}},{"name":"../tools/Vector","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":166},"end":{"line":6,"column":37,"index":203}}],"key":"4h752T1Mc+t0TArQHF8ZPfbqdCc=","exportNames":["*"],"imports":1}},{"name":"../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":204},"end":{"line":7,"column":43,"index":247}}],"key":"mL7nJyZhzUYx+zMcIt1cBzVuRps=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";const t=[\"enabled\"];function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return p}});var n=e(r(d[0])),o=r(d[1]),s=r(d[2]),u=e(r(d[3])),c=e(r(d[4])),h=r(d[5]);const l=s.Directions.RIGHT,f=(0,h.coneToDeviation)(30),P=(0,h.coneToDeviation)(60);class p extends u.default{numberOfPointersRequired=1;direction=l;maxDurationMs=800;minVelocity=700;maxNumberOfPointersSimultaneously=0;keyPointer=NaN;updateGestureConfig(e){let{enabled:o=!0}=e,s=(0,n.default)(e,t);super.updateGestureConfig(Object.assign({enabled:o},s)),this.config.direction&&(this.direction=this.config.direction),this.config.numberOfPointers&&(this.numberOfPointersRequired=this.config.numberOfPointers)}startFling(){this.begin(),this.maxNumberOfPointersSimultaneously=1,this.delayTimeout=setTimeout(()=>this.fail(),this.maxDurationMs)}tryEndFling(){const t=c.default.fromVelocity(this.tracker,this.keyPointer);if(!t)return!1;const e=(e,n)=>(e&this.direction)===e&&t.isSimilar(c.default.fromDirection(e),n),n=Object.values(s.Directions),o=Object.values(s.DiagonalDirections),u=n.map(t=>e(t,f)),h=o.map(t=>e(t,P)),l=u.some(Boolean)||h.some(Boolean),p=t.magnitude>this.minVelocity;return!(this.maxNumberOfPointersSimultaneously!==this.numberOfPointersRequired||!l||!p)&&(clearTimeout(this.delayTimeout),this.activate(),!0)}endFling(){this.tryEndFling()||this.fail()}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),this.keyPointer=t.pointerId,super.onPointerDown(t),this.newPointerAction(),this.tryToSendTouchEvent(t))}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.newPointerAction()}newPointerAction(){this.state===o.State.UNDETERMINED&&this.startFling(),this.state===o.State.BEGAN&&(this.tryEndFling(),this.tracker.trackedPointersCount>this.maxNumberOfPointersSimultaneously&&(this.maxNumberOfPointersSimultaneously=this.tracker.trackedPointersCount))}pointerMoveAction(t){this.tracker.track(t),this.state===o.State.BEGAN&&this.tryEndFling()}onPointerMove(t){this.pointerMoveAction(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.pointerMoveAction(t),super.onPointerOutOfBounds(t)}onPointerUp(t){super.onPointerUp(t),this.onUp(t),this.keyPointer=NaN}onPointerRemove(t){super.onPointerRemove(t),this.onUp(t)}onUp(t){this.state===o.State.BEGAN&&this.endFling(),this.tracker.removeFromTracker(t.pointerId)}activate(t){super.activate(t),this.end()}resetConfig(){super.resetConfig(),this.numberOfPointersRequired=1,this.direction=l}}});","lineCount":1,"map":[[1,29,1,0],[1,42,1,13],[1,48,1,13,"_excluded"],[1,50,1,13],[1,71,1,13,"_interopDefault"],[1,73,1,13,"e"],[1,76,1,13],[1,83,1,13,"e"],[1,88,1,13,"__esModule"],[1,99,1,13,"e"],[1,101,1,13],[1,102,1,13,"default"],[1,110,1,13,"e"],[1,112,1,13],[1,113,1,13,"Object"],[1,120,1,13,"defineProperty"],[1,135,1,13,"_e"],[1,138,1,13],[1,152,1,13,"value"],[1,159,1,13],[1,163,15,15,"Object"],[1,170,15,15,"defineProperty"],[1,185,15,15,"_e"],[1,188,15,15],[1,199,15,15,"enumerable"],[1,211,15,15],[1,213,15,15,"get"],[1,217,15,15],[1,235,15,15,"FlingGestureHandler"],[1,236,15,15],[1,240,136,1],[1,244,136,1,"_objectWithoutPropertiesLoose"],[1,246,136,1,"_interopDefault"],[1,248,136,1,"r"],[1,250,136,1,"d"],[1,252,136,1],[1,257,3,0,"_State"],[1,259,3,0,"r"],[1,261,3,0,"d"],[1,263,3,0],[1,267,4,0,"_Directions"],[1,269,4,0,"r"],[1,271,4,0,"d"],[1,273,4,0],[1,277,5,0,"GestureHandler"],[1,279,5,0,"_interopDefault"],[1,281,5,0,"r"],[1,283,5,0,"d"],[1,285,5,0],[1,290,6,0,"Vector"],[1,292,6,0,"_interopDefault"],[1,294,6,0,"r"],[1,296,6,0,"d"],[1,298,6,0],[1,303,7,0,"_utils"],[1,305,7,0,"r"],[1,307,7,0,"d"],[1,309,7,0],[1,313,8,0],[1,319,11,6,"DEFAULT_DIRECTION"],[1,321,11,26,"Directions"],[1,323,11,36,"Directions"],[1,334,11,37,"RIGHT"],[1,340,13,6,"AXIAL_DEVIATION_COSINE"],[1,343,13,31],[1,345,13,31,"coneToDeviation"],[1,347,13,46,"coneToDeviation"],[1,364,10,31],[1,368,14,6,"DIAGONAL_DEVIATION_COSINE"],[1,371,14,34],[1,373,14,34,"coneToDeviation"],[1,375,14,49,"coneToDeviation"],[1,392,14,49],[1,396,15,15],[1,402,15,21,"FlingGestureHandler"],[1,412,15,49,"GestureHandler"],[1,414,15,63,"default"],[1,422,16,2,"numberOfPointersRequired"],[1,447,12,43],[1,449,17,2,"direction"],[1,459,17,14,"DEFAULT_DIRECTION"],[1,461,18,2,"maxDurationMs"],[1,475,8,32],[1,479,19,2,"minVelocity"],[1,491,9,29],[1,495,20,2,"maxNumberOfPointersSimultaneously"],[1,529,20,38],[1,531,21,2,"keyPointer"],[1,542,21,15,"NaN"],[1,546,22,2,"updateGestureConfig"],[1,566,22,21,"_ref"],[1,569,25,5],[1,573,22,22,"enabled"],[1,581,23,4,"enabled"],[1,584,23,14],[1,587,25,3,"_ref"],[1,589,24,7,"props"],[1,592,24,12],[1,594,24,12,"_objectWithoutPropertiesLoose"],[1,596,24,12,"default"],[1,605,24,12,"_ref"],[1,607,24,12,"_excluded"],[1,610,26,4,"super"],[1,616,26,10,"updateGestureConfig"],[1,636,26,29,"Object"],[1,643,26,29,"assign"],[1,650,26,29],[1,651,27,6,"enabled"],[1,659,27,15,"enabled"],[1,662,28,9,"props"],[1,666,30,8,"this"],[1,671,30,13,"config"],[1,678,30,20,"direction"],[1,690,31,6,"this"],[1,695,31,11,"direction"],[1,705,31,23,"this"],[1,710,31,28,"config"],[1,717,31,35,"direction"],[1,728,33,8,"this"],[1,733,33,13,"config"],[1,740,33,20,"numberOfPointers"],[1,759,34,6,"this"],[1,764,34,11,"numberOfPointersRequired"],[1,789,34,38,"this"],[1,794,34,43,"config"],[1,801,34,50,"numberOfPointers"],[1,818,36,2],[1,819,37,2,"startFling"],[1,832,38,4,"this"],[1,837,38,9,"begin"],[1,845,39,4,"this"],[1,850,39,9,"maxNumberOfPointersSimultaneously"],[1,884,39,45],[1,886,40,4,"this"],[1,891,40,9,"delayTimeout"],[1,904,40,24,"setTimeout"],[1,915,40,35],[1,919,40,41,"this"],[1,924,40,46,"fail"],[1,931,40,54,"this"],[1,936,40,59,"maxDurationMs"],[1,950,41,2],[1,951,42,2,"tryEndFling"],[1,965,43,4],[1,971,43,10,"velocityVector"],[1,973,43,27,"Vector"],[1,975,43,33,"default"],[1,983,43,34,"fromVelocity"],[1,996,43,47,"this"],[1,1001,43,52,"tracker"],[1,1009,43,61,"this"],[1,1014,43,66,"keyPointer"],[1,1026,44,4],[1,1030,44,9,"velocityVector"],[1,1032,45,6],[1,1039,45,13],[1,1041,47,4],[1,1047,47,10,"getAlignment"],[1,1049,47,25,"getAlignment"],[1,1050,47,26,"direction"],[1,1052,47,37,"minimalAlignmentCosine"],[1,1057,48,14,"direction"],[1,1059,48,26,"this"],[1,1064,48,31,"direction"],[1,1077,48,46,"direction"],[1,1080,48,59,"velocityVector"],[1,1082,48,74,"isSimilar"],[1,1092,48,84,"Vector"],[1,1094,48,90,"default"],[1,1102,48,91,"fromDirection"],[1,1116,48,105,"direction"],[1,1119,48,117,"minimalAlignmentCosine"],[1,1122,50,10,"axialDirectionsList"],[1,1124,50,32,"Object"],[1,1131,50,39,"values"],[1,1138,50,46,"Directions"],[1,1140,50,56,"Directions"],[1,1152,51,10,"diagonalDirectionsList"],[1,1154,51,35,"Object"],[1,1161,51,42,"values"],[1,1168,51,49,"DiagonalDirections"],[1,1170,51,67,"DiagonalDirections"],[1,1190,54,10,"axialAlignmentList"],[1,1192,54,31,"axialDirectionsList"],[1,1194,54,51,"map"],[1,1198,54,55,"direction"],[1,1201,54,68,"getAlignment"],[1,1203,54,81,"direction"],[1,1205,54,92,"AXIAL_DEVIATION_COSINE"],[1,1209,55,10,"diagonalAlignmentList"],[1,1211,55,34,"diagonalDirectionsList"],[1,1213,55,57,"map"],[1,1217,55,61,"direction"],[1,1220,55,74,"getAlignment"],[1,1222,55,87,"direction"],[1,1224,55,98,"DIAGONAL_DEVIATION_COSINE"],[1,1228,56,10,"isAligned"],[1,1230,56,22,"axialAlignmentList"],[1,1232,56,41,"some"],[1,1237,56,46,"Boolean"],[1,1247,56,58,"diagonalAlignmentList"],[1,1249,56,80,"some"],[1,1254,56,85,"Boolean"],[1,1263,57,10,"isFast"],[1,1265,57,19,"velocityVector"],[1,1267,57,34,"magnitude"],[1,1277,57,46,"this"],[1,1282,57,51,"minVelocity"],[1,1294,58,4],[1,1302,58,8,"this"],[1,1307,58,13,"maxNumberOfPointersSimultaneously"],[1,1343,58,51,"this"],[1,1348,58,56,"numberOfPointersRequired"],[1,1375,58,84,"isAligned"],[1,1379,58,97,"isFast"],[1,1384,59,6,"clearTimeout"],[1,1397,59,19,"this"],[1,1402,59,24,"delayTimeout"],[1,1416,60,6,"this"],[1,1421,60,11,"activate"],[1,1433,61,13],[1,1435,64,2],[1,1436,65,2,"endFling"],[1,1447,66,9,"this"],[1,1452,66,14,"tryEndFling"],[1,1467,67,6,"this"],[1,1472,67,11,"fail"],[1,1478,69,2],[1,1479,70,2,"onPointerDown"],[1,1493,70,16,"event"],[1,1496,71,9,"this"],[1,1501,71,14,"isButtonInConfig"],[1,1518,71,31,"event"],[1,1520,71,37,"button"],[1,1530,74,4,"this"],[1,1535,74,9,"tracker"],[1,1543,74,17,"addToTracker"],[1,1556,74,30,"event"],[1,1559,75,4,"this"],[1,1564,75,9,"keyPointer"],[1,1575,75,22,"event"],[1,1577,75,28,"pointerId"],[1,1587,76,4,"super"],[1,1593,76,10,"onPointerDown"],[1,1607,76,24,"event"],[1,1610,77,4,"this"],[1,1615,77,9,"newPointerAction"],[1,1634,78,4,"this"],[1,1639,78,9,"tryToSendTouchEvent"],[1,1659,78,29,"event"],[1,1662,79,2],[1,1663,80,2,"onPointerAdd"],[1,1676,80,15,"event"],[1,1679,81,4,"this"],[1,1684,81,9,"tracker"],[1,1692,81,17,"addToTracker"],[1,1705,81,30,"event"],[1,1708,82,4,"super"],[1,1714,82,10,"onPointerAdd"],[1,1727,82,23,"event"],[1,1730,83,4,"this"],[1,1735,83,9,"newPointerAction"],[1,1753,84,2],[1,1754,85,2,"newPointerAction"],[1,1773,86,8,"this"],[1,1778,86,13,"state"],[1,1786,86,23,"State"],[1,1788,86,28,"State"],[1,1794,86,29,"UNDETERMINED"],[1,1808,87,6,"this"],[1,1813,87,11,"startFling"],[1,1826,89,8,"this"],[1,1831,89,13,"state"],[1,1839,89,23,"State"],[1,1841,89,28,"State"],[1,1847,89,29,"BEGAN"],[1,1855,92,4,"this"],[1,1860,92,9,"tryEndFling"],[1,1874,93,8,"this"],[1,1879,93,13,"tracker"],[1,1887,93,21,"trackedPointersCount"],[1,1908,93,44,"this"],[1,1913,93,49,"maxNumberOfPointersSimultaneously"],[1,1949,94,6,"this"],[1,1954,94,11,"maxNumberOfPointersSimultaneously"],[1,1988,94,47,"this"],[1,1993,94,52,"tracker"],[1,2001,94,60,"trackedPointersCount"],[1,2023,96,2],[1,2024,97,2,"pointerMoveAction"],[1,2042,97,20,"event"],[1,2045,98,4,"this"],[1,2050,98,9,"tracker"],[1,2058,98,17,"track"],[1,2064,98,23,"event"],[1,2067,99,8,"this"],[1,2072,99,13,"state"],[1,2080,99,23,"State"],[1,2082,99,28,"State"],[1,2088,99,29,"BEGAN"],[1,2095,102,4,"this"],[1,2100,102,9,"tryEndFling"],[1,2113,103,2],[1,2114,104,2,"onPointerMove"],[1,2128,104,16,"event"],[1,2131,105,4,"this"],[1,2136,105,9,"pointerMoveAction"],[1,2154,105,27,"event"],[1,2157,106,4,"super"],[1,2163,106,10,"onPointerMove"],[1,2177,106,24,"event"],[1,2179,107,2],[1,2180,108,2,"onPointerOutOfBounds"],[1,2201,108,23,"event"],[1,2204,109,4,"this"],[1,2209,109,9,"pointerMoveAction"],[1,2227,109,27,"event"],[1,2230,110,4,"super"],[1,2236,110,10,"onPointerOutOfBounds"],[1,2257,110,31,"event"],[1,2259,111,2],[1,2260,112,2,"onPointerUp"],[1,2272,112,14,"event"],[1,2275,113,4,"super"],[1,2281,113,10,"onPointerUp"],[1,2293,113,22,"event"],[1,2296,114,4,"this"],[1,2301,114,9,"onUp"],[1,2306,114,14,"event"],[1,2309,115,4,"this"],[1,2314,115,9,"keyPointer"],[1,2325,115,22,"NaN"],[1,2328,116,2],[1,2329,117,2,"onPointerRemove"],[1,2345,117,18,"event"],[1,2348,118,4,"super"],[1,2354,118,10,"onPointerRemove"],[1,2370,118,26,"event"],[1,2373,119,4,"this"],[1,2378,119,9,"onUp"],[1,2383,119,14,"event"],[1,2385,120,2],[1,2386,121,2,"onUp"],[1,2391,121,7,"event"],[1,2394,122,8,"this"],[1,2399,122,13,"state"],[1,2407,122,23,"State"],[1,2409,122,28,"State"],[1,2415,122,29,"BEGAN"],[1,2422,123,6,"this"],[1,2427,123,11,"endFling"],[1,2438,125,4,"this"],[1,2443,125,9,"tracker"],[1,2451,125,17,"removeFromTracker"],[1,2469,125,35,"event"],[1,2471,125,41,"pointerId"],[1,2481,126,2],[1,2482,127,2,"activate"],[1,2491,127,11,"force"],[1,2494,128,4,"super"],[1,2500,128,10,"activate"],[1,2509,128,19,"force"],[1,2512,129,4,"this"],[1,2517,129,9,"end"],[1,2522,130,2],[1,2523,131,2,"resetConfig"],[1,2537,132,4,"super"],[1,2543,132,10,"resetConfig"],[1,2557,133,4,"this"],[1,2562,133,9,"numberOfPointersRequired"],[1,2587,12,43],[1,2589,134,4,"this"],[1,2594,134,9,"direction"],[1,2604,134,21,"DEFAULT_DIRECTION"],[1,2605,135,2],[1,2607,136,1],[1,2610]],"functionMap":{"names":["<global>","FlingGestureHandler","updateGestureConfig","startFling","setTimeout$argument_0","tryEndFling","getAlignment","axialDirectionsList.map$argument_0","diagonalDirectionsList.map$argument_0","endFling","onPointerDown","onPointerAdd","newPointerAction","pointerMoveAction","onPointerMove","onPointerOutOfBounds","onPointerUp","onPointerRemove","onUp","activate","resetConfig"],"mappings":"AAA;eCc;ECO;GDc;EEC;mCCG,iBD;GFC;EIC;yBCK;KDE;uDEK,4DF;6DGC,+DH;GJS;EQC;GRI;ESC;GTS;EUC;GVI;EWC;GXW;EYC;GZM;EaC;GbG;EcC;GdG;EeC;GfI;EgBC;GhBG;EiBC;GjBK;EkBC;GlBG;EmBC;GnBI;CDC"},"hasCjsExports":false},"type":"js/module"}]}