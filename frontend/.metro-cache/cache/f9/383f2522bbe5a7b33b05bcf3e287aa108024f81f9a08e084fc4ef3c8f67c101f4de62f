{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"HFkXuFcBAqfzGtqyPj8g62MKT0M=","exportNames":["*"],"imports":1}},{"name":"../../../common","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":49,"index":64}}],"key":"AI/OUAil3Z67B7bUiML5DX0dlDY=","exportNames":["*"],"imports":1}},{"name":"../../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":65},"end":{"line":4,"column":94,"index":159}}],"key":"ByXat9lt9duIJLDmSeH0V+tRq1s=","exportNames":["*"],"imports":1}},{"name":"../animationParser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":160},"end":{"line":5,"column":64,"index":224}}],"key":"NS2upIa4aHN1XdKmQKcusYkE9o0=","exportNames":["*"],"imports":1}},{"name":"../domUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":225},"end":{"line":6,"column":96,"index":321}}],"key":"A8YcxzRDiHIujPKtuiY+Inkf/08=","exportNames":["*"],"imports":1}},{"name":"../keyframes","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":322},"end":{"line":7,"column":52,"index":374}}],"key":"mxvMhs55oq9jgpEsSFkkE4J0Ers=","exportNames":["*"],"imports":1}},{"name":"../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":375},"end":{"line":8,"column":65,"index":440}}],"key":"mL7nJyZhzUYx+zMcIt1cBzVuRps=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,_e,d){'use strict';const e=[\"animationName\"];Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return y}});var t,n=r(d[0]),i=(t=n)&&t.__esModule?t:{default:t},o=r(d[1]),s=r(d[2]),l=r(d[3]),u=r(d[4]),c=r(d[5]),h=r(d[6]);class y{attachedAnimations={};unmountCleanupCalled=!1;constructor(e){(0,u.configureWebCSSAnimations)(),this.element=e}update(t){if(!t)return void this.detach();const n=(0,s.convertPropertiesToArrays)(t),{animationName:o}=n,u=(0,i.default)(n,e);if(0===o.length)return void this.detach();const h=Date.now(),y=o.map(e=>{let t;if('object'==typeof(n=e)&&'processedKeyframes'in n)t=this.attachedAnimations[e.processedKeyframes]??{keyframesRule:e,removable:!1,creationTimestamp:h};else{const n=e,i=(0,l.processKeyframeDefinitions)(n);t=this.attachedAnimations[i]??{keyframesRule:new c.CSSKeyframesRuleImpl(n,i),removable:!0,creationTimestamp:h}}var n;return this.unmountCleanupCalled&&(t.elapsedTime=h-t.creationTimestamp),t});this.unmountCleanupCalled=!1,this.updateAttachedAnimations(y),this.setElementAnimations(y,u)}unmountCleanup(){this.unmountCleanupCalled||(this.unmountCleanupCalled=!0,setTimeout(()=>{this.removeAnimationsFromStyleSheet(Object.values(this.attachedAnimations))}))}detach(){const e=Object.values(this.attachedAnimations);0!==e.length&&(this.element.style.animationDuration='',this.element.style.animationDelay='',this.element.style.animationDirection='',this.element.style.animationFillMode='',this.element.style.animationPlayState='',this.element.style.animationTimingFunction='',this.removeAnimationsFromStyleSheet(e),this.unmountCleanupCalled=!1,this.attachedAnimations={})}updateAttachedAnimations(e){const t={};e.forEach(e=>{const n=e.keyframesRule;n.processedKeyframes&&(0,u.insertCSSAnimation)(n.name,n.processedKeyframes),t[n.processedKeyframes]=e}),Object.values(this.attachedAnimations).forEach(({keyframesRule:e,removable:n})=>{n&&e.processedKeyframes&&!t[e.processedKeyframes]&&(0,u.removeCSSAnimation)(e.name)}),this.attachedAnimations=t}setElementAnimations(e,t){this.element.style.animationName=e.map(({keyframesRule:{name:e}})=>e).join(','),this.element.style.animationDuration=(0,h.maybeAddSuffixes)(t,'animationDuration','ms').join(',');const n=t.animationDelay??[];this.element.style.animationDelay=e.map(({elapsedTime:e},t)=>{const i=n[t]??0;return(0,o.maybeAddSuffix)(e?((0,s.normalizeTimeUnit)(i)??0)-e:i,'ms')}).join(','),t.animationIterationCount&&(this.element.style.animationIterationCount=t.animationIterationCount.join(',')),t.animationDirection&&(this.element.style.animationDirection=t.animationDirection.map(s.kebabizeCamelCase).join(',')),t.animationFillMode&&(this.element.style.animationFillMode=t.animationFillMode.join(',')),t.animationPlayState&&(this.element.style.animationPlayState=t.animationPlayState.join(',')),t.animationTimingFunction&&(this.element.style.animationTimingFunction=(0,h.parseTimingFunction)(t.animationTimingFunction))}removeAnimationsFromStyleSheet(e){e.forEach(({keyframesRule:{name:e,processedKeyframes:t},removable:n})=>{n&&t&&(0,u.removeCSSAnimation)(e)})}}});","lineCount":1,"map":[[1,30,1,0],[1,43,1,13],[1,49,1,13,"_excluded"],[1,51,1,13],[1,69,1,13,"Object"],[1,76,1,13,"defineProperty"],[1,91,1,13,"_e"],[1,94,1,13],[1,108,1,13,"value"],[1,115,1,13],[1,119,10,15,"Object"],[1,126,10,15,"defineProperty"],[1,141,10,15,"_e"],[1,144,10,15],[1,155,10,15,"enumerable"],[1,167,10,15],[1,169,10,15,"get"],[1,173,10,15],[1,191,10,15,"CSSAnimationsManager"],[1,192,10,15],[1,196,159,1],[1,200,1,13,"e"],[1,202,159,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[1,204,159,1,"r"],[1,206,159,1,"d"],[1,208,159,1],[1,212,159,1,"_objectWithoutPropertiesLoose"],[1,215,1,13,"e"],[1,217,159,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[1,221,1,13,"e"],[1,223,1,13,"__esModule"],[1,234,1,13,"e"],[1,236,1,13],[1,237,1,13,"default"],[1,245,1,13,"e"],[1,248,3,0,"_common"],[1,250,3,0,"r"],[1,252,3,0,"d"],[1,254,3,0],[1,258,4,0,"_utils"],[1,260,4,0,"r"],[1,262,4,0,"d"],[1,264,4,0],[1,268,5,0,"_animationParser"],[1,270,5,0,"r"],[1,272,5,0,"d"],[1,274,5,0],[1,278,6,0,"_domUtils"],[1,280,6,0,"r"],[1,282,6,0,"d"],[1,284,6,0],[1,288,7,0,"_keyframes"],[1,290,7,0,"r"],[1,292,7,0,"d"],[1,294,7,0],[1,298,8,0,"_utils2"],[1,300,8,0,"r"],[1,302,8,0,"d"],[1,304,8,0],[1,308,10,15],[1,314,10,21,"CSSAnimationsManager"],[1,316,12,2,"attachedAnimations"],[1,335,12,23],[1,336,12,24],[1,338,13,2,"unmountCleanupCalled"],[1,360,13,25],[1,362,14,2,"constructor"],[1,374,14,14,"element"],[1,378,15,4],[1,380,15,4,"configureWebCSSAnimations"],[1,382,15,29,"configureWebCSSAnimations"],[1,411,16,4,"this"],[1,416,16,9,"element"],[1,424,16,19,"element"],[1,425,17,2],[1,426,18,2,"update"],[1,433,18,9,"animationProperties"],[1,436,19,4],[1,440,19,9,"animationProperties"],[1,442,21,6],[1,454,20,6,"this"],[1,459,20,11,"detach"],[1,468,23,4],[1,474,23,4,"_convertPropertiesToA"],[1,477,26,8],[1,479,26,8,"convertPropertiesToArrays"],[1,481,26,33,"convertPropertiesToArrays"],[1,508,26,34,"animationProperties"],[1,512,24,6,"animationName"],[1,526,24,21,"definitions"],[1,529,26,5,"_convertPropertiesToA"],[1,531,25,9,"animationSettings"],[1,534,25,26],[1,536,25,26,"_objectWithoutPropertiesLoose"],[1,538,25,26,"default"],[1,547,25,26,"_convertPropertiesToA"],[1,549,25,26,"_excluded"],[1,552,27,4],[1,555,27,31],[1,559,27,8,"definitions"],[1,561,27,20,"length"],[1,568,29,6],[1,580,28,6,"this"],[1,585,28,11,"detach"],[1,594,31,4],[1,600,31,10,"timestamp"],[1,602,31,22,"Date"],[1,607,31,27,"now"],[1,613,32,10,"processedAnimations"],[1,615,32,32,"definitions"],[1,617,32,44,"map"],[1,621,32,48,"definition"],[1,625,33,6],[1,629,33,10,"processedAnimation"],[1,631,36,6],[1,634,9,65],[1,651,9,31,"keyframes"],[1,653,36,33,"definition"],[1,657,9,77],[1,680,9,101,"keyframes"],[1,682,37,8,"processedAnimation"],[1,684,37,29,"this"],[1,689,37,34,"attachedAnimations"],[1,708,37,53,"definition"],[1,710,37,64,"processedKeyframes"],[1,731,37,87],[1,732,38,10,"keyframesRule"],[1,746,38,25,"definition"],[1,748,39,10,"removable"],[1,759,39,21],[1,761,40,10,"creationTimestamp"],[1,779,40,29,"timestamp"],[1,786,42,13],[1,787,44,8],[1,793,44,14,"keyframes"],[1,795,44,26,"definition"],[1,797,45,14,"processedKeyframes"],[1,800,45,35],[1,802,45,35,"processKeyframeDefinitions"],[1,804,45,61,"processKeyframeDefinitions"],[1,832,45,62,"keyframes"],[1,835,49,8,"processedAnimation"],[1,837,49,29,"this"],[1,842,49,34,"attachedAnimations"],[1,861,49,53,"processedKeyframes"],[1,865,49,76],[1,866,50,10,"keyframesRule"],[1,880,50,25],[1,884,50,29,"CSSKeyframesRuleImpl"],[1,886,50,49,"CSSKeyframesRuleImpl"],[1,907,50,50,"keyframes"],[1,909,50,61,"processedKeyframes"],[1,912,51,10,"removable"],[1,923,51,21],[1,925,52,10,"creationTimestamp"],[1,943,52,29,"timestamp"],[1,945,54,6],[1,946,9,31,"keyframes"],[1,952,63,6],[1,959,55,10,"this"],[1,964,55,15,"unmountCleanupCalled"],[1,987,61,8,"processedAnimation"],[1,989,61,27,"elapsedTime"],[1,1001,61,41,"timestamp"],[1,1003,61,53,"processedAnimation"],[1,1005,61,72,"creationTimestamp"],[1,1024,63,13,"processedAnimation"],[1,1028,65,4,"this"],[1,1033,65,9,"unmountCleanupCalled"],[1,1055,65,32],[1,1057,66,4,"this"],[1,1062,66,9,"updateAttachedAnimations"],[1,1087,66,34,"processedAnimations"],[1,1090,67,4,"this"],[1,1095,67,9,"setElementAnimations"],[1,1116,67,30,"processedAnimations"],[1,1118,67,51,"animationSettings"],[1,1120,68,2],[1,1121,69,2,"unmountCleanup"],[1,1138,70,9,"this"],[1,1143,70,14,"unmountCleanupCalled"],[1,1166,71,6,"this"],[1,1171,71,11,"unmountCleanupCalled"],[1,1193,71,34],[1,1195,76,6,"setTimeout"],[1,1206,76,17],[1,1211,77,8,"this"],[1,1216,77,13,"removeAnimationsFromStyleSheet"],[1,1247,77,44,"Object"],[1,1254,77,51,"values"],[1,1261,77,58,"this"],[1,1266,77,63,"attachedAnimations"],[1,1289,80,2],[1,1290,81,2,"detach"],[1,1299,82,4],[1,1305,82,10,"attachedAnimations"],[1,1307,82,31,"Object"],[1,1314,82,38,"values"],[1,1321,82,45,"this"],[1,1326,82,50,"attachedAnimations"],[1,1346,83,38],[1,1350,83,8,"attachedAnimations"],[1,1352,83,27,"length"],[1,1361,86,4,"this"],[1,1366,86,9,"element"],[1,1374,86,17,"style"],[1,1380,86,23,"animationDuration"],[1,1398,86,43],[1,1401,87,4,"this"],[1,1406,87,9,"element"],[1,1414,87,17,"style"],[1,1420,87,23,"animationDelay"],[1,1435,87,40],[1,1438,88,4,"this"],[1,1443,88,9,"element"],[1,1451,88,17,"style"],[1,1457,88,23,"animationDirection"],[1,1476,88,44],[1,1479,89,4,"this"],[1,1484,89,9,"element"],[1,1492,89,17,"style"],[1,1498,89,23,"animationFillMode"],[1,1516,89,43],[1,1519,90,4,"this"],[1,1524,90,9,"element"],[1,1532,90,17,"style"],[1,1538,90,23,"animationPlayState"],[1,1557,90,44],[1,1560,91,4,"this"],[1,1565,91,9,"element"],[1,1573,91,17,"style"],[1,1579,91,23,"animationTimingFunction"],[1,1603,91,49],[1,1606,92,4,"this"],[1,1611,92,9,"removeAnimationsFromStyleSheet"],[1,1642,92,40,"attachedAnimations"],[1,1645,93,4,"this"],[1,1650,93,9,"unmountCleanupCalled"],[1,1672,93,32],[1,1674,94,4,"this"],[1,1679,94,9,"attachedAnimations"],[1,1698,94,30],[1,1699,94,31],[1,1701,95,2],[1,1702,96,2,"updateAttachedAnimations"],[1,1727,96,27,"processedAnimations"],[1,1730,97,4],[1,1736,97,10,"newAttachedAnimations"],[1,1738,97,34],[1,1739,97,35],[1,1741,98,4,"processedAnimations"],[1,1743,98,24,"forEach"],[1,1751,98,32,"processedAnimation"],[1,1755,99,6],[1,1761,99,12,"rule"],[1,1763,99,19,"processedAnimation"],[1,1765,99,38,"keyframesRule"],[1,1779,100,10,"rule"],[1,1781,100,15,"processedKeyframes"],[1,1802,102,8],[1,1804,102,8,"insertCSSAnimation"],[1,1806,102,26,"insertCSSAnimation"],[1,1826,102,27,"rule"],[1,1828,102,32,"name"],[1,1833,102,38,"rule"],[1,1835,102,43,"processedKeyframes"],[1,1855,104,6,"newAttachedAnimations"],[1,1857,104,28,"rule"],[1,1859,104,33,"processedKeyframes"],[1,1879,104,55,"processedAnimation"],[1,1883,106,4,"Object"],[1,1890,106,11,"values"],[1,1897,106,18,"this"],[1,1902,106,23,"attachedAnimations"],[1,1922,106,43,"forEach"],[1,1930,106,51],[1,1932,107,6,"keyframesRule"],[1,1946,107,21,"rule"],[1,1948,108,6,"removable"],[1,1964,110,10,"removable"],[1,1967,110,23,"rule"],[1,1969,110,28,"processedKeyframes"],[1,1990,110,51,"newAttachedAnimations"],[1,1992,110,73,"rule"],[1,1994,110,78,"processedKeyframes"],[1,2016,111,8],[1,2018,111,8,"removeCSSAnimation"],[1,2020,111,26,"removeCSSAnimation"],[1,2040,111,27,"rule"],[1,2042,111,32,"name"],[1,2050,114,4,"this"],[1,2055,114,9,"attachedAnimations"],[1,2074,114,30,"newAttachedAnimations"],[1,2075,115,2],[1,2076,116,2,"setElementAnimations"],[1,2097,116,23,"processedAnimations"],[1,2099,116,44,"animationSettings"],[1,2102,117,4,"this"],[1,2107,117,9,"element"],[1,2115,117,17,"style"],[1,2121,117,23,"animationName"],[1,2135,117,39,"processedAnimations"],[1,2137,117,59,"map"],[1,2141,117,63],[1,2143,118,6,"keyframesRule"],[1,2158,119,8,"name"],[1,2169,121,10,"name"],[1,2172,121,16,"join"],[1,2177,121,21],[1,2182,122,4,"this"],[1,2187,122,9,"element"],[1,2195,122,17,"style"],[1,2201,122,23,"animationDuration"],[1,2220,122,43],[1,2222,122,43,"maybeAddSuffixes"],[1,2224,122,59,"maybeAddSuffixes"],[1,2242,122,60,"animationSettings"],[1,2244,122,79],[1,2264,122,100],[1,2270,122,106,"join"],[1,2275,122,111],[1,2280,123,4],[1,2286,123,10,"animationDelays"],[1,2288,123,28,"animationSettings"],[1,2290,123,46,"animationDelay"],[1,2306,123,64],[1,2309,124,4,"this"],[1,2314,124,9,"element"],[1,2322,124,17,"style"],[1,2328,124,23,"animationDelay"],[1,2343,124,40,"processedAnimations"],[1,2345,124,60,"map"],[1,2349,124,64],[1,2351,125,6,"elapsedTime"],[1,2366,126,7,"i"],[1,2371,127,6],[1,2377,127,12,"providedDelay"],[1,2379,127,28,"animationDelays"],[1,2381,127,44,"i"],[1,2385,127,50],[1,2387,128,6],[1,2394,128,13],[1,2396,128,13,"maybeAddSuffix"],[1,2398,128,27,"maybeAddSuffix"],[1,2414,128,28,"elapsedTime"],[1,2418,128,43],[1,2420,128,43,"normalizeTimeUnit"],[1,2422,128,60,"normalizeTimeUnit"],[1,2441,128,61,"providedDelay"],[1,2445,128,79],[1,2448,128,84,"elapsedTime"],[1,2450,128,98,"providedDelay"],[1,2452,128,113],[1,2460,129,7,"join"],[1,2465,129,12],[1,2470,130,8,"animationSettings"],[1,2472,130,26,"animationIterationCount"],[1,2498,131,6,"this"],[1,2503,131,11,"element"],[1,2511,131,19,"style"],[1,2517,131,25,"animationIterationCount"],[1,2541,131,51,"animationSettings"],[1,2543,131,69,"animationIterationCount"],[1,2567,131,93,"join"],[1,2572,131,98],[1,2578,133,8,"animationSettings"],[1,2580,133,26,"animationDirection"],[1,2601,134,6,"this"],[1,2606,134,11,"element"],[1,2614,134,19,"style"],[1,2620,134,25,"animationDirection"],[1,2639,134,46,"animationSettings"],[1,2641,134,64,"animationDirection"],[1,2660,134,83,"map"],[1,2664,134,87,"kebabizeCamelCase"],[1,2666,134,104,"kebabizeCamelCase"],[1,2685,134,106,"join"],[1,2690,134,111],[1,2696,136,8,"animationSettings"],[1,2698,136,26,"animationFillMode"],[1,2718,137,6,"this"],[1,2723,137,11,"element"],[1,2731,137,19,"style"],[1,2737,137,25,"animationFillMode"],[1,2755,137,45,"animationSettings"],[1,2757,137,63,"animationFillMode"],[1,2775,137,81,"join"],[1,2780,137,86],[1,2786,139,8,"animationSettings"],[1,2788,139,26,"animationPlayState"],[1,2809,140,6,"this"],[1,2814,140,11,"element"],[1,2822,140,19,"style"],[1,2828,140,25,"animationPlayState"],[1,2847,140,46,"animationSettings"],[1,2849,140,64,"animationPlayState"],[1,2868,140,83,"join"],[1,2873,140,88],[1,2879,142,8,"animationSettings"],[1,2881,142,26,"animationTimingFunction"],[1,2907,143,6,"this"],[1,2912,143,11,"element"],[1,2920,143,19,"style"],[1,2926,143,25,"animationTimingFunction"],[1,2951,143,51],[1,2953,143,51,"parseTimingFunction"],[1,2955,143,70,"parseTimingFunction"],[1,2976,143,71,"animationSettings"],[1,2978,143,89,"animationTimingFunction"],[1,3003,145,2],[1,3004,146,2,"removeAnimationsFromStyleSheet"],[1,3035,146,33,"animations"],[1,3038,147,4,"animations"],[1,3040,147,15,"forEach"],[1,3048,147,23],[1,3050,148,6,"keyframesRule"],[1,3065,149,8,"name"],[1,3072,150,8,"processedKeyframes"],[1,3094,152,6,"removable"],[1,3110,154,10,"removable"],[1,3113,154,23,"processedKeyframes"],[1,3117,155,8],[1,3119,155,8,"removeCSSAnimation"],[1,3121,155,26,"removeCSSAnimation"],[1,3141,155,27,"name"],[1,3145,158,2],[1,3147,159,1],[1,3150]],"functionMap":{"names":["<global>","isCSSKeyframesRuleImpl","CSSAnimationsManager","constructor","update","definitions.map$argument_0","unmountCleanup","setTimeout$argument_0","detach","updateAttachedAnimations","processedAnimations.forEach$argument_0","Object.values.forEach$argument_0","setElementAnimations","processedAnimations.map$argument_0","removeAnimationsFromStyleSheet","animations.forEach$argument_0"],"mappings":"AAA;+BCQ,+ED;eEC;ECI;GDG;EEC;gDCc;KDgC;GFI;EIC;iBCO;ODE;GJE;EMC;GNc;EOC;gCCE;KDO;mDEC;KFO;GPE;EUC;+DCC;cDI;gECG;KDK;GVgB;EYC;uBCC;KDU;GZC;CFC"},"hasCjsExports":false},"type":"js/module"}]}